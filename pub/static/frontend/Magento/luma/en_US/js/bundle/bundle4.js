require.config({"config": {
        "jsbuild":{"Mageplaza_Core/lib/fileUploader/jquery.fileupload.js":"/*\r\n * jQuery File Upload Plugin\r\n * https://github.com/blueimp/jQuery-File-Upload\r\n *\r\n * Copyright 2010, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, require */\r\n/* eslint-disable new-cap */\r\n\r\n(function (factory) {\r\n  'use strict';\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['jquery', 'Mageplaza_Core/lib/fileUploader/vendor/jquery.ui.widget'], factory);\r\n  } else if (typeof exports === 'object') {\r\n    // Node/CommonJS:\r\n    factory(require('jquery'), require('Mageplaza_Core/lib/fileUploader/vendor/jquery.ui.widget'));\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.jQuery);\r\n  }\r\n})(function ($) {\r\n  'use strict';\r\n\r\n  // Detect file input support, based on\r\n  // https://viljamis.com/2012/file-upload-support-on-mobile/\r\n  $.support.fileInput = !(\r\n    new RegExp(\r\n      // Handle devices which give false positives for the feature detection:\r\n      '(Android (1\\\\.[0156]|2\\\\.[01]))' +\r\n        '|(Windows Phone (OS 7|8\\\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)' +\r\n        '|(w(eb)?OSBrowser)|(webOS)' +\r\n        '|(Kindle/(1\\\\.0|2\\\\.[05]|3\\\\.0))'\r\n    ).test(window.navigator.userAgent) ||\r\n    // Feature detection for all other devices:\r\n    $('<input type=\"file\"/>').prop('disabled')\r\n  );\r\n\r\n  // The FileReader API is not actually used, but works as feature detection,\r\n  // as some Safari versions (5?) support XHR file uploads via the FormData API,\r\n  // but not non-multipart XHR file uploads.\r\n  // window.XMLHttpRequestUpload is not available on IE10, so we check for\r\n  // window.ProgressEvent instead to detect XHR2 file upload capability:\r\n  $.support.xhrFileUpload = !!(window.ProgressEvent && window.FileReader);\r\n  $.support.xhrFormDataFileUpload = !!window.FormData;\r\n\r\n  // Detect support for Blob slicing (required for chunked uploads):\r\n  $.support.blobSlice =\r\n    window.Blob &&\r\n    (Blob.prototype.slice ||\r\n      Blob.prototype.webkitSlice ||\r\n      Blob.prototype.mozSlice);\r\n\r\n  /**\r\n   * Helper function to create drag handlers for dragover/dragenter/dragleave\r\n   *\r\n   * @param {string} type Event type\r\n   * @returns {Function} Drag handler\r\n   */\r\n  function getDragHandler(type) {\r\n    var isDragOver = type === 'dragover';\r\n    return function (e) {\r\n      e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;\r\n      var dataTransfer = e.dataTransfer;\r\n      if (\r\n        dataTransfer &&\r\n        $.inArray('Files', dataTransfer.types) !== -1 &&\r\n        this._trigger(type, $.Event(type, { delegatedEvent: e })) !== false\r\n      ) {\r\n        e.preventDefault();\r\n        if (isDragOver) {\r\n          dataTransfer.dropEffect = 'copy';\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  // The fileupload widget listens for change events on file input fields defined\r\n  // via fileInput setting and paste or drop events of the given dropZone.\r\n  // In addition to the default jQuery Widget methods, the fileupload widget\r\n  // exposes the \"add\" and \"send\" methods, to add or directly send files using\r\n  // the fileupload API.\r\n  // By default, files added via file input selection, paste, drag & drop or\r\n  // \"add\" method are uploaded immediately, but it is possible to override\r\n  // the \"add\" callback option to queue file uploads.\r\n  $.widget('blueimp.fileupload', {\r\n    options: {\r\n      // The drop target element(s), by the default the complete document.\r\n      // Set to null to disable drag & drop support:\r\n      dropZone: $(document),\r\n      // The paste target element(s), by the default undefined.\r\n      // Set to a DOM node or jQuery object to enable file pasting:\r\n      pasteZone: undefined,\r\n      // The file input field(s), that are listened to for change events.\r\n      // If undefined, it is set to the file input fields inside\r\n      // of the widget element on plugin initialization.\r\n      // Set to null to disable the change listener.\r\n      fileInput: undefined,\r\n      // By default, the file input field is replaced with a clone after\r\n      // each input field change event. This is required for iframe transport\r\n      // queues and allows change events to be fired for the same file\r\n      // selection, but can be disabled by setting the following option to false:\r\n      replaceFileInput: true,\r\n      // The parameter name for the file form data (the request argument name).\r\n      // If undefined or empty, the name property of the file input field is\r\n      // used, or \"files[]\" if the file input name property is also empty,\r\n      // can be a string or an array of strings:\r\n      paramName: undefined,\r\n      // By default, each file of a selection is uploaded using an individual\r\n      // request for XHR type uploads. Set to false to upload file\r\n      // selections in one request each:\r\n      singleFileUploads: true,\r\n      // To limit the number of files uploaded with one XHR request,\r\n      // set the following option to an integer greater than 0:\r\n      limitMultiFileUploads: undefined,\r\n      // The following option limits the number of files uploaded with one\r\n      // XHR request to keep the request size under or equal to the defined\r\n      // limit in bytes:\r\n      limitMultiFileUploadSize: undefined,\r\n      // Multipart file uploads add a number of bytes to each uploaded file,\r\n      // therefore the following option adds an overhead for each file used\r\n      // in the limitMultiFileUploadSize configuration:\r\n      limitMultiFileUploadSizeOverhead: 512,\r\n      // Set the following option to true to issue all file upload requests\r\n      // in a sequential order:\r\n      sequentialUploads: false,\r\n      // To limit the number of concurrent uploads,\r\n      // set the following option to an integer greater than 0:\r\n      limitConcurrentUploads: undefined,\r\n      // Set the following option to true to force iframe transport uploads:\r\n      forceIframeTransport: false,\r\n      // Set the following option to the location of a redirect url on the\r\n      // origin server, for cross-domain iframe transport uploads:\r\n      redirect: undefined,\r\n      // The parameter name for the redirect url, sent as part of the form\r\n      // data and set to 'redirect' if this option is empty:\r\n      redirectParamName: undefined,\r\n      // Set the following option to the location of a postMessage window,\r\n      // to enable postMessage transport uploads:\r\n      postMessage: undefined,\r\n      // By default, XHR file uploads are sent as multipart/form-data.\r\n      // The iframe transport is always using multipart/form-data.\r\n      // Set to false to enable non-multipart XHR uploads:\r\n      multipart: true,\r\n      // To upload large files in smaller chunks, set the following option\r\n      // to a preferred maximum chunk size. If set to 0, null or undefined,\r\n      // or the browser does not support the required Blob API, files will\r\n      // be uploaded as a whole.\r\n      maxChunkSize: undefined,\r\n      // When a non-multipart upload or a chunked multipart upload has been\r\n      // aborted, this option can be used to resume the upload by setting\r\n      // it to the size of the already uploaded bytes. This option is most\r\n      // useful when modifying the options object inside of the \"add\" or\r\n      // \"send\" callbacks, as the options are cloned for each file upload.\r\n      uploadedBytes: undefined,\r\n      // By default, failed (abort or error) file uploads are removed from the\r\n      // global progress calculation. Set the following option to false to\r\n      // prevent recalculating the global progress data:\r\n      recalculateProgress: true,\r\n      // Interval in milliseconds to calculate and trigger progress events:\r\n      progressInterval: 100,\r\n      // Interval in milliseconds to calculate progress bitrate:\r\n      bitrateInterval: 500,\r\n      // By default, uploads are started automatically when adding files:\r\n      autoUpload: true,\r\n      // By default, duplicate file names are expected to be handled on\r\n      // the server-side. If this is not possible (e.g. when uploading\r\n      // files directly to Amazon S3), the following option can be set to\r\n      // an empty object or an object mapping existing filenames, e.g.:\r\n      // { \"image.jpg\": true, \"image (1).jpg\": true }\r\n      // If it is set, all files will be uploaded with unique filenames,\r\n      // adding increasing number suffixes if necessary, e.g.:\r\n      // \"image (2).jpg\"\r\n      uniqueFilenames: undefined,\r\n\r\n      // Error and info messages:\r\n      messages: {\r\n        uploadedBytes: 'Uploaded bytes exceed file size'\r\n      },\r\n\r\n      // Translation function, gets the message key to be translated\r\n      // and an object with context specific data as arguments:\r\n      i18n: function (message, context) {\r\n        // eslint-disable-next-line no-param-reassign\r\n        message = this.messages[message] || message.toString();\r\n        if (context) {\r\n          $.each(context, function (key, value) {\r\n            // eslint-disable-next-line no-param-reassign\r\n            message = message.replace('{' + key + '}', value);\r\n          });\r\n        }\r\n        return message;\r\n      },\r\n\r\n      // Additional form data to be sent along with the file uploads can be set\r\n      // using this option, which accepts an array of objects with name and\r\n      // value properties, a function returning such an array, a FormData\r\n      // object (for XHR file uploads), or a simple object.\r\n      // The form of the first fileInput is given as parameter to the function:\r\n      formData: function (form) {\r\n        return form.serializeArray();\r\n      },\r\n\r\n      // The add callback is invoked as soon as files are added to the fileupload\r\n      // widget (via file input selection, drag & drop, paste or add API call).\r\n      // If the singleFileUploads option is enabled, this callback will be\r\n      // called once for each file in the selection for XHR file uploads, else\r\n      // once for each file selection.\r\n      //\r\n      // The upload starts when the submit method is invoked on the data parameter.\r\n      // The data object contains a files property holding the added files\r\n      // and allows you to override plugin options as well as define ajax settings.\r\n      //\r\n      // Listeners for this callback can also be bound the following way:\r\n      // .on('fileuploadadd', func);\r\n      //\r\n      // data.submit() returns a Promise object and allows to attach additional\r\n      // handlers using jQuery's Deferred callbacks:\r\n      // data.submit().done(func).fail(func).always(func);\r\n      add: function (e, data) {\r\n        if (e.isDefaultPrevented()) {\r\n          return false;\r\n        }\r\n        if (\r\n          data.autoUpload ||\r\n          (data.autoUpload !== false &&\r\n            $(this).fileupload('option', 'autoUpload'))\r\n        ) {\r\n          data.process().done(function () {\r\n            data.submit();\r\n          });\r\n        }\r\n      },\r\n\r\n      // Other callbacks:\r\n\r\n      // Callback for the submit event of each file upload:\r\n      // submit: function (e, data) {}, // .on('fileuploadsubmit', func);\r\n\r\n      // Callback for the start of each file upload request:\r\n      // send: function (e, data) {}, // .on('fileuploadsend', func);\r\n\r\n      // Callback for successful uploads:\r\n      // done: function (e, data) {}, // .on('fileuploaddone', func);\r\n\r\n      // Callback for failed (abort or error) uploads:\r\n      // fail: function (e, data) {}, // .on('fileuploadfail', func);\r\n\r\n      // Callback for completed (success, abort or error) requests:\r\n      // always: function (e, data) {}, // .on('fileuploadalways', func);\r\n\r\n      // Callback for upload progress events:\r\n      // progress: function (e, data) {}, // .on('fileuploadprogress', func);\r\n\r\n      // Callback for global upload progress events:\r\n      // progressall: function (e, data) {}, // .on('fileuploadprogressall', func);\r\n\r\n      // Callback for uploads start, equivalent to the global ajaxStart event:\r\n      // start: function (e) {}, // .on('fileuploadstart', func);\r\n\r\n      // Callback for uploads stop, equivalent to the global ajaxStop event:\r\n      // stop: function (e) {}, // .on('fileuploadstop', func);\r\n\r\n      // Callback for change events of the fileInput(s):\r\n      // change: function (e, data) {}, // .on('fileuploadchange', func);\r\n\r\n      // Callback for paste events to the pasteZone(s):\r\n      // paste: function (e, data) {}, // .on('fileuploadpaste', func);\r\n\r\n      // Callback for drop events of the dropZone(s):\r\n      // drop: function (e, data) {}, // .on('fileuploaddrop', func);\r\n\r\n      // Callback for dragover events of the dropZone(s):\r\n      // dragover: function (e) {}, // .on('fileuploaddragover', func);\r\n\r\n      // Callback before the start of each chunk upload request (before form data initialization):\r\n      // chunkbeforesend: function (e, data) {}, // .on('fileuploadchunkbeforesend', func);\r\n\r\n      // Callback for the start of each chunk upload request:\r\n      // chunksend: function (e, data) {}, // .on('fileuploadchunksend', func);\r\n\r\n      // Callback for successful chunk uploads:\r\n      // chunkdone: function (e, data) {}, // .on('fileuploadchunkdone', func);\r\n\r\n      // Callback for failed (abort or error) chunk uploads:\r\n      // chunkfail: function (e, data) {}, // .on('fileuploadchunkfail', func);\r\n\r\n      // Callback for completed (success, abort or error) chunk upload requests:\r\n      // chunkalways: function (e, data) {}, // .on('fileuploadchunkalways', func);\r\n\r\n      // The plugin options are used as settings object for the ajax calls.\r\n      // The following are jQuery ajax settings required for the file uploads:\r\n      processData: false,\r\n      contentType: false,\r\n      cache: false,\r\n      timeout: 0\r\n    },\r\n\r\n    // jQuery versions before 1.8 require promise.pipe if the return value is\r\n    // used, as promise.then in older versions has a different behavior, see:\r\n    // https://blog.jquery.com/2012/08/09/jquery-1-8-released/\r\n    // https://bugs.jquery.com/ticket/11010\r\n    // https://github.com/blueimp/jQuery-File-Upload/pull/3435\r\n    _promisePipe: (function () {\r\n      var parts = $.fn.jquery.split('.');\r\n      return Number(parts[0]) > 1 || Number(parts[1]) > 7 ? 'then' : 'pipe';\r\n    })(),\r\n\r\n    // A list of options that require reinitializing event listeners and/or\r\n    // special initialization code:\r\n    _specialOptions: [\r\n      'fileInput',\r\n      'dropZone',\r\n      'pasteZone',\r\n      'multipart',\r\n      'forceIframeTransport'\r\n    ],\r\n\r\n    _blobSlice:\r\n      $.support.blobSlice &&\r\n      function () {\r\n        var slice = this.slice || this.webkitSlice || this.mozSlice;\r\n        return slice.apply(this, arguments);\r\n      },\r\n\r\n    _BitrateTimer: function () {\r\n      this.timestamp = Date.now ? Date.now() : new Date().getTime();\r\n      this.loaded = 0;\r\n      this.bitrate = 0;\r\n      this.getBitrate = function (now, loaded, interval) {\r\n        var timeDiff = now - this.timestamp;\r\n        if (!this.bitrate || !interval || timeDiff > interval) {\r\n          this.bitrate = (loaded - this.loaded) * (1000 / timeDiff) * 8;\r\n          this.loaded = loaded;\r\n          this.timestamp = now;\r\n        }\r\n        return this.bitrate;\r\n      };\r\n    },\r\n\r\n    _isXHRUpload: function (options) {\r\n      return (\r\n        !options.forceIframeTransport &&\r\n        ((!options.multipart && $.support.xhrFileUpload) ||\r\n          $.support.xhrFormDataFileUpload)\r\n      );\r\n    },\r\n\r\n    _getFormData: function (options) {\r\n      var formData;\r\n      if ($.type(options.formData) === 'function') {\r\n        return options.formData(options.form);\r\n      }\r\n      if ($.isArray(options.formData)) {\r\n        return options.formData;\r\n      }\r\n      if ($.type(options.formData) === 'object') {\r\n        formData = [];\r\n        $.each(options.formData, function (name, value) {\r\n          formData.push({ name: name, value: value });\r\n        });\r\n        return formData;\r\n      }\r\n      return [];\r\n    },\r\n\r\n    _getTotal: function (files) {\r\n      var total = 0;\r\n      $.each(files, function (index, file) {\r\n        total += file.size || 1;\r\n      });\r\n      return total;\r\n    },\r\n\r\n    _initProgressObject: function (obj) {\r\n      var progress = {\r\n        loaded: 0,\r\n        total: 0,\r\n        bitrate: 0\r\n      };\r\n      if (obj._progress) {\r\n        $.extend(obj._progress, progress);\r\n      } else {\r\n        obj._progress = progress;\r\n      }\r\n    },\r\n\r\n    _initResponseObject: function (obj) {\r\n      var prop;\r\n      if (obj._response) {\r\n        for (prop in obj._response) {\r\n          if (Object.prototype.hasOwnProperty.call(obj._response, prop)) {\r\n            delete obj._response[prop];\r\n          }\r\n        }\r\n      } else {\r\n        obj._response = {};\r\n      }\r\n    },\r\n\r\n    _onProgress: function (e, data) {\r\n      if (e.lengthComputable) {\r\n        var now = Date.now ? Date.now() : new Date().getTime(),\r\n          loaded;\r\n        if (\r\n          data._time &&\r\n          data.progressInterval &&\r\n          now - data._time < data.progressInterval &&\r\n          e.loaded !== e.total\r\n        ) {\r\n          return;\r\n        }\r\n        data._time = now;\r\n        loaded =\r\n          Math.floor(\r\n            (e.loaded / e.total) * (data.chunkSize || data._progress.total)\r\n          ) + (data.uploadedBytes || 0);\r\n        // Add the difference from the previously loaded state\r\n        // to the global loaded counter:\r\n        this._progress.loaded += loaded - data._progress.loaded;\r\n        this._progress.bitrate = this._bitrateTimer.getBitrate(\r\n          now,\r\n          this._progress.loaded,\r\n          data.bitrateInterval\r\n        );\r\n        data._progress.loaded = data.loaded = loaded;\r\n        data._progress.bitrate = data.bitrate = data._bitrateTimer.getBitrate(\r\n          now,\r\n          loaded,\r\n          data.bitrateInterval\r\n        );\r\n        // Trigger a custom progress event with a total data property set\r\n        // to the file size(s) of the current upload and a loaded data\r\n        // property calculated accordingly:\r\n        this._trigger(\r\n          'progress',\r\n          $.Event('progress', { delegatedEvent: e }),\r\n          data\r\n        );\r\n        // Trigger a global progress event for all current file uploads,\r\n        // including ajax calls queued for sequential file uploads:\r\n        this._trigger(\r\n          'progressall',\r\n          $.Event('progressall', { delegatedEvent: e }),\r\n          this._progress\r\n        );\r\n      }\r\n    },\r\n\r\n    _initProgressListener: function (options) {\r\n      var that = this,\r\n        xhr = options.xhr ? options.xhr() : $.ajaxSettings.xhr();\r\n      // Access to the native XHR object is required to add event listeners\r\n      // for the upload progress event:\r\n      if (xhr.upload) {\r\n        $(xhr.upload).on('progress', function (e) {\r\n          var oe = e.originalEvent;\r\n          // Make sure the progress event properties get copied over:\r\n          e.lengthComputable = oe.lengthComputable;\r\n          e.loaded = oe.loaded;\r\n          e.total = oe.total;\r\n          that._onProgress(e, options);\r\n        });\r\n        options.xhr = function () {\r\n          return xhr;\r\n        };\r\n      }\r\n    },\r\n\r\n    _deinitProgressListener: function (options) {\r\n      var xhr = options.xhr ? options.xhr() : $.ajaxSettings.xhr();\r\n      if (xhr.upload) {\r\n        $(xhr.upload).off('progress');\r\n      }\r\n    },\r\n\r\n    _isInstanceOf: function (type, obj) {\r\n      // Cross-frame instanceof check\r\n      return Object.prototype.toString.call(obj) === '[object ' + type + ']';\r\n    },\r\n\r\n    _getUniqueFilename: function (name, map) {\r\n      // eslint-disable-next-line no-param-reassign\r\n      name = String(name);\r\n      if (map[name]) {\r\n        // eslint-disable-next-line no-param-reassign\r\n        name = name.replace(\r\n          /(?: \\(([\\d]+)\\))?(\\.[^.]+)?$/,\r\n          function (_, p1, p2) {\r\n            var index = p1 ? Number(p1) + 1 : 1;\r\n            var ext = p2 || '';\r\n            return ' (' + index + ')' + ext;\r\n          }\r\n        );\r\n        return this._getUniqueFilename(name, map);\r\n      }\r\n      map[name] = true;\r\n      return name;\r\n    },\r\n\r\n    _initXHRData: function (options) {\r\n      var that = this,\r\n        formData,\r\n        file = options.files[0],\r\n        // Ignore non-multipart setting if not supported:\r\n        multipart = options.multipart || !$.support.xhrFileUpload,\r\n        paramName =\r\n          $.type(options.paramName) === 'array'\r\n            ? options.paramName[0]\r\n            : options.paramName;\r\n      options.headers = $.extend({}, options.headers);\r\n      if (options.contentRange) {\r\n        options.headers['Content-Range'] = options.contentRange;\r\n      }\r\n      if (!multipart || options.blob || !this._isInstanceOf('File', file)) {\r\n        options.headers['Content-Disposition'] =\r\n          'attachment; filename=\"' +\r\n          encodeURI(file.uploadName || file.name) +\r\n          '\"';\r\n      }\r\n      if (!multipart) {\r\n        options.contentType = file.type || 'application/octet-stream';\r\n        options.data = options.blob || file;\r\n      } else if ($.support.xhrFormDataFileUpload) {\r\n        if (options.postMessage) {\r\n          // window.postMessage does not allow sending FormData\r\n          // objects, so we just add the File/Blob objects to\r\n          // the formData array and let the postMessage window\r\n          // create the FormData object out of this array:\r\n          formData = this._getFormData(options);\r\n          if (options.blob) {\r\n            formData.push({\r\n              name: paramName,\r\n              value: options.blob\r\n            });\r\n          } else {\r\n            $.each(options.files, function (index, file) {\r\n              formData.push({\r\n                name:\r\n                  ($.type(options.paramName) === 'array' &&\r\n                    options.paramName[index]) ||\r\n                  paramName,\r\n                value: file\r\n              });\r\n            });\r\n          }\r\n        } else {\r\n          if (that._isInstanceOf('FormData', options.formData)) {\r\n            formData = options.formData;\r\n          } else {\r\n            formData = new FormData();\r\n            $.each(this._getFormData(options), function (index, field) {\r\n              formData.append(field.name, field.value);\r\n            });\r\n          }\r\n          if (options.blob) {\r\n            formData.append(\r\n              paramName,\r\n              options.blob,\r\n              file.uploadName || file.name\r\n            );\r\n          } else {\r\n            $.each(options.files, function (index, file) {\r\n              // This check allows the tests to run with\r\n              // dummy objects:\r\n              if (\r\n                that._isInstanceOf('File', file) ||\r\n                that._isInstanceOf('Blob', file)\r\n              ) {\r\n                var fileName = file.uploadName || file.name;\r\n                if (options.uniqueFilenames) {\r\n                  fileName = that._getUniqueFilename(\r\n                    fileName,\r\n                    options.uniqueFilenames\r\n                  );\r\n                }\r\n                formData.append(\r\n                  ($.type(options.paramName) === 'array' &&\r\n                    options.paramName[index]) ||\r\n                    paramName,\r\n                  file,\r\n                  fileName\r\n                );\r\n              }\r\n            });\r\n          }\r\n        }\r\n        options.data = formData;\r\n      }\r\n      // Blob reference is not needed anymore, free memory:\r\n      options.blob = null;\r\n    },\r\n\r\n    _initIframeSettings: function (options) {\r\n      var targetHost = $('<a></a>').prop('href', options.url).prop('host');\r\n      // Setting the dataType to iframe enables the iframe transport:\r\n      options.dataType = 'iframe ' + (options.dataType || '');\r\n      // The iframe transport accepts a serialized array as form data:\r\n      options.formData = this._getFormData(options);\r\n      // Add redirect url to form data on cross-domain uploads:\r\n      if (options.redirect && targetHost && targetHost !== location.host) {\r\n        options.formData.push({\r\n          name: options.redirectParamName || 'redirect',\r\n          value: options.redirect\r\n        });\r\n      }\r\n    },\r\n\r\n    _initDataSettings: function (options) {\r\n      if (this._isXHRUpload(options)) {\r\n        if (!this._chunkedUpload(options, true)) {\r\n          if (!options.data) {\r\n            this._initXHRData(options);\r\n          }\r\n          this._initProgressListener(options);\r\n        }\r\n        if (options.postMessage) {\r\n          // Setting the dataType to postmessage enables the\r\n          // postMessage transport:\r\n          options.dataType = 'postmessage ' + (options.dataType || '');\r\n        }\r\n      } else {\r\n        this._initIframeSettings(options);\r\n      }\r\n    },\r\n\r\n    _getParamName: function (options) {\r\n      var fileInput = $(options.fileInput),\r\n        paramName = options.paramName;\r\n      if (!paramName) {\r\n        paramName = [];\r\n        fileInput.each(function () {\r\n          var input = $(this),\r\n            name = input.prop('name') || 'files[]',\r\n            i = (input.prop('files') || [1]).length;\r\n          while (i) {\r\n            paramName.push(name);\r\n            i -= 1;\r\n          }\r\n        });\r\n        if (!paramName.length) {\r\n          paramName = [fileInput.prop('name') || 'files[]'];\r\n        }\r\n      } else if (!$.isArray(paramName)) {\r\n        paramName = [paramName];\r\n      }\r\n      return paramName;\r\n    },\r\n\r\n    _initFormSettings: function (options) {\r\n      // Retrieve missing options from the input field and the\r\n      // associated form, if available:\r\n      if (!options.form || !options.form.length) {\r\n        options.form = $(options.fileInput.prop('form'));\r\n        // If the given file input doesn't have an associated form,\r\n        // use the default widget file input's form:\r\n        if (!options.form.length) {\r\n          options.form = $(this.options.fileInput.prop('form'));\r\n        }\r\n      }\r\n      options.paramName = this._getParamName(options);\r\n      if (!options.url) {\r\n        options.url = options.form.prop('action') || location.href;\r\n      }\r\n      // The HTTP request method must be \"POST\" or \"PUT\":\r\n      options.type = (\r\n        options.type ||\r\n        ($.type(options.form.prop('method')) === 'string' &&\r\n          options.form.prop('method')) ||\r\n        ''\r\n      ).toUpperCase();\r\n      if (\r\n        options.type !== 'POST' &&\r\n        options.type !== 'PUT' &&\r\n        options.type !== 'PATCH'\r\n      ) {\r\n        options.type = 'POST';\r\n      }\r\n      if (!options.formAcceptCharset) {\r\n        options.formAcceptCharset = options.form.attr('accept-charset');\r\n      }\r\n    },\r\n\r\n    _getAJAXSettings: function (data) {\r\n      var options = $.extend({}, this.options, data);\r\n      this._initFormSettings(options);\r\n      this._initDataSettings(options);\r\n      return options;\r\n    },\r\n\r\n    // jQuery 1.6 doesn't provide .state(),\r\n    // while jQuery 1.8+ removed .isRejected() and .isResolved():\r\n    _getDeferredState: function (deferred) {\r\n      if (deferred.state) {\r\n        return deferred.state();\r\n      }\r\n      if (deferred.isResolved()) {\r\n        return 'resolved';\r\n      }\r\n      if (deferred.isRejected()) {\r\n        return 'rejected';\r\n      }\r\n      return 'pending';\r\n    },\r\n\r\n    // Maps jqXHR callbacks to the equivalent\r\n    // methods of the given Promise object:\r\n    _enhancePromise: function (promise) {\r\n      promise.success = promise.done;\r\n      promise.error = promise.fail;\r\n      promise.complete = promise.always;\r\n      return promise;\r\n    },\r\n\r\n    // Creates and returns a Promise object enhanced with\r\n    // the jqXHR methods abort, success, error and complete:\r\n    _getXHRPromise: function (resolveOrReject, context, args) {\r\n      var dfd = $.Deferred(),\r\n        promise = dfd.promise();\r\n      // eslint-disable-next-line no-param-reassign\r\n      context = context || this.options.context || promise;\r\n      if (resolveOrReject === true) {\r\n        dfd.resolveWith(context, args);\r\n      } else if (resolveOrReject === false) {\r\n        dfd.rejectWith(context, args);\r\n      }\r\n      promise.abort = dfd.promise;\r\n      return this._enhancePromise(promise);\r\n    },\r\n\r\n    // Adds convenience methods to the data callback argument:\r\n    _addConvenienceMethods: function (e, data) {\r\n      var that = this,\r\n        getPromise = function (args) {\r\n          return $.Deferred().resolveWith(that, args).promise();\r\n        };\r\n      data.process = function (resolveFunc, rejectFunc) {\r\n        if (resolveFunc || rejectFunc) {\r\n          data._processQueue = this._processQueue = (this._processQueue ||\r\n            getPromise([this]))\r\n            [that._promisePipe](function () {\r\n              if (data.errorThrown) {\r\n                return $.Deferred().rejectWith(that, [data]).promise();\r\n              }\r\n              return getPromise(arguments);\r\n            })\r\n            [that._promisePipe](resolveFunc, rejectFunc);\r\n        }\r\n        return this._processQueue || getPromise([this]);\r\n      };\r\n      data.submit = function () {\r\n        if (this.state() !== 'pending') {\r\n          data.jqXHR = this.jqXHR =\r\n            that._trigger(\r\n              'submit',\r\n              $.Event('submit', { delegatedEvent: e }),\r\n              this\r\n            ) !== false && that._onSend(e, this);\r\n        }\r\n        return this.jqXHR || that._getXHRPromise();\r\n      };\r\n      data.abort = function () {\r\n        if (this.jqXHR) {\r\n          return this.jqXHR.abort();\r\n        }\r\n        this.errorThrown = 'abort';\r\n        that._trigger('fail', null, this);\r\n        return that._getXHRPromise(false);\r\n      };\r\n      data.state = function () {\r\n        if (this.jqXHR) {\r\n          return that._getDeferredState(this.jqXHR);\r\n        }\r\n        if (this._processQueue) {\r\n          return that._getDeferredState(this._processQueue);\r\n        }\r\n      };\r\n      data.processing = function () {\r\n        return (\r\n          !this.jqXHR &&\r\n          this._processQueue &&\r\n          that._getDeferredState(this._processQueue) === 'pending'\r\n        );\r\n      };\r\n      data.progress = function () {\r\n        return this._progress;\r\n      };\r\n      data.response = function () {\r\n        return this._response;\r\n      };\r\n    },\r\n\r\n    // Parses the Range header from the server response\r\n    // and returns the uploaded bytes:\r\n    _getUploadedBytes: function (jqXHR) {\r\n      var range = jqXHR.getResponseHeader('Range'),\r\n        parts = range && range.split('-'),\r\n        upperBytesPos = parts && parts.length > 1 && parseInt(parts[1], 10);\r\n      return upperBytesPos && upperBytesPos + 1;\r\n    },\r\n\r\n    // Uploads a file in multiple, sequential requests\r\n    // by splitting the file up in multiple blob chunks.\r\n    // If the second parameter is true, only tests if the file\r\n    // should be uploaded in chunks, but does not invoke any\r\n    // upload requests:\r\n    _chunkedUpload: function (options, testOnly) {\r\n      options.uploadedBytes = options.uploadedBytes || 0;\r\n      var that = this,\r\n        file = options.files[0],\r\n        fs = file.size,\r\n        ub = options.uploadedBytes,\r\n        mcs = options.maxChunkSize || fs,\r\n        slice = this._blobSlice,\r\n        dfd = $.Deferred(),\r\n        promise = dfd.promise(),\r\n        jqXHR,\r\n        upload;\r\n      if (\r\n        !(\r\n          this._isXHRUpload(options) &&\r\n          slice &&\r\n          (ub || ($.type(mcs) === 'function' ? mcs(options) : mcs) < fs)\r\n        ) ||\r\n        options.data\r\n      ) {\r\n        return false;\r\n      }\r\n      if (testOnly) {\r\n        return true;\r\n      }\r\n      if (ub >= fs) {\r\n        file.error = options.i18n('uploadedBytes');\r\n        return this._getXHRPromise(false, options.context, [\r\n          null,\r\n          'error',\r\n          file.error\r\n        ]);\r\n      }\r\n      // The chunk upload method:\r\n      upload = function () {\r\n        // Clone the options object for each chunk upload:\r\n        var o = $.extend({}, options),\r\n          currentLoaded = o._progress.loaded;\r\n        o.blob = slice.call(\r\n          file,\r\n          ub,\r\n          ub + ($.type(mcs) === 'function' ? mcs(o) : mcs),\r\n          file.type\r\n        );\r\n        // Store the current chunk size, as the blob itself\r\n        // will be dereferenced after data processing:\r\n        o.chunkSize = o.blob.size;\r\n        // Expose the chunk bytes position range:\r\n        o.contentRange =\r\n          'bytes ' + ub + '-' + (ub + o.chunkSize - 1) + '/' + fs;\r\n        // Trigger chunkbeforesend to allow form data to be updated for this chunk\r\n        that._trigger('chunkbeforesend', null, o);\r\n        // Process the upload data (the blob and potential form data):\r\n        that._initXHRData(o);\r\n        // Add progress listeners for this chunk upload:\r\n        that._initProgressListener(o);\r\n        jqXHR = (\r\n          (that._trigger('chunksend', null, o) !== false && $.ajax(o)) ||\r\n          that._getXHRPromise(false, o.context)\r\n        )\r\n          .done(function (result, textStatus, jqXHR) {\r\n            ub = that._getUploadedBytes(jqXHR) || ub + o.chunkSize;\r\n            // Create a progress event if no final progress event\r\n            // with loaded equaling total has been triggered\r\n            // for this chunk:\r\n            if (currentLoaded + o.chunkSize - o._progress.loaded) {\r\n              that._onProgress(\r\n                $.Event('progress', {\r\n                  lengthComputable: true,\r\n                  loaded: ub - o.uploadedBytes,\r\n                  total: ub - o.uploadedBytes\r\n                }),\r\n                o\r\n              );\r\n            }\r\n            options.uploadedBytes = o.uploadedBytes = ub;\r\n            o.result = result;\r\n            o.textStatus = textStatus;\r\n            o.jqXHR = jqXHR;\r\n            that._trigger('chunkdone', null, o);\r\n            that._trigger('chunkalways', null, o);\r\n            if (ub < fs) {\r\n              // File upload not yet complete,\r\n              // continue with the next chunk:\r\n              upload();\r\n            } else {\r\n              dfd.resolveWith(o.context, [result, textStatus, jqXHR]);\r\n            }\r\n          })\r\n          .fail(function (jqXHR, textStatus, errorThrown) {\r\n            o.jqXHR = jqXHR;\r\n            o.textStatus = textStatus;\r\n            o.errorThrown = errorThrown;\r\n            that._trigger('chunkfail', null, o);\r\n            that._trigger('chunkalways', null, o);\r\n            dfd.rejectWith(o.context, [jqXHR, textStatus, errorThrown]);\r\n          })\r\n          .always(function () {\r\n            that._deinitProgressListener(o);\r\n          });\r\n      };\r\n      this._enhancePromise(promise);\r\n      promise.abort = function () {\r\n        return jqXHR.abort();\r\n      };\r\n      upload();\r\n      return promise;\r\n    },\r\n\r\n    _beforeSend: function (e, data) {\r\n      if (this._active === 0) {\r\n        // the start callback is triggered when an upload starts\r\n        // and no other uploads are currently running,\r\n        // equivalent to the global ajaxStart event:\r\n        this._trigger('start');\r\n        // Set timer for global bitrate progress calculation:\r\n        this._bitrateTimer = new this._BitrateTimer();\r\n        // Reset the global progress values:\r\n        this._progress.loaded = this._progress.total = 0;\r\n        this._progress.bitrate = 0;\r\n      }\r\n      // Make sure the container objects for the .response() and\r\n      // .progress() methods on the data object are available\r\n      // and reset to their initial state:\r\n      this._initResponseObject(data);\r\n      this._initProgressObject(data);\r\n      data._progress.loaded = data.loaded = data.uploadedBytes || 0;\r\n      data._progress.total = data.total = this._getTotal(data.files) || 1;\r\n      data._progress.bitrate = data.bitrate = 0;\r\n      this._active += 1;\r\n      // Initialize the global progress values:\r\n      this._progress.loaded += data.loaded;\r\n      this._progress.total += data.total;\r\n    },\r\n\r\n    _onDone: function (result, textStatus, jqXHR, options) {\r\n      var total = options._progress.total,\r\n        response = options._response;\r\n      if (options._progress.loaded < total) {\r\n        // Create a progress event if no final progress event\r\n        // with loaded equaling total has been triggered:\r\n        this._onProgress(\r\n          $.Event('progress', {\r\n            lengthComputable: true,\r\n            loaded: total,\r\n            total: total\r\n          }),\r\n          options\r\n        );\r\n      }\r\n      response.result = options.result = result;\r\n      response.textStatus = options.textStatus = textStatus;\r\n      response.jqXHR = options.jqXHR = jqXHR;\r\n      this._trigger('done', null, options);\r\n    },\r\n\r\n    _onFail: function (jqXHR, textStatus, errorThrown, options) {\r\n      var response = options._response;\r\n      if (options.recalculateProgress) {\r\n        // Remove the failed (error or abort) file upload from\r\n        // the global progress calculation:\r\n        this._progress.loaded -= options._progress.loaded;\r\n        this._progress.total -= options._progress.total;\r\n      }\r\n      response.jqXHR = options.jqXHR = jqXHR;\r\n      response.textStatus = options.textStatus = textStatus;\r\n      response.errorThrown = options.errorThrown = errorThrown;\r\n      this._trigger('fail', null, options);\r\n    },\r\n\r\n    _onAlways: function (jqXHRorResult, textStatus, jqXHRorError, options) {\r\n      // jqXHRorResult, textStatus and jqXHRorError are added to the\r\n      // options object via done and fail callbacks\r\n      this._trigger('always', null, options);\r\n    },\r\n\r\n    _onSend: function (e, data) {\r\n      if (!data.submit) {\r\n        this._addConvenienceMethods(e, data);\r\n      }\r\n      var that = this,\r\n        jqXHR,\r\n        aborted,\r\n        slot,\r\n        pipe,\r\n        options = that._getAJAXSettings(data),\r\n        send = function () {\r\n          that._sending += 1;\r\n          // Set timer for bitrate progress calculation:\r\n          options._bitrateTimer = new that._BitrateTimer();\r\n          jqXHR =\r\n            jqXHR ||\r\n            (\r\n              ((aborted ||\r\n                that._trigger(\r\n                  'send',\r\n                  $.Event('send', { delegatedEvent: e }),\r\n                  options\r\n                ) === false) &&\r\n                that._getXHRPromise(false, options.context, aborted)) ||\r\n              that._chunkedUpload(options) ||\r\n              $.ajax(options)\r\n            )\r\n              .done(function (result, textStatus, jqXHR) {\r\n                that._onDone(result, textStatus, jqXHR, options);\r\n              })\r\n              .fail(function (jqXHR, textStatus, errorThrown) {\r\n                that._onFail(jqXHR, textStatus, errorThrown, options);\r\n              })\r\n              .always(function (jqXHRorResult, textStatus, jqXHRorError) {\r\n                that._deinitProgressListener(options);\r\n                that._onAlways(\r\n                  jqXHRorResult,\r\n                  textStatus,\r\n                  jqXHRorError,\r\n                  options\r\n                );\r\n                that._sending -= 1;\r\n                that._active -= 1;\r\n                if (\r\n                  options.limitConcurrentUploads &&\r\n                  options.limitConcurrentUploads > that._sending\r\n                ) {\r\n                  // Start the next queued upload,\r\n                  // that has not been aborted:\r\n                  var nextSlot = that._slots.shift();\r\n                  while (nextSlot) {\r\n                    if (that._getDeferredState(nextSlot) === 'pending') {\r\n                      nextSlot.resolve();\r\n                      break;\r\n                    }\r\n                    nextSlot = that._slots.shift();\r\n                  }\r\n                }\r\n                if (that._active === 0) {\r\n                  // The stop callback is triggered when all uploads have\r\n                  // been completed, equivalent to the global ajaxStop event:\r\n                  that._trigger('stop');\r\n                }\r\n              });\r\n          return jqXHR;\r\n        };\r\n      this._beforeSend(e, options);\r\n      if (\r\n        this.options.sequentialUploads ||\r\n        (this.options.limitConcurrentUploads &&\r\n          this.options.limitConcurrentUploads <= this._sending)\r\n      ) {\r\n        if (this.options.limitConcurrentUploads > 1) {\r\n          slot = $.Deferred();\r\n          this._slots.push(slot);\r\n          pipe = slot[that._promisePipe](send);\r\n        } else {\r\n          this._sequence = this._sequence[that._promisePipe](send, send);\r\n          pipe = this._sequence;\r\n        }\r\n        // Return the piped Promise object, enhanced with an abort method,\r\n        // which is delegated to the jqXHR object of the current upload,\r\n        // and jqXHR callbacks mapped to the equivalent Promise methods:\r\n        pipe.abort = function () {\r\n          aborted = [undefined, 'abort', 'abort'];\r\n          if (!jqXHR) {\r\n            if (slot) {\r\n              slot.rejectWith(options.context, aborted);\r\n            }\r\n            return send();\r\n          }\r\n          return jqXHR.abort();\r\n        };\r\n        return this._enhancePromise(pipe);\r\n      }\r\n      return send();\r\n    },\r\n\r\n    _onAdd: function (e, data) {\r\n      var that = this,\r\n        result = true,\r\n        options = $.extend({}, this.options, data),\r\n        files = data.files,\r\n        filesLength = files.length,\r\n        limit = options.limitMultiFileUploads,\r\n        limitSize = options.limitMultiFileUploadSize,\r\n        overhead = options.limitMultiFileUploadSizeOverhead,\r\n        batchSize = 0,\r\n        paramName = this._getParamName(options),\r\n        paramNameSet,\r\n        paramNameSlice,\r\n        fileSet,\r\n        i,\r\n        j = 0;\r\n      if (!filesLength) {\r\n        return false;\r\n      }\r\n      if (limitSize && files[0].size === undefined) {\r\n        limitSize = undefined;\r\n      }\r\n      if (\r\n        !(options.singleFileUploads || limit || limitSize) ||\r\n        !this._isXHRUpload(options)\r\n      ) {\r\n        fileSet = [files];\r\n        paramNameSet = [paramName];\r\n      } else if (!(options.singleFileUploads || limitSize) && limit) {\r\n        fileSet = [];\r\n        paramNameSet = [];\r\n        for (i = 0; i < filesLength; i += limit) {\r\n          fileSet.push(files.slice(i, i + limit));\r\n          paramNameSlice = paramName.slice(i, i + limit);\r\n          if (!paramNameSlice.length) {\r\n            paramNameSlice = paramName;\r\n          }\r\n          paramNameSet.push(paramNameSlice);\r\n        }\r\n      } else if (!options.singleFileUploads && limitSize) {\r\n        fileSet = [];\r\n        paramNameSet = [];\r\n        for (i = 0; i < filesLength; i = i + 1) {\r\n          batchSize += files[i].size + overhead;\r\n          if (\r\n            i + 1 === filesLength ||\r\n            batchSize + files[i + 1].size + overhead > limitSize ||\r\n            (limit && i + 1 - j >= limit)\r\n          ) {\r\n            fileSet.push(files.slice(j, i + 1));\r\n            paramNameSlice = paramName.slice(j, i + 1);\r\n            if (!paramNameSlice.length) {\r\n              paramNameSlice = paramName;\r\n            }\r\n            paramNameSet.push(paramNameSlice);\r\n            j = i + 1;\r\n            batchSize = 0;\r\n          }\r\n        }\r\n      } else {\r\n        paramNameSet = paramName;\r\n      }\r\n      data.originalFiles = files;\r\n      $.each(fileSet || files, function (index, element) {\r\n        var newData = $.extend({}, data);\r\n        newData.files = fileSet ? element : [element];\r\n        newData.paramName = paramNameSet[index];\r\n        that._initResponseObject(newData);\r\n        that._initProgressObject(newData);\r\n        that._addConvenienceMethods(e, newData);\r\n        result = that._trigger(\r\n          'add',\r\n          $.Event('add', { delegatedEvent: e }),\r\n          newData\r\n        );\r\n        return result;\r\n      });\r\n      return result;\r\n    },\r\n\r\n    _replaceFileInput: function (data) {\r\n      var input = data.fileInput,\r\n        inputClone = input.clone(true),\r\n        restoreFocus = input.is(document.activeElement);\r\n      // Add a reference for the new cloned file input to the data argument:\r\n      data.fileInputClone = inputClone;\r\n      $('<form></form>').append(inputClone)[0].reset();\r\n      // Detaching allows to insert the fileInput on another form\r\n      // without losing the file input value:\r\n      input.after(inputClone).detach();\r\n      // If the fileInput had focus before it was detached,\r\n      // restore focus to the inputClone.\r\n      if (restoreFocus) {\r\n        inputClone.trigger('focus');\r\n      }\r\n      // Avoid memory leaks with the detached file input:\r\n      $.cleanData(input.off('remove'));\r\n      // Replace the original file input element in the fileInput\r\n      // elements set with the clone, which has been copied including\r\n      // event handlers:\r\n      this.options.fileInput = this.options.fileInput.map(function (i, el) {\r\n        if (el === input[0]) {\r\n          return inputClone[0];\r\n        }\r\n        return el;\r\n      });\r\n      // If the widget has been initialized on the file input itself,\r\n      // override this.element with the file input clone:\r\n      if (input[0] === this.element[0]) {\r\n        this.element = inputClone;\r\n      }\r\n    },\r\n\r\n    _handleFileTreeEntry: function (entry, path) {\r\n      var that = this,\r\n        dfd = $.Deferred(),\r\n        entries = [],\r\n        dirReader,\r\n        errorHandler = function (e) {\r\n          if (e && !e.entry) {\r\n            e.entry = entry;\r\n          }\r\n          // Since $.when returns immediately if one\r\n          // Deferred is rejected, we use resolve instead.\r\n          // This allows valid files and invalid items\r\n          // to be returned together in one set:\r\n          dfd.resolve([e]);\r\n        },\r\n        successHandler = function (entries) {\r\n          that\r\n            ._handleFileTreeEntries(entries, path + entry.name + '/')\r\n            .done(function (files) {\r\n              dfd.resolve(files);\r\n            })\r\n            .fail(errorHandler);\r\n        },\r\n        readEntries = function () {\r\n          dirReader.readEntries(function (results) {\r\n            if (!results.length) {\r\n              successHandler(entries);\r\n            } else {\r\n              entries = entries.concat(results);\r\n              readEntries();\r\n            }\r\n          }, errorHandler);\r\n        };\r\n      // eslint-disable-next-line no-param-reassign\r\n      path = path || '';\r\n      if (entry.isFile) {\r\n        if (entry._file) {\r\n          // Workaround for Chrome bug #149735\r\n          entry._file.relativePath = path;\r\n          dfd.resolve(entry._file);\r\n        } else {\r\n          entry.file(function (file) {\r\n            file.relativePath = path;\r\n            dfd.resolve(file);\r\n          }, errorHandler);\r\n        }\r\n      } else if (entry.isDirectory) {\r\n        dirReader = entry.createReader();\r\n        readEntries();\r\n      } else {\r\n        // Return an empty list for file system items\r\n        // other than files or directories:\r\n        dfd.resolve([]);\r\n      }\r\n      return dfd.promise();\r\n    },\r\n\r\n    _handleFileTreeEntries: function (entries, path) {\r\n      var that = this;\r\n      return $.when\r\n        .apply(\r\n          $,\r\n          $.map(entries, function (entry) {\r\n            return that._handleFileTreeEntry(entry, path);\r\n          })\r\n        )\r\n        [this._promisePipe](function () {\r\n          return Array.prototype.concat.apply([], arguments);\r\n        });\r\n    },\r\n\r\n    _getDroppedFiles: function (dataTransfer) {\r\n      // eslint-disable-next-line no-param-reassign\r\n      dataTransfer = dataTransfer || {};\r\n      var items = dataTransfer.items;\r\n      if (\r\n        items &&\r\n        items.length &&\r\n        (items[0].webkitGetAsEntry || items[0].getAsEntry)\r\n      ) {\r\n        return this._handleFileTreeEntries(\r\n          $.map(items, function (item) {\r\n            var entry;\r\n            if (item.webkitGetAsEntry) {\r\n              entry = item.webkitGetAsEntry();\r\n              if (entry) {\r\n                // Workaround for Chrome bug #149735:\r\n                entry._file = item.getAsFile();\r\n              }\r\n              return entry;\r\n            }\r\n            return item.getAsEntry();\r\n          })\r\n        );\r\n      }\r\n      return $.Deferred().resolve($.makeArray(dataTransfer.files)).promise();\r\n    },\r\n\r\n    _getSingleFileInputFiles: function (fileInput) {\r\n      // eslint-disable-next-line no-param-reassign\r\n      fileInput = $(fileInput);\r\n      var entries = fileInput.prop('entries'),\r\n        files,\r\n        value;\r\n      if (entries && entries.length) {\r\n        return this._handleFileTreeEntries(entries);\r\n      }\r\n      files = $.makeArray(fileInput.prop('files'));\r\n      if (!files.length) {\r\n        value = fileInput.prop('value');\r\n        if (!value) {\r\n          return $.Deferred().resolve([]).promise();\r\n        }\r\n        // If the files property is not available, the browser does not\r\n        // support the File API and we add a pseudo File object with\r\n        // the input value as name with path information removed:\r\n        files = [{ name: value.replace(/^.*\\\\/, '') }];\r\n      } else if (files[0].name === undefined && files[0].fileName) {\r\n        // File normalization for Safari 4 and Firefox 3:\r\n        $.each(files, function (index, file) {\r\n          file.name = file.fileName;\r\n          file.size = file.fileSize;\r\n        });\r\n      }\r\n      return $.Deferred().resolve(files).promise();\r\n    },\r\n\r\n    _getFileInputFiles: function (fileInput) {\r\n      if (!(fileInput instanceof $) || fileInput.length === 1) {\r\n        return this._getSingleFileInputFiles(fileInput);\r\n      }\r\n      return $.when\r\n        .apply($, $.map(fileInput, this._getSingleFileInputFiles))\r\n        [this._promisePipe](function () {\r\n          return Array.prototype.concat.apply([], arguments);\r\n        });\r\n    },\r\n\r\n    _onChange: function (e) {\r\n      var that = this,\r\n        data = {\r\n          fileInput: $(e.target),\r\n          form: $(e.target.form)\r\n        };\r\n      this._getFileInputFiles(data.fileInput).always(function (files) {\r\n        data.files = files;\r\n        if (that.options.replaceFileInput) {\r\n          that._replaceFileInput(data);\r\n        }\r\n        if (\r\n          that._trigger(\r\n            'change',\r\n            $.Event('change', { delegatedEvent: e }),\r\n            data\r\n          ) !== false\r\n        ) {\r\n          that._onAdd(e, data);\r\n        }\r\n      });\r\n    },\r\n\r\n    _onPaste: function (e) {\r\n      var items =\r\n          e.originalEvent &&\r\n          e.originalEvent.clipboardData &&\r\n          e.originalEvent.clipboardData.items,\r\n        data = { files: [] };\r\n      if (items && items.length) {\r\n        $.each(items, function (index, item) {\r\n          var file = item.getAsFile && item.getAsFile();\r\n          if (file) {\r\n            data.files.push(file);\r\n          }\r\n        });\r\n        if (\r\n          this._trigger(\r\n            'paste',\r\n            $.Event('paste', { delegatedEvent: e }),\r\n            data\r\n          ) !== false\r\n        ) {\r\n          this._onAdd(e, data);\r\n        }\r\n      }\r\n    },\r\n\r\n    _onDrop: function (e) {\r\n      e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;\r\n      var that = this,\r\n        dataTransfer = e.dataTransfer,\r\n        data = {};\r\n      if (dataTransfer && dataTransfer.files && dataTransfer.files.length) {\r\n        e.preventDefault();\r\n        this._getDroppedFiles(dataTransfer).always(function (files) {\r\n          data.files = files;\r\n          if (\r\n            that._trigger(\r\n              'drop',\r\n              $.Event('drop', { delegatedEvent: e }),\r\n              data\r\n            ) !== false\r\n          ) {\r\n            that._onAdd(e, data);\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    _onDragOver: getDragHandler('dragover'),\r\n\r\n    _onDragEnter: getDragHandler('dragenter'),\r\n\r\n    _onDragLeave: getDragHandler('dragleave'),\r\n\r\n    _initEventHandlers: function () {\r\n      if (this._isXHRUpload(this.options)) {\r\n        this._on(this.options.dropZone, {\r\n          dragover: this._onDragOver,\r\n          drop: this._onDrop,\r\n          // event.preventDefault() on dragenter is required for IE10+:\r\n          dragenter: this._onDragEnter,\r\n          // dragleave is not required, but added for completeness:\r\n          dragleave: this._onDragLeave\r\n        });\r\n        this._on(this.options.pasteZone, {\r\n          paste: this._onPaste\r\n        });\r\n      }\r\n      if ($.support.fileInput) {\r\n        this._on(this.options.fileInput, {\r\n          change: this._onChange\r\n        });\r\n      }\r\n    },\r\n\r\n    _destroyEventHandlers: function () {\r\n      this._off(this.options.dropZone, 'dragenter dragleave dragover drop');\r\n      this._off(this.options.pasteZone, 'paste');\r\n      this._off(this.options.fileInput, 'change');\r\n    },\r\n\r\n    _destroy: function () {\r\n      this._destroyEventHandlers();\r\n    },\r\n\r\n    _setOption: function (key, value) {\r\n      var reinit = $.inArray(key, this._specialOptions) !== -1;\r\n      if (reinit) {\r\n        this._destroyEventHandlers();\r\n      }\r\n      this._super(key, value);\r\n      if (reinit) {\r\n        this._initSpecialOptions();\r\n        this._initEventHandlers();\r\n      }\r\n    },\r\n\r\n    _initSpecialOptions: function () {\r\n      var options = this.options;\r\n      if (options.fileInput === undefined) {\r\n        options.fileInput = this.element.is('input[type=\"file\"]')\r\n          ? this.element\r\n          : this.element.find('input[type=\"file\"]');\r\n      } else if (!(options.fileInput instanceof $)) {\r\n        options.fileInput = $(options.fileInput);\r\n      }\r\n      if (!(options.dropZone instanceof $)) {\r\n        options.dropZone = $(options.dropZone);\r\n      }\r\n      if (!(options.pasteZone instanceof $)) {\r\n        options.pasteZone = $(options.pasteZone);\r\n      }\r\n    },\r\n\r\n    _getRegExp: function (str) {\r\n      var parts = str.split('/'),\r\n        modifiers = parts.pop();\r\n      parts.shift();\r\n      return new RegExp(parts.join('/'), modifiers);\r\n    },\r\n\r\n    _isRegExpOption: function (key, value) {\r\n      return (\r\n        key !== 'url' &&\r\n        $.type(value) === 'string' &&\r\n        /^\\/.*\\/[igm]{0,3}$/.test(value)\r\n      );\r\n    },\r\n\r\n    _initDataAttributes: function () {\r\n      var that = this,\r\n        options = this.options,\r\n        data = this.element.data();\r\n      // Initialize options set via HTML5 data-attributes:\r\n      $.each(this.element[0].attributes, function (index, attr) {\r\n        var key = attr.name.toLowerCase(),\r\n          value;\r\n        if (/^data-/.test(key)) {\r\n          // Convert hyphen-ated key to camelCase:\r\n          key = key.slice(5).replace(/-[a-z]/g, function (str) {\r\n            return str.charAt(1).toUpperCase();\r\n          });\r\n          value = data[key];\r\n          if (that._isRegExpOption(key, value)) {\r\n            value = that._getRegExp(value);\r\n          }\r\n          options[key] = value;\r\n        }\r\n      });\r\n    },\r\n\r\n    _create: function () {\r\n      this._initDataAttributes();\r\n      this._initSpecialOptions();\r\n      this._slots = [];\r\n      this._sequence = this._getXHRPromise(true);\r\n      this._sending = this._active = 0;\r\n      this._initProgressObject(this);\r\n      this._initEventHandlers();\r\n    },\r\n\r\n    // This method is exposed to the widget API and allows to query\r\n    // the number of active uploads:\r\n    active: function () {\r\n      return this._active;\r\n    },\r\n\r\n    // This method is exposed to the widget API and allows to query\r\n    // the widget upload progress.\r\n    // It returns an object with loaded, total and bitrate properties\r\n    // for the running uploads:\r\n    progress: function () {\r\n      return this._progress;\r\n    },\r\n\r\n    // This method is exposed to the widget API and allows adding files\r\n    // using the fileupload API. The data parameter accepts an object which\r\n    // must have a files property and can contain additional options:\r\n    // .fileupload('add', {files: filesList});\r\n    add: function (data) {\r\n      var that = this;\r\n      if (!data || this.options.disabled) {\r\n        return;\r\n      }\r\n      if (data.fileInput && !data.files) {\r\n        this._getFileInputFiles(data.fileInput).always(function (files) {\r\n          data.files = files;\r\n          that._onAdd(null, data);\r\n        });\r\n      } else {\r\n        data.files = $.makeArray(data.files);\r\n        this._onAdd(null, data);\r\n      }\r\n    },\r\n\r\n    // This method is exposed to the widget API and allows sending files\r\n    // using the fileupload API. The data parameter accepts an object which\r\n    // must have a files or fileInput property and can contain additional options:\r\n    // .fileupload('send', {files: filesList});\r\n    // The method returns a Promise object for the file upload call.\r\n    send: function (data) {\r\n      if (data && !this.options.disabled) {\r\n        if (data.fileInput && !data.files) {\r\n          var that = this,\r\n            dfd = $.Deferred(),\r\n            promise = dfd.promise(),\r\n            jqXHR,\r\n            aborted;\r\n          promise.abort = function () {\r\n            aborted = true;\r\n            if (jqXHR) {\r\n              return jqXHR.abort();\r\n            }\r\n            dfd.reject(null, 'abort', 'abort');\r\n            return promise;\r\n          };\r\n          this._getFileInputFiles(data.fileInput).always(function (files) {\r\n            if (aborted) {\r\n              return;\r\n            }\r\n            if (!files.length) {\r\n              dfd.reject();\r\n              return;\r\n            }\r\n            data.files = files;\r\n            jqXHR = that._onSend(null, data);\r\n            jqXHR.then(\r\n              function (result, textStatus, jqXHR) {\r\n                dfd.resolve(result, textStatus, jqXHR);\r\n              },\r\n              function (jqXHR, textStatus, errorThrown) {\r\n                dfd.reject(jqXHR, textStatus, errorThrown);\r\n              }\r\n            );\r\n          });\r\n          return this._enhancePromise(promise);\r\n        }\r\n        data.files = $.makeArray(data.files);\r\n        if (data.files.length) {\r\n          return this._onSend(null, data);\r\n        }\r\n      }\r\n      return this._getXHRPromise(false, data && data.context);\r\n    }\r\n  });\r\n});\r\n","Mageplaza_Core/lib/fileUploader/jquery.fileupload-process.js":"/*\r\n * jQuery File Upload Processing Plugin\r\n * https://github.com/blueimp/jQuery-File-Upload\r\n *\r\n * Copyright 2012, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, require */\r\n\r\n(function (factory) {\r\n  'use strict';\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['jquery', 'Mageplaza_Core/lib/fileUploader/jquery.fileupload'], factory);\r\n  } else if (typeof exports === 'object') {\r\n    // Node/CommonJS:\r\n    factory(require('jquery'), require('Mageplaza_Core/lib/fileUploader/jquery.fileupload'));\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.jQuery);\r\n  }\r\n})(function ($) {\r\n  'use strict';\r\n\r\n  var originalAdd = $.blueimp.fileupload.prototype.options.add;\r\n\r\n  // The File Upload Processing plugin extends the fileupload widget\r\n  // with file processing functionality:\r\n  $.widget('blueimp.fileupload', $.blueimp.fileupload, {\r\n    options: {\r\n      // The list of processing actions:\r\n      processQueue: [\r\n        /*\r\n                {\r\n                    action: 'log',\r\n                    type: 'debug'\r\n                }\r\n                */\r\n      ],\r\n      add: function (e, data) {\r\n        var $this = $(this);\r\n        data.process(function () {\r\n          return $this.fileupload('process', data);\r\n        });\r\n        originalAdd.call(this, e, data);\r\n      }\r\n    },\r\n\r\n    processActions: {\r\n      /*\r\n            log: function (data, options) {\r\n                console[options.type](\r\n                    'Processing \"' + data.files[data.index].name + '\"'\r\n                );\r\n            }\r\n            */\r\n    },\r\n\r\n    _processFile: function (data, originalData) {\r\n      var that = this,\r\n        // eslint-disable-next-line new-cap\r\n        dfd = $.Deferred().resolveWith(that, [data]),\r\n        chain = dfd.promise();\r\n      this._trigger('process', null, data);\r\n      $.each(data.processQueue, function (i, settings) {\r\n        var func = function (data) {\r\n          if (originalData.errorThrown) {\r\n            // eslint-disable-next-line new-cap\r\n            return $.Deferred().rejectWith(that, [originalData]).promise();\r\n          }\r\n          return that.processActions[settings.action].call(\r\n            that,\r\n            data,\r\n            settings\r\n          );\r\n        };\r\n        chain = chain[that._promisePipe](func, settings.always && func);\r\n      });\r\n      chain\r\n        .done(function () {\r\n          that._trigger('processdone', null, data);\r\n          that._trigger('processalways', null, data);\r\n        })\r\n        .fail(function () {\r\n          that._trigger('processfail', null, data);\r\n          that._trigger('processalways', null, data);\r\n        });\r\n      return chain;\r\n    },\r\n\r\n    // Replaces the settings of each processQueue item that\r\n    // are strings starting with an \"@\", using the remaining\r\n    // substring as key for the option map,\r\n    // e.g. \"@autoUpload\" is replaced with options.autoUpload:\r\n    _transformProcessQueue: function (options) {\r\n      var processQueue = [];\r\n      $.each(options.processQueue, function () {\r\n        var settings = {},\r\n          action = this.action,\r\n          prefix = this.prefix === true ? action : this.prefix;\r\n        $.each(this, function (key, value) {\r\n          if ($.type(value) === 'string' && value.charAt(0) === '@') {\r\n            settings[key] =\r\n              options[\r\n                value.slice(1) ||\r\n                  (prefix\r\n                    ? prefix + key.charAt(0).toUpperCase() + key.slice(1)\r\n                    : key)\r\n              ];\r\n          } else {\r\n            settings[key] = value;\r\n          }\r\n        });\r\n        processQueue.push(settings);\r\n      });\r\n      options.processQueue = processQueue;\r\n    },\r\n\r\n    // Returns the number of files currently in the processing queue:\r\n    processing: function () {\r\n      return this._processing;\r\n    },\r\n\r\n    // Processes the files given as files property of the data parameter,\r\n    // returns a Promise object that allows to bind callbacks:\r\n    process: function (data) {\r\n      var that = this,\r\n        options = $.extend({}, this.options, data);\r\n      if (options.processQueue && options.processQueue.length) {\r\n        this._transformProcessQueue(options);\r\n        if (this._processing === 0) {\r\n          this._trigger('processstart');\r\n        }\r\n        $.each(data.files, function (index) {\r\n          var opts = index ? $.extend({}, options) : options,\r\n            func = function () {\r\n              if (data.errorThrown) {\r\n                // eslint-disable-next-line new-cap\r\n                return $.Deferred().rejectWith(that, [data]).promise();\r\n              }\r\n              return that._processFile(opts, data);\r\n            };\r\n          opts.index = index;\r\n          that._processing += 1;\r\n          that._processingQueue = that._processingQueue[that._promisePipe](\r\n            func,\r\n            func\r\n          ).always(function () {\r\n            that._processing -= 1;\r\n            if (that._processing === 0) {\r\n              that._trigger('processstop');\r\n            }\r\n          });\r\n        });\r\n      }\r\n      return this._processingQueue;\r\n    },\r\n\r\n    _create: function () {\r\n      this._super();\r\n      this._processing = 0;\r\n      // eslint-disable-next-line new-cap\r\n      this._processingQueue = $.Deferred().resolveWith(this).promise();\r\n    }\r\n  });\r\n});\r\n","Mageplaza_Core/lib/fileUploader/jquery.fileupload-video.js":"/*\r\n * jQuery File Upload Video Preview Plugin\r\n * https://github.com/blueimp/jQuery-File-Upload\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, require */\r\n\r\n(function (factory) {\r\n  'use strict';\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['jquery', 'Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image', 'Mageplaza_Core/lib/fileUploader/jquery.fileupload-process'], factory);\r\n  } else if (typeof exports === 'object') {\r\n    // Node/CommonJS:\r\n    factory(\r\n      require('jquery'),\r\n      require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image'),\r\n      require('Mageplaza_Core/lib/fileUploader/jquery.fileupload-process')\r\n    );\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.jQuery, window.loadImage);\r\n  }\r\n})(function ($, loadImage) {\r\n  'use strict';\r\n\r\n  // Prepend to the default processQueue:\r\n  $.blueimp.fileupload.prototype.options.processQueue.unshift(\r\n    {\r\n      action: 'loadVideo',\r\n      // Use the action as prefix for the \"@\" options:\r\n      prefix: true,\r\n      fileTypes: '@',\r\n      maxFileSize: '@',\r\n      disabled: '@disableVideoPreview'\r\n    },\r\n    {\r\n      action: 'setVideo',\r\n      name: '@videoPreviewName',\r\n      disabled: '@disableVideoPreview'\r\n    }\r\n  );\r\n\r\n  // The File Upload Video Preview plugin extends the fileupload widget\r\n  // with video preview functionality:\r\n  $.widget('blueimp.fileupload', $.blueimp.fileupload, {\r\n    options: {\r\n      // The regular expression for the types of video files to load,\r\n      // matched against the file type:\r\n      loadVideoFileTypes: /^video\\/.*$/\r\n    },\r\n\r\n    _videoElement: document.createElement('video'),\r\n\r\n    processActions: {\r\n      // Loads the video file given via data.files and data.index\r\n      // as video element if the browser supports playing it.\r\n      // Accepts the options fileTypes (regular expression)\r\n      // and maxFileSize (integer) to limit the files to load:\r\n      loadVideo: function (data, options) {\r\n        if (options.disabled) {\r\n          return data;\r\n        }\r\n        var file = data.files[data.index],\r\n          url,\r\n          video;\r\n        if (\r\n          this._videoElement.canPlayType &&\r\n          this._videoElement.canPlayType(file.type) &&\r\n          ($.type(options.maxFileSize) !== 'number' ||\r\n            file.size <= options.maxFileSize) &&\r\n          (!options.fileTypes || options.fileTypes.test(file.type))\r\n        ) {\r\n          url = loadImage.createObjectURL(file);\r\n          if (url) {\r\n            video = this._videoElement.cloneNode(false);\r\n            video.src = url;\r\n            video.controls = true;\r\n            data.video = video;\r\n            return data;\r\n          }\r\n        }\r\n        return data;\r\n      },\r\n\r\n      // Sets the video element as a property of the file object:\r\n      setVideo: function (data, options) {\r\n        if (data.video && !options.disabled) {\r\n          data.files[data.index][options.name || 'preview'] = data.video;\r\n        }\r\n        return data;\r\n      }\r\n    }\r\n  });\r\n});\r\n","Mageplaza_Core/lib/fileUploader/jquery.fileupload-image.js":"/*\r\n * jQuery File Upload Image Preview & Resize Plugin\r\n * https://github.com/blueimp/jQuery-File-Upload\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, require */\r\n\r\n(function (factory) {\r\n  'use strict';\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define([\r\n      'jquery',\r\n      'Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image',\r\n      'Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-meta',\r\n      'Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-scale',\r\n      'Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-exif',\r\n      'Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-orientation',\r\n      'Mageplaza_Core/lib/fileUploader/vendor/blueimp-canvas-to-blob/js/canvas-to-blob',\r\n      'Mageplaza_Core/lib/fileUploader/jquery.fileupload-process'\r\n    ], factory);\r\n  } else if (typeof exports === 'object') {\r\n    // Node/CommonJS:\r\n    factory(\r\n      require('jquery'),\r\n      require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image'),\r\n      require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-meta'),\r\n      require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-scale'),\r\n      require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-exif'),\r\n      require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-orientation'),\r\n      require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-canvas-to-blob/js/canvas-to-blob'),\r\n      require('Mageplaza_Core/lib/fileUploader/jquery.fileupload-process')\r\n    );\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.jQuery, window.loadImage);\r\n  }\r\n})(function ($, loadImage) {\r\n  'use strict';\r\n\r\n  // Prepend to the default processQueue:\r\n  $.blueimp.fileupload.prototype.options.processQueue.unshift(\r\n    {\r\n      action: 'loadImageMetaData',\r\n      maxMetaDataSize: '@',\r\n      disableImageHead: '@',\r\n      disableMetaDataParsers: '@',\r\n      disableExif: '@',\r\n      disableExifOffsets: '@',\r\n      includeExifTags: '@',\r\n      excludeExifTags: '@',\r\n      disableIptc: '@',\r\n      disableIptcOffsets: '@',\r\n      includeIptcTags: '@',\r\n      excludeIptcTags: '@',\r\n      disabled: '@disableImageMetaDataLoad'\r\n    },\r\n    {\r\n      action: 'loadImage',\r\n      // Use the action as prefix for the \"@\" options:\r\n      prefix: true,\r\n      fileTypes: '@',\r\n      maxFileSize: '@',\r\n      noRevoke: '@',\r\n      disabled: '@disableImageLoad'\r\n    },\r\n    {\r\n      action: 'resizeImage',\r\n      // Use \"image\" as prefix for the \"@\" options:\r\n      prefix: 'image',\r\n      maxWidth: '@',\r\n      maxHeight: '@',\r\n      minWidth: '@',\r\n      minHeight: '@',\r\n      crop: '@',\r\n      orientation: '@',\r\n      forceResize: '@',\r\n      disabled: '@disableImageResize'\r\n    },\r\n    {\r\n      action: 'saveImage',\r\n      quality: '@imageQuality',\r\n      type: '@imageType',\r\n      disabled: '@disableImageResize'\r\n    },\r\n    {\r\n      action: 'saveImageMetaData',\r\n      disabled: '@disableImageMetaDataSave'\r\n    },\r\n    {\r\n      action: 'resizeImage',\r\n      // Use \"preview\" as prefix for the \"@\" options:\r\n      prefix: 'preview',\r\n      maxWidth: '@',\r\n      maxHeight: '@',\r\n      minWidth: '@',\r\n      minHeight: '@',\r\n      crop: '@',\r\n      orientation: '@',\r\n      thumbnail: '@',\r\n      canvas: '@',\r\n      disabled: '@disableImagePreview'\r\n    },\r\n    {\r\n      action: 'setImage',\r\n      name: '@imagePreviewName',\r\n      disabled: '@disableImagePreview'\r\n    },\r\n    {\r\n      action: 'deleteImageReferences',\r\n      disabled: '@disableImageReferencesDeletion'\r\n    }\r\n  );\r\n\r\n  // The File Upload Resize plugin extends the fileupload widget\r\n  // with image resize functionality:\r\n  $.widget('blueimp.fileupload', $.blueimp.fileupload, {\r\n    options: {\r\n      // The regular expression for the types of images to load:\r\n      // matched against the file type:\r\n      loadImageFileTypes: /^image\\/(gif|jpeg|png|svg\\+xml)$/,\r\n      // The maximum file size of images to load:\r\n      loadImageMaxFileSize: 10000000, // 10MB\r\n      // The maximum width of resized images:\r\n      imageMaxWidth: 1920,\r\n      // The maximum height of resized images:\r\n      imageMaxHeight: 1080,\r\n      // Defines the image orientation (1-8) or takes the orientation\r\n      // value from Exif data if set to true:\r\n      imageOrientation: true,\r\n      // Define if resized images should be cropped or only scaled:\r\n      imageCrop: false,\r\n      // Disable the resize image functionality by default:\r\n      disableImageResize: true,\r\n      // The maximum width of the preview images:\r\n      previewMaxWidth: 80,\r\n      // The maximum height of the preview images:\r\n      previewMaxHeight: 80,\r\n      // Defines the preview orientation (1-8) or takes the orientation\r\n      // value from Exif data if set to true:\r\n      previewOrientation: true,\r\n      // Create the preview using the Exif data thumbnail:\r\n      previewThumbnail: true,\r\n      // Define if preview images should be cropped or only scaled:\r\n      previewCrop: false,\r\n      // Define if preview images should be resized as canvas elements:\r\n      previewCanvas: true\r\n    },\r\n\r\n    processActions: {\r\n      // Loads the image given via data.files and data.index\r\n      // as img element, if the browser supports the File API.\r\n      // Accepts the options fileTypes (regular expression)\r\n      // and maxFileSize (integer) to limit the files to load:\r\n      loadImage: function (data, options) {\r\n        if (options.disabled) {\r\n          return data;\r\n        }\r\n        var that = this,\r\n          file = data.files[data.index],\r\n          // eslint-disable-next-line new-cap\r\n          dfd = $.Deferred();\r\n        if (\r\n          ($.type(options.maxFileSize) === 'number' &&\r\n            file.size > options.maxFileSize) ||\r\n          (options.fileTypes && !options.fileTypes.test(file.type)) ||\r\n          !loadImage(\r\n            file,\r\n            function (img) {\r\n              if (img.src) {\r\n                data.img = img;\r\n              }\r\n              dfd.resolveWith(that, [data]);\r\n            },\r\n            options\r\n          )\r\n        ) {\r\n          return data;\r\n        }\r\n        return dfd.promise();\r\n      },\r\n\r\n      // Resizes the image given as data.canvas or data.img\r\n      // and updates data.canvas or data.img with the resized image.\r\n      // Also stores the resized image as preview property.\r\n      // Accepts the options maxWidth, maxHeight, minWidth,\r\n      // minHeight, canvas and crop:\r\n      resizeImage: function (data, options) {\r\n        if (options.disabled || !(data.canvas || data.img)) {\r\n          return data;\r\n        }\r\n        // eslint-disable-next-line no-param-reassign\r\n        options = $.extend({ canvas: true }, options);\r\n        var that = this,\r\n          // eslint-disable-next-line new-cap\r\n          dfd = $.Deferred(),\r\n          img = (options.canvas && data.canvas) || data.img,\r\n          resolve = function (newImg) {\r\n            if (\r\n              newImg &&\r\n              (newImg.width !== img.width ||\r\n                newImg.height !== img.height ||\r\n                options.forceResize)\r\n            ) {\r\n              data[newImg.getContext ? 'canvas' : 'img'] = newImg;\r\n            }\r\n            data.preview = newImg;\r\n            dfd.resolveWith(that, [data]);\r\n          },\r\n          thumbnail,\r\n          thumbnailBlob;\r\n        if (data.exif && options.thumbnail) {\r\n          thumbnail = data.exif.get('Thumbnail');\r\n          thumbnailBlob = thumbnail && thumbnail.get('Blob');\r\n          if (thumbnailBlob) {\r\n            options.orientation = data.exif.get('Orientation');\r\n            loadImage(thumbnailBlob, resolve, options);\r\n            return dfd.promise();\r\n          }\r\n        }\r\n        if (data.orientation) {\r\n          // Prevent orienting the same image twice:\r\n          delete options.orientation;\r\n        } else {\r\n          data.orientation = options.orientation || loadImage.orientation;\r\n        }\r\n        if (img) {\r\n          resolve(loadImage.scale(img, options, data));\r\n          return dfd.promise();\r\n        }\r\n        return data;\r\n      },\r\n\r\n      // Saves the processed image given as data.canvas\r\n      // inplace at data.index of data.files:\r\n      saveImage: function (data, options) {\r\n        if (!data.canvas || options.disabled) {\r\n          return data;\r\n        }\r\n        var that = this,\r\n          file = data.files[data.index],\r\n          // eslint-disable-next-line new-cap\r\n          dfd = $.Deferred();\r\n        if (data.canvas.toBlob) {\r\n          data.canvas.toBlob(\r\n            function (blob) {\r\n              if (!blob.name) {\r\n                if (file.type === blob.type) {\r\n                  blob.name = file.name;\r\n                } else if (file.name) {\r\n                  blob.name = file.name.replace(\r\n                    /\\.\\w+$/,\r\n                    '.' + blob.type.substr(6)\r\n                  );\r\n                }\r\n              }\r\n              // Don't restore invalid meta data:\r\n              if (file.type !== blob.type) {\r\n                delete data.imageHead;\r\n              }\r\n              // Store the created blob at the position\r\n              // of the original file in the files list:\r\n              data.files[data.index] = blob;\r\n              dfd.resolveWith(that, [data]);\r\n            },\r\n            options.type || file.type,\r\n            options.quality\r\n          );\r\n        } else {\r\n          return data;\r\n        }\r\n        return dfd.promise();\r\n      },\r\n\r\n      loadImageMetaData: function (data, options) {\r\n        if (options.disabled) {\r\n          return data;\r\n        }\r\n        var that = this,\r\n          // eslint-disable-next-line new-cap\r\n          dfd = $.Deferred();\r\n        loadImage.parseMetaData(\r\n          data.files[data.index],\r\n          function (result) {\r\n            $.extend(data, result);\r\n            dfd.resolveWith(that, [data]);\r\n          },\r\n          options\r\n        );\r\n        return dfd.promise();\r\n      },\r\n\r\n      saveImageMetaData: function (data, options) {\r\n        if (\r\n          !(\r\n            data.imageHead &&\r\n            data.canvas &&\r\n            data.canvas.toBlob &&\r\n            !options.disabled\r\n          )\r\n        ) {\r\n          return data;\r\n        }\r\n        var that = this,\r\n          file = data.files[data.index],\r\n          // eslint-disable-next-line new-cap\r\n          dfd = $.Deferred();\r\n        if (data.orientation === true && data.exifOffsets) {\r\n          // Reset Exif Orientation data:\r\n          loadImage.writeExifData(data.imageHead, data, 'Orientation', 1);\r\n        }\r\n        loadImage.replaceHead(file, data.imageHead, function (blob) {\r\n          blob.name = file.name;\r\n          data.files[data.index] = blob;\r\n          dfd.resolveWith(that, [data]);\r\n        });\r\n        return dfd.promise();\r\n      },\r\n\r\n      // Sets the resized version of the image as a property of the\r\n      // file object, must be called after \"saveImage\":\r\n      setImage: function (data, options) {\r\n        if (data.preview && !options.disabled) {\r\n          data.files[data.index][options.name || 'preview'] = data.preview;\r\n        }\r\n        return data;\r\n      },\r\n\r\n      deleteImageReferences: function (data, options) {\r\n        if (!options.disabled) {\r\n          delete data.img;\r\n          delete data.canvas;\r\n          delete data.preview;\r\n          delete data.imageHead;\r\n        }\r\n        return data;\r\n      }\r\n    }\r\n  });\r\n});\r\n","Mageplaza_Core/lib/fileUploader/jquery.fileupload-ui.js":"/*\r\n * jQuery File Upload User Interface Plugin\r\n * https://github.com/blueimp/jQuery-File-Upload\r\n *\r\n * Copyright 2010, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, require */\r\n\r\n(function (factory) {\r\n  'use strict';\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define([\r\n      'jquery',\r\n      'Mageplaza_Core/lib/fileUploader/vendor/blueimp-tmpl/js/tmpl',\r\n      'Mageplaza_Core/lib/fileUploader/jquery.fileupload-image',\r\n      'Mageplaza_Core/lib/fileUploader/jquery.fileupload-audio',\r\n      'Mageplaza_Core/lib/fileUploader/jquery.fileupload-video',\r\n      'Mageplaza_Core/lib/fileUploader/jquery.fileupload-validate'\r\n    ], factory);\r\n  } else if (typeof exports === 'object') {\r\n    // Node/CommonJS:\r\n    factory(\r\n      require('jquery'),\r\n      require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-tmpl/js/tmpl'),\r\n      require('Mageplaza_Core/lib/fileUploader/jquery.fileupload-image'),\r\n      require('Mageplaza_Core/lib/fileUploader/jquery.fileupload-audio'),\r\n      require('Mageplaza_Core/lib/fileUploader/jquery.fileupload-video'),\r\n      require('Mageplaza_Core/lib/fileUploader/jquery.fileupload-validate')\r\n    );\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.jQuery, window.tmpl);\r\n  }\r\n})(function ($, tmpl) {\r\n  'use strict';\r\n\r\n  $.blueimp.fileupload.prototype._specialOptions.push(\r\n    'filesContainer',\r\n    'uploadTemplateId',\r\n    'downloadTemplateId'\r\n  );\r\n\r\n  // The UI version extends the file upload widget\r\n  // and adds complete user interface interaction:\r\n  $.widget('blueimp.fileupload', $.blueimp.fileupload, {\r\n    options: {\r\n      // By default, files added to the widget are uploaded as soon\r\n      // as the user clicks on the start buttons. To enable automatic\r\n      // uploads, set the following option to true:\r\n      autoUpload: false,\r\n      // The class to show/hide UI elements:\r\n      showElementClass: 'in',\r\n      // The ID of the upload template:\r\n      uploadTemplateId: 'template-upload',\r\n      // The ID of the download template:\r\n      downloadTemplateId: 'template-download',\r\n      // The container for the list of files. If undefined, it is set to\r\n      // an element with class \"files\" inside of the widget element:\r\n      filesContainer: undefined,\r\n      // By default, files are appended to the files container.\r\n      // Set the following option to true, to prepend files instead:\r\n      prependFiles: false,\r\n      // The expected data type of the upload response, sets the dataType\r\n      // option of the $.ajax upload requests:\r\n      dataType: 'json',\r\n\r\n      // Error and info messages:\r\n      messages: {\r\n        unknownError: 'Unknown error'\r\n      },\r\n\r\n      // Function returning the current number of files,\r\n      // used by the maxNumberOfFiles validation:\r\n      getNumberOfFiles: function () {\r\n        return this.filesContainer.children().not('.processing').length;\r\n      },\r\n\r\n      // Callback to retrieve the list of files from the server response:\r\n      getFilesFromResponse: function (data) {\r\n        if (data.result && $.isArray(data.result.files)) {\r\n          return data.result.files;\r\n        }\r\n        return [];\r\n      },\r\n\r\n      // The add callback is invoked as soon as files are added to the fileupload\r\n      // widget (via file input selection, drag & drop or add API call).\r\n      // See the basic file upload widget for more information:\r\n      add: function (e, data) {\r\n        if (e.isDefaultPrevented()) {\r\n          return false;\r\n        }\r\n        var $this = $(this),\r\n          that = $this.data('blueimp-fileupload') || $this.data('fileupload'),\r\n          options = that.options;\r\n        data.context = that\r\n          ._renderUpload(data.files)\r\n          .data('data', data)\r\n          .addClass('processing');\r\n        options.filesContainer[options.prependFiles ? 'prepend' : 'append'](\r\n          data.context\r\n        );\r\n        that._forceReflow(data.context);\r\n        that._transition(data.context);\r\n        data\r\n          .process(function () {\r\n            return $this.fileupload('process', data);\r\n          })\r\n          .always(function () {\r\n            data.context\r\n              .each(function (index) {\r\n                $(this)\r\n                  .find('.size')\r\n                  .text(that._formatFileSize(data.files[index].size));\r\n              })\r\n              .removeClass('processing');\r\n            that._renderPreviews(data);\r\n          })\r\n          .done(function () {\r\n            data.context.find('.edit,.start').prop('disabled', false);\r\n            if (\r\n              that._trigger('added', e, data) !== false &&\r\n              (options.autoUpload || data.autoUpload) &&\r\n              data.autoUpload !== false\r\n            ) {\r\n              data.submit();\r\n            }\r\n          })\r\n          .fail(function () {\r\n            if (data.files.error) {\r\n              data.context.each(function (index) {\r\n                var error = data.files[index].error;\r\n                if (error) {\r\n                  $(this).find('.error').text(error);\r\n                }\r\n              });\r\n            }\r\n          });\r\n      },\r\n      // Callback for the start of each file upload request:\r\n      send: function (e, data) {\r\n        if (e.isDefaultPrevented()) {\r\n          return false;\r\n        }\r\n        var that =\r\n          $(this).data('blueimp-fileupload') || $(this).data('fileupload');\r\n        if (\r\n          data.context &&\r\n          data.dataType &&\r\n          data.dataType.substr(0, 6) === 'iframe'\r\n        ) {\r\n          // Iframe Transport does not support progress events.\r\n          // In lack of an indeterminate progress bar, we set\r\n          // the progress to 100%, showing the full animated bar:\r\n          data.context\r\n            .find('.progress')\r\n            .addClass(!$.support.transition && 'progress-animated')\r\n            .attr('aria-valuenow', 100)\r\n            .children()\r\n            .first()\r\n            .css('width', '100%');\r\n        }\r\n        return that._trigger('sent', e, data);\r\n      },\r\n      // Callback for successful uploads:\r\n      done: function (e, data) {\r\n        if (e.isDefaultPrevented()) {\r\n          return false;\r\n        }\r\n        var that =\r\n            $(this).data('blueimp-fileupload') || $(this).data('fileupload'),\r\n          getFilesFromResponse =\r\n            data.getFilesFromResponse || that.options.getFilesFromResponse,\r\n          files = getFilesFromResponse(data),\r\n          template,\r\n          deferred;\r\n        if (data.context) {\r\n          data.context.each(function (index) {\r\n            var file = files[index] || { error: 'Empty file upload result' };\r\n            deferred = that._addFinishedDeferreds();\r\n            that._transition($(this)).done(function () {\r\n              var node = $(this);\r\n              template = that._renderDownload([file]).replaceAll(node);\r\n              that._forceReflow(template);\r\n              that._transition(template).done(function () {\r\n                data.context = $(this);\r\n                that._trigger('completed', e, data);\r\n                that._trigger('finished', e, data);\r\n                deferred.resolve();\r\n              });\r\n            });\r\n          });\r\n        } else {\r\n          template = that\r\n            ._renderDownload(files)\r\n            [that.options.prependFiles ? 'prependTo' : 'appendTo'](\r\n              that.options.filesContainer\r\n            );\r\n          that._forceReflow(template);\r\n          deferred = that._addFinishedDeferreds();\r\n          that._transition(template).done(function () {\r\n            data.context = $(this);\r\n            that._trigger('completed', e, data);\r\n            that._trigger('finished', e, data);\r\n            deferred.resolve();\r\n          });\r\n        }\r\n      },\r\n      // Callback for failed (abort or error) uploads:\r\n      fail: function (e, data) {\r\n        if (e.isDefaultPrevented()) {\r\n          return false;\r\n        }\r\n        var that =\r\n            $(this).data('blueimp-fileupload') || $(this).data('fileupload'),\r\n          template,\r\n          deferred;\r\n        if (data.context) {\r\n          data.context.each(function (index) {\r\n            if (data.errorThrown !== 'abort') {\r\n              var file = data.files[index];\r\n              file.error =\r\n                file.error || data.errorThrown || data.i18n('unknownError');\r\n              deferred = that._addFinishedDeferreds();\r\n              that._transition($(this)).done(function () {\r\n                var node = $(this);\r\n                template = that._renderDownload([file]).replaceAll(node);\r\n                that._forceReflow(template);\r\n                that._transition(template).done(function () {\r\n                  data.context = $(this);\r\n                  that._trigger('failed', e, data);\r\n                  that._trigger('finished', e, data);\r\n                  deferred.resolve();\r\n                });\r\n              });\r\n            } else {\r\n              deferred = that._addFinishedDeferreds();\r\n              that._transition($(this)).done(function () {\r\n                $(this).remove();\r\n                that._trigger('failed', e, data);\r\n                that._trigger('finished', e, data);\r\n                deferred.resolve();\r\n              });\r\n            }\r\n          });\r\n        } else if (data.errorThrown !== 'abort') {\r\n          data.context = that\r\n            ._renderUpload(data.files)\r\n            [that.options.prependFiles ? 'prependTo' : 'appendTo'](\r\n              that.options.filesContainer\r\n            )\r\n            .data('data', data);\r\n          that._forceReflow(data.context);\r\n          deferred = that._addFinishedDeferreds();\r\n          that._transition(data.context).done(function () {\r\n            data.context = $(this);\r\n            that._trigger('failed', e, data);\r\n            that._trigger('finished', e, data);\r\n            deferred.resolve();\r\n          });\r\n        } else {\r\n          that._trigger('failed', e, data);\r\n          that._trigger('finished', e, data);\r\n          that._addFinishedDeferreds().resolve();\r\n        }\r\n      },\r\n      // Callback for upload progress events:\r\n      progress: function (e, data) {\r\n        if (e.isDefaultPrevented()) {\r\n          return false;\r\n        }\r\n        var progress = Math.floor((data.loaded / data.total) * 100);\r\n        if (data.context) {\r\n          data.context.each(function () {\r\n            $(this)\r\n              .find('.progress')\r\n              .attr('aria-valuenow', progress)\r\n              .children()\r\n              .first()\r\n              .css('width', progress + '%');\r\n          });\r\n        }\r\n      },\r\n      // Callback for global upload progress events:\r\n      progressall: function (e, data) {\r\n        if (e.isDefaultPrevented()) {\r\n          return false;\r\n        }\r\n        var $this = $(this),\r\n          progress = Math.floor((data.loaded / data.total) * 100),\r\n          globalProgressNode = $this.find('.fileupload-progress'),\r\n          extendedProgressNode = globalProgressNode.find('.progress-extended');\r\n        if (extendedProgressNode.length) {\r\n          extendedProgressNode.html(\r\n            (\r\n              $this.data('blueimp-fileupload') || $this.data('fileupload')\r\n            )._renderExtendedProgress(data)\r\n          );\r\n        }\r\n        globalProgressNode\r\n          .find('.progress')\r\n          .attr('aria-valuenow', progress)\r\n          .children()\r\n          .first()\r\n          .css('width', progress + '%');\r\n      },\r\n      // Callback for uploads start, equivalent to the global ajaxStart event:\r\n      start: function (e) {\r\n        if (e.isDefaultPrevented()) {\r\n          return false;\r\n        }\r\n        var that =\r\n          $(this).data('blueimp-fileupload') || $(this).data('fileupload');\r\n        that._resetFinishedDeferreds();\r\n        that\r\n          ._transition($(this).find('.fileupload-progress'))\r\n          .done(function () {\r\n            that._trigger('started', e);\r\n          });\r\n      },\r\n      // Callback for uploads stop, equivalent to the global ajaxStop event:\r\n      stop: function (e) {\r\n        if (e.isDefaultPrevented()) {\r\n          return false;\r\n        }\r\n        var that =\r\n            $(this).data('blueimp-fileupload') || $(this).data('fileupload'),\r\n          deferred = that._addFinishedDeferreds();\r\n        $.when.apply($, that._getFinishedDeferreds()).done(function () {\r\n          that._trigger('stopped', e);\r\n        });\r\n        that\r\n          ._transition($(this).find('.fileupload-progress'))\r\n          .done(function () {\r\n            $(this)\r\n              .find('.progress')\r\n              .attr('aria-valuenow', '0')\r\n              .children()\r\n              .first()\r\n              .css('width', '0%');\r\n            $(this).find('.progress-extended').html('&nbsp;');\r\n            deferred.resolve();\r\n          });\r\n      },\r\n      processstart: function (e) {\r\n        if (e.isDefaultPrevented()) {\r\n          return false;\r\n        }\r\n        $(this).addClass('fileupload-processing');\r\n      },\r\n      processstop: function (e) {\r\n        if (e.isDefaultPrevented()) {\r\n          return false;\r\n        }\r\n        $(this).removeClass('fileupload-processing');\r\n      },\r\n      // Callback for file deletion:\r\n      destroy: function (e, data) {\r\n        if (e.isDefaultPrevented()) {\r\n          return false;\r\n        }\r\n        var that =\r\n            $(this).data('blueimp-fileupload') || $(this).data('fileupload'),\r\n          removeNode = function () {\r\n            that._transition(data.context).done(function () {\r\n              $(this).remove();\r\n              that._trigger('destroyed', e, data);\r\n            });\r\n          };\r\n        if (data.url) {\r\n          data.dataType = data.dataType || that.options.dataType;\r\n          $.ajax(data)\r\n            .done(removeNode)\r\n            .fail(function () {\r\n              that._trigger('destroyfailed', e, data);\r\n            });\r\n        } else {\r\n          removeNode();\r\n        }\r\n      }\r\n    },\r\n\r\n    _resetFinishedDeferreds: function () {\r\n      this._finishedUploads = [];\r\n    },\r\n\r\n    _addFinishedDeferreds: function (deferred) {\r\n      // eslint-disable-next-line new-cap\r\n      var promise = deferred || $.Deferred();\r\n      this._finishedUploads.push(promise);\r\n      return promise;\r\n    },\r\n\r\n    _getFinishedDeferreds: function () {\r\n      return this._finishedUploads;\r\n    },\r\n\r\n    // Link handler, that allows to download files\r\n    // by drag & drop of the links to the desktop:\r\n    _enableDragToDesktop: function () {\r\n      var link = $(this),\r\n        url = link.prop('href'),\r\n        name = link.prop('download'),\r\n        type = 'application/octet-stream';\r\n      link.on('dragstart', function (e) {\r\n        try {\r\n          e.originalEvent.dataTransfer.setData(\r\n            'DownloadURL',\r\n            [type, name, url].join(':')\r\n          );\r\n        } catch (ignore) {\r\n          // Ignore exceptions\r\n        }\r\n      });\r\n    },\r\n\r\n    _formatFileSize: function (bytes) {\r\n      if (typeof bytes !== 'number') {\r\n        return '';\r\n      }\r\n      if (bytes >= 1000000000) {\r\n        return (bytes / 1000000000).toFixed(2) + ' GB';\r\n      }\r\n      if (bytes >= 1000000) {\r\n        return (bytes / 1000000).toFixed(2) + ' MB';\r\n      }\r\n      return (bytes / 1000).toFixed(2) + ' KB';\r\n    },\r\n\r\n    _formatBitrate: function (bits) {\r\n      if (typeof bits !== 'number') {\r\n        return '';\r\n      }\r\n      if (bits >= 1000000000) {\r\n        return (bits / 1000000000).toFixed(2) + ' Gbit/s';\r\n      }\r\n      if (bits >= 1000000) {\r\n        return (bits / 1000000).toFixed(2) + ' Mbit/s';\r\n      }\r\n      if (bits >= 1000) {\r\n        return (bits / 1000).toFixed(2) + ' kbit/s';\r\n      }\r\n      return bits.toFixed(2) + ' bit/s';\r\n    },\r\n\r\n    _formatTime: function (seconds) {\r\n      var date = new Date(seconds * 1000),\r\n        days = Math.floor(seconds / 86400);\r\n      days = days ? days + 'd ' : '';\r\n      return (\r\n        days +\r\n        ('0' + date.getUTCHours()).slice(-2) +\r\n        ':' +\r\n        ('0' + date.getUTCMinutes()).slice(-2) +\r\n        ':' +\r\n        ('0' + date.getUTCSeconds()).slice(-2)\r\n      );\r\n    },\r\n\r\n    _formatPercentage: function (floatValue) {\r\n      return (floatValue * 100).toFixed(2) + ' %';\r\n    },\r\n\r\n    _renderExtendedProgress: function (data) {\r\n      return (\r\n        this._formatBitrate(data.bitrate) +\r\n        ' | ' +\r\n        this._formatTime(((data.total - data.loaded) * 8) / data.bitrate) +\r\n        ' | ' +\r\n        this._formatPercentage(data.loaded / data.total) +\r\n        ' | ' +\r\n        this._formatFileSize(data.loaded) +\r\n        ' / ' +\r\n        this._formatFileSize(data.total)\r\n      );\r\n    },\r\n\r\n    _renderTemplate: function (func, files) {\r\n      if (!func) {\r\n        return $();\r\n      }\r\n      var result = func({\r\n        files: files,\r\n        formatFileSize: this._formatFileSize,\r\n        options: this.options\r\n      });\r\n      if (result instanceof $) {\r\n        return result;\r\n      }\r\n      return $(this.options.templatesContainer).html(result).children();\r\n    },\r\n\r\n    _renderPreviews: function (data) {\r\n      data.context.find('.preview').each(function (index, elm) {\r\n        $(elm).empty().append(data.files[index].preview);\r\n      });\r\n    },\r\n\r\n    _renderUpload: function (files) {\r\n      return this._renderTemplate(this.options.uploadTemplate, files);\r\n    },\r\n\r\n    _renderDownload: function (files) {\r\n      return this._renderTemplate(this.options.downloadTemplate, files)\r\n        .find('a[download]')\r\n        .each(this._enableDragToDesktop)\r\n        .end();\r\n    },\r\n\r\n    _editHandler: function (e) {\r\n      e.preventDefault();\r\n      if (!this.options.edit) return;\r\n      var that = this,\r\n        button = $(e.currentTarget),\r\n        template = button.closest('.template-upload'),\r\n        data = template.data('data'),\r\n        index = button.data().index;\r\n      this.options.edit(data.files[index]).then(function (file) {\r\n        if (!file) return;\r\n        data.files[index] = file;\r\n        data.context.addClass('processing');\r\n        template.find('.edit,.start').prop('disabled', true);\r\n        $(that.element)\r\n          .fileupload('process', data)\r\n          .always(function () {\r\n            template\r\n              .find('.size')\r\n              .text(that._formatFileSize(data.files[index].size));\r\n            data.context.removeClass('processing');\r\n            that._renderPreviews(data);\r\n          })\r\n          .done(function () {\r\n            template.find('.edit,.start').prop('disabled', false);\r\n          })\r\n          .fail(function () {\r\n            template.find('.edit').prop('disabled', false);\r\n            var error = data.files[index].error;\r\n            if (error) {\r\n              template.find('.error').text(error);\r\n            }\r\n          });\r\n      });\r\n    },\r\n\r\n    _startHandler: function (e) {\r\n      e.preventDefault();\r\n      var button = $(e.currentTarget),\r\n        template = button.closest('.template-upload'),\r\n        data = template.data('data');\r\n      button.prop('disabled', true);\r\n      if (data && data.submit) {\r\n        data.submit();\r\n      }\r\n    },\r\n\r\n    _cancelHandler: function (e) {\r\n      e.preventDefault();\r\n      var template = $(e.currentTarget).closest(\r\n          '.template-upload,.template-download'\r\n        ),\r\n        data = template.data('data') || {};\r\n      data.context = data.context || template;\r\n      if (data.abort) {\r\n        data.abort();\r\n      } else {\r\n        data.errorThrown = 'abort';\r\n        this._trigger('fail', e, data);\r\n      }\r\n    },\r\n\r\n    _deleteHandler: function (e) {\r\n      e.preventDefault();\r\n      var button = $(e.currentTarget);\r\n      this._trigger(\r\n        'destroy',\r\n        e,\r\n        $.extend(\r\n          {\r\n            context: button.closest('.template-download'),\r\n            type: 'DELETE'\r\n          },\r\n          button.data()\r\n        )\r\n      );\r\n    },\r\n\r\n    _forceReflow: function (node) {\r\n      return $.support.transition && node.length && node[0].offsetWidth;\r\n    },\r\n\r\n    _transition: function (node) {\r\n      // eslint-disable-next-line new-cap\r\n      var dfd = $.Deferred();\r\n      if (\r\n        $.support.transition &&\r\n        node.hasClass('fade') &&\r\n        node.is(':visible')\r\n      ) {\r\n        var transitionEndHandler = function (e) {\r\n          // Make sure we don't respond to other transition events\r\n          // in the container element, e.g. from button elements:\r\n          if (e.target === node[0]) {\r\n            node.off($.support.transition.end, transitionEndHandler);\r\n            dfd.resolveWith(node);\r\n          }\r\n        };\r\n        node\r\n          .on($.support.transition.end, transitionEndHandler)\r\n          .toggleClass(this.options.showElementClass);\r\n      } else {\r\n        node.toggleClass(this.options.showElementClass);\r\n        dfd.resolveWith(node);\r\n      }\r\n      return dfd;\r\n    },\r\n\r\n    _initButtonBarEventHandlers: function () {\r\n      var fileUploadButtonBar = this.element.find('.fileupload-buttonbar'),\r\n        filesList = this.options.filesContainer;\r\n      this._on(fileUploadButtonBar.find('.start'), {\r\n        click: function (e) {\r\n          e.preventDefault();\r\n          filesList.find('.start').trigger('click');\r\n        }\r\n      });\r\n      this._on(fileUploadButtonBar.find('.cancel'), {\r\n        click: function (e) {\r\n          e.preventDefault();\r\n          filesList.find('.cancel').trigger('click');\r\n        }\r\n      });\r\n      this._on(fileUploadButtonBar.find('.delete'), {\r\n        click: function (e) {\r\n          e.preventDefault();\r\n          filesList\r\n            .find('.toggle:checked')\r\n            .closest('.template-download')\r\n            .find('.delete')\r\n            .trigger('click');\r\n          fileUploadButtonBar.find('.toggle').prop('checked', false);\r\n        }\r\n      });\r\n      this._on(fileUploadButtonBar.find('.toggle'), {\r\n        change: function (e) {\r\n          filesList\r\n            .find('.toggle')\r\n            .prop('checked', $(e.currentTarget).is(':checked'));\r\n        }\r\n      });\r\n    },\r\n\r\n    _destroyButtonBarEventHandlers: function () {\r\n      this._off(\r\n        this.element\r\n          .find('.fileupload-buttonbar')\r\n          .find('.start, .cancel, .delete'),\r\n        'click'\r\n      );\r\n      this._off(this.element.find('.fileupload-buttonbar .toggle'), 'change.');\r\n    },\r\n\r\n    _initEventHandlers: function () {\r\n      this._super();\r\n      this._on(this.options.filesContainer, {\r\n        'click .edit': this._editHandler,\r\n        'click .start': this._startHandler,\r\n        'click .cancel': this._cancelHandler,\r\n        'click .delete': this._deleteHandler\r\n      });\r\n      this._initButtonBarEventHandlers();\r\n    },\r\n\r\n    _destroyEventHandlers: function () {\r\n      this._destroyButtonBarEventHandlers();\r\n      this._off(this.options.filesContainer, 'click');\r\n      this._super();\r\n    },\r\n\r\n    _enableFileInputButton: function () {\r\n      this.element\r\n        .find('.fileinput-button input')\r\n        .prop('disabled', false)\r\n        .parent()\r\n        .removeClass('disabled');\r\n    },\r\n\r\n    _disableFileInputButton: function () {\r\n      this.element\r\n        .find('.fileinput-button input')\r\n        .prop('disabled', true)\r\n        .parent()\r\n        .addClass('disabled');\r\n    },\r\n\r\n    _initTemplates: function () {\r\n      var options = this.options;\r\n      options.templatesContainer = this.document[0].createElement(\r\n        options.filesContainer.prop('nodeName')\r\n      );\r\n      if (tmpl) {\r\n        if (options.uploadTemplateId) {\r\n          options.uploadTemplate = tmpl(options.uploadTemplateId);\r\n        }\r\n        if (options.downloadTemplateId) {\r\n          options.downloadTemplate = tmpl(options.downloadTemplateId);\r\n        }\r\n      }\r\n    },\r\n\r\n    _initFilesContainer: function () {\r\n      var options = this.options;\r\n      if (options.filesContainer === undefined) {\r\n        options.filesContainer = this.element.find('.files');\r\n      } else if (!(options.filesContainer instanceof $)) {\r\n        options.filesContainer = $(options.filesContainer);\r\n      }\r\n    },\r\n\r\n    _initSpecialOptions: function () {\r\n      this._super();\r\n      this._initFilesContainer();\r\n      // this._initTemplates();\r\n    },\r\n\r\n    _create: function () {\r\n      this._super();\r\n      this._resetFinishedDeferreds();\r\n      if (!$.support.fileInput) {\r\n        this._disableFileInputButton();\r\n      }\r\n    },\r\n\r\n    enable: function () {\r\n      var wasDisabled = false;\r\n      if (this.options.disabled) {\r\n        wasDisabled = true;\r\n      }\r\n      this._super();\r\n      if (wasDisabled) {\r\n        this.element.find('input, button').prop('disabled', false);\r\n        this._enableFileInputButton();\r\n      }\r\n    },\r\n\r\n    disable: function () {\r\n      if (!this.options.disabled) {\r\n        this.element.find('input, button').prop('disabled', true);\r\n        this._disableFileInputButton();\r\n      }\r\n      this._super();\r\n    }\r\n  });\r\n});\r\n","Mageplaza_Core/lib/fileUploader/jquery.iframe-transport.js":"/*\r\n * jQuery Iframe Transport Plugin\r\n * https://github.com/blueimp/jQuery-File-Upload\r\n *\r\n * Copyright 2011, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, require */\r\n\r\n(function (factory) {\r\n  'use strict';\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['jquery'], factory);\r\n  } else if (typeof exports === 'object') {\r\n    // Node/CommonJS:\r\n    factory(require('jquery'));\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.jQuery);\r\n  }\r\n})(function ($) {\r\n  'use strict';\r\n\r\n  // Helper variable to create unique names for the transport iframes:\r\n  var counter = 0,\r\n    jsonAPI = $,\r\n    jsonParse = 'parseJSON';\r\n\r\n  if ('JSON' in window && 'parse' in JSON) {\r\n    jsonAPI = JSON;\r\n    jsonParse = 'parse';\r\n  }\r\n\r\n  // The iframe transport accepts four additional options:\r\n  // options.fileInput: a jQuery collection of file input fields\r\n  // options.paramName: the parameter name for the file form data,\r\n  //  overrides the name property of the file input field(s),\r\n  //  can be a string or an array of strings.\r\n  // options.formData: an array of objects with name and value properties,\r\n  //  equivalent to the return data of .serializeArray(), e.g.:\r\n  //  [{name: 'a', value: 1}, {name: 'b', value: 2}]\r\n  // options.initialIframeSrc: the URL of the initial iframe src,\r\n  //  by default set to \"javascript:false;\"\r\n  $.ajaxTransport('iframe', function (options) {\r\n    if (options.async) {\r\n      // javascript:false as initial iframe src\r\n      // prevents warning popups on HTTPS in IE6:\r\n      // eslint-disable-next-line no-script-url\r\n      var initialIframeSrc = options.initialIframeSrc || 'javascript:false;',\r\n        form,\r\n        iframe,\r\n        addParamChar;\r\n      return {\r\n        send: function (_, completeCallback) {\r\n          form = $('<form style=\"display:none;\"></form>');\r\n          form.attr('accept-charset', options.formAcceptCharset);\r\n          addParamChar = /\\?/.test(options.url) ? '&' : '?';\r\n          // XDomainRequest only supports GET and POST:\r\n          if (options.type === 'DELETE') {\r\n            options.url = options.url + addParamChar + '_method=DELETE';\r\n            options.type = 'POST';\r\n          } else if (options.type === 'PUT') {\r\n            options.url = options.url + addParamChar + '_method=PUT';\r\n            options.type = 'POST';\r\n          } else if (options.type === 'PATCH') {\r\n            options.url = options.url + addParamChar + '_method=PATCH';\r\n            options.type = 'POST';\r\n          }\r\n          // IE versions below IE8 cannot set the name property of\r\n          // elements that have already been added to the DOM,\r\n          // so we set the name along with the iframe HTML markup:\r\n          counter += 1;\r\n          iframe = $(\r\n            '<iframe src=\"' +\r\n              initialIframeSrc +\r\n              '\" name=\"iframe-transport-' +\r\n              counter +\r\n              '\"></iframe>'\r\n          ).on('load', function () {\r\n            var fileInputClones,\r\n              paramNames = $.isArray(options.paramName)\r\n                ? options.paramName\r\n                : [options.paramName];\r\n            iframe.off('load').on('load', function () {\r\n              var response;\r\n              // Wrap in a try/catch block to catch exceptions thrown\r\n              // when trying to access cross-domain iframe contents:\r\n              try {\r\n                response = iframe.contents();\r\n                // Google Chrome and Firefox do not throw an\r\n                // exception when calling iframe.contents() on\r\n                // cross-domain requests, so we unify the response:\r\n                if (!response.length || !response[0].firstChild) {\r\n                  throw new Error();\r\n                }\r\n              } catch (e) {\r\n                response = undefined;\r\n              }\r\n              // The complete callback returns the\r\n              // iframe content document as response object:\r\n              completeCallback(200, 'success', { iframe: response });\r\n              // Fix for IE endless progress bar activity bug\r\n              // (happens on form submits to iframe targets):\r\n              $('<iframe src=\"' + initialIframeSrc + '\"></iframe>').appendTo(\r\n                form\r\n              );\r\n              window.setTimeout(function () {\r\n                // Removing the form in a setTimeout call\r\n                // allows Chrome's developer tools to display\r\n                // the response result\r\n                form.remove();\r\n              }, 0);\r\n            });\r\n            form\r\n              .prop('target', iframe.prop('name'))\r\n              .prop('action', options.url)\r\n              .prop('method', options.type);\r\n            if (options.formData) {\r\n              $.each(options.formData, function (index, field) {\r\n                $('<input type=\"hidden\"/>')\r\n                  .prop('name', field.name)\r\n                  .val(field.value)\r\n                  .appendTo(form);\r\n              });\r\n            }\r\n            if (\r\n              options.fileInput &&\r\n              options.fileInput.length &&\r\n              options.type === 'POST'\r\n            ) {\r\n              fileInputClones = options.fileInput.clone();\r\n              // Insert a clone for each file input field:\r\n              options.fileInput.after(function (index) {\r\n                return fileInputClones[index];\r\n              });\r\n              if (options.paramName) {\r\n                options.fileInput.each(function (index) {\r\n                  $(this).prop('name', paramNames[index] || options.paramName);\r\n                });\r\n              }\r\n              // Appending the file input fields to the hidden form\r\n              // removes them from their original location:\r\n              form\r\n                .append(options.fileInput)\r\n                .prop('enctype', 'multipart/form-data')\r\n                // enctype must be set as encoding for IE:\r\n                .prop('encoding', 'multipart/form-data');\r\n              // Remove the HTML5 form attribute from the input(s):\r\n              options.fileInput.removeAttr('form');\r\n            }\r\n            window.setTimeout(function () {\r\n              // Submitting the form in a setTimeout call fixes an issue with\r\n              // Safari 13 not triggering the iframe load event after resetting\r\n              // the load event handler, see also:\r\n              // https://github.com/blueimp/jQuery-File-Upload/issues/3633\r\n              form.submit();\r\n              // Insert the file input fields at their original location\r\n              // by replacing the clones with the originals:\r\n              if (fileInputClones && fileInputClones.length) {\r\n                options.fileInput.each(function (index, input) {\r\n                  var clone = $(fileInputClones[index]);\r\n                  // Restore the original name and form properties:\r\n                  $(input)\r\n                    .prop('name', clone.prop('name'))\r\n                    .attr('form', clone.attr('form'));\r\n                  clone.replaceWith(input);\r\n                });\r\n              }\r\n            }, 0);\r\n          });\r\n          form.append(iframe).appendTo(document.body);\r\n        },\r\n        abort: function () {\r\n          if (iframe) {\r\n            // javascript:false as iframe src aborts the request\r\n            // and prevents warning popups on HTTPS in IE6.\r\n            iframe.off('load').prop('src', initialIframeSrc);\r\n          }\r\n          if (form) {\r\n            form.remove();\r\n          }\r\n        }\r\n      };\r\n    }\r\n  });\r\n\r\n  // The iframe transport returns the iframe content document as response.\r\n  // The following adds converters from iframe to text, json, html, xml\r\n  // and script.\r\n  // Please note that the Content-Type for JSON responses has to be text/plain\r\n  // or text/html, if the browser doesn't include application/json in the\r\n  // Accept header, else IE will show a download dialog.\r\n  // The Content-Type for XML responses on the other hand has to be always\r\n  // application/xml or text/xml, so IE properly parses the XML response.\r\n  // See also\r\n  // https://github.com/blueimp/jQuery-File-Upload/wiki/Setup#content-type-negotiation\r\n  $.ajaxSetup({\r\n    converters: {\r\n      'iframe text': function (iframe) {\r\n        return iframe && $(iframe[0].body).text();\r\n      },\r\n      'iframe json': function (iframe) {\r\n        return iframe && jsonAPI[jsonParse]($(iframe[0].body).text());\r\n      },\r\n      'iframe html': function (iframe) {\r\n        return iframe && $(iframe[0].body).html();\r\n      },\r\n      'iframe xml': function (iframe) {\r\n        var xmlDoc = iframe && iframe[0];\r\n        return xmlDoc && $.isXMLDoc(xmlDoc)\r\n          ? xmlDoc\r\n          : $.parseXML(\r\n              (xmlDoc.XMLDocument && xmlDoc.XMLDocument.xml) ||\r\n                $(xmlDoc.body).html()\r\n            );\r\n      },\r\n      'iframe script': function (iframe) {\r\n        return iframe && $.globalEval($(iframe[0].body).text());\r\n      }\r\n    }\r\n  });\r\n});\r\n","Mageplaza_Core/lib/fileUploader/vendor/jquery.ui.widget.js":"/*! jQuery UI - v1.12.1+0b7246b6eeadfa9e2696e22f3230f6452f8129dc - 2020-02-20\r\n * http://jqueryui.com\r\n * Includes: widget.js\r\n * Copyright jQuery Foundation and other contributors; Licensed MIT */\r\n\r\n/* global define, require */\r\n/* eslint-disable no-param-reassign, new-cap, jsdoc/require-jsdoc */\r\n\r\n(function (factory) {\r\n  'use strict';\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD. Register as an anonymous module.\r\n    define(['jquery'], factory);\r\n  } else if (typeof exports === 'object') {\r\n    // Node/CommonJS\r\n    factory(require('jquery'));\r\n  } else {\r\n    // Browser globals\r\n    factory(window.jQuery);\r\n  }\r\n})(function ($) {\r\n  ('use strict');\r\n\r\n  $.ui = $.ui || {};\r\n\r\n  $.ui.version = '1.12.1';\r\n\r\n  /*!\r\n   * jQuery UI Widget 1.12.1\r\n   * http://jqueryui.com\r\n   *\r\n   * Copyright jQuery Foundation and other contributors\r\n   * Released under the MIT license.\r\n   * http://jquery.org/license\r\n   */\r\n\r\n  //>>label: Widget\r\n  //>>group: Core\r\n  //>>description: Provides a factory for creating stateful widgets with a common API.\r\n  //>>docs: http://api.jqueryui.com/jQuery.widget/\r\n  //>>demos: http://jqueryui.com/widget/\r\n\r\n  // Support: jQuery 1.9.x or older\r\n  // $.expr[ \":\" ] is deprecated.\r\n  if (!$.expr.pseudos) {\r\n    $.expr.pseudos = $.expr[':'];\r\n  }\r\n\r\n  // Support: jQuery 1.11.x or older\r\n  // $.unique has been renamed to $.uniqueSort\r\n  if (!$.uniqueSort) {\r\n    $.uniqueSort = $.unique;\r\n  }\r\n\r\n  var widgetUuid = 0;\r\n  var widgetHasOwnProperty = Array.prototype.hasOwnProperty;\r\n  var widgetSlice = Array.prototype.slice;\r\n\r\n  $.cleanData = (function (orig) {\r\n    return function (elems) {\r\n      var events, elem, i;\r\n      // eslint-disable-next-line eqeqeq\r\n      for (i = 0; (elem = elems[i]) != null; i++) {\r\n        // Only trigger remove when necessary to save time\r\n        events = $._data(elem, 'events');\r\n        if (events && events.remove) {\r\n          $(elem).triggerHandler('remove');\r\n        }\r\n      }\r\n      orig(elems);\r\n    };\r\n  })($.cleanData);\r\n\r\n  $.widget = function (name, base, prototype) {\r\n    var existingConstructor, constructor, basePrototype;\r\n\r\n    // ProxiedPrototype allows the provided prototype to remain unmodified\r\n    // so that it can be used as a mixin for multiple widgets (#8876)\r\n    var proxiedPrototype = {};\r\n\r\n    var namespace = name.split('.')[0];\r\n    name = name.split('.')[1];\r\n    var fullName = namespace + '-' + name;\r\n\r\n    if (!prototype) {\r\n      prototype = base;\r\n      base = $.Widget;\r\n    }\r\n\r\n    if ($.isArray(prototype)) {\r\n      prototype = $.extend.apply(null, [{}].concat(prototype));\r\n    }\r\n\r\n    // Create selector for plugin\r\n    $.expr.pseudos[fullName.toLowerCase()] = function (elem) {\r\n      return !!$.data(elem, fullName);\r\n    };\r\n\r\n    $[namespace] = $[namespace] || {};\r\n    existingConstructor = $[namespace][name];\r\n    constructor = $[namespace][name] = function (options, element) {\r\n      // Allow instantiation without \"new\" keyword\r\n      if (!this._createWidget) {\r\n        return new constructor(options, element);\r\n      }\r\n\r\n      // Allow instantiation without initializing for simple inheritance\r\n      // must use \"new\" keyword (the code above always passes args)\r\n      if (arguments.length) {\r\n        this._createWidget(options, element);\r\n      }\r\n    };\r\n\r\n    // Extend with the existing constructor to carry over any static properties\r\n    $.extend(constructor, existingConstructor, {\r\n      version: prototype.version,\r\n\r\n      // Copy the object used to create the prototype in case we need to\r\n      // redefine the widget later\r\n      _proto: $.extend({}, prototype),\r\n\r\n      // Track widgets that inherit from this widget in case this widget is\r\n      // redefined after a widget inherits from it\r\n      _childConstructors: []\r\n    });\r\n\r\n    basePrototype = new base();\r\n\r\n    // We need to make the options hash a property directly on the new instance\r\n    // otherwise we'll modify the options hash on the prototype that we're\r\n    // inheriting from\r\n    basePrototype.options = $.widget.extend({}, basePrototype.options);\r\n    $.each(prototype, function (prop, value) {\r\n      if (!$.isFunction(value)) {\r\n        proxiedPrototype[prop] = value;\r\n        return;\r\n      }\r\n      proxiedPrototype[prop] = (function () {\r\n        function _super() {\r\n          return base.prototype[prop].apply(this, arguments);\r\n        }\r\n\r\n        function _superApply(args) {\r\n          return base.prototype[prop].apply(this, args);\r\n        }\r\n\r\n        return function () {\r\n          var __super = this._super;\r\n          var __superApply = this._superApply;\r\n          var returnValue;\r\n\r\n          this._super = _super;\r\n          this._superApply = _superApply;\r\n\r\n          returnValue = value.apply(this, arguments);\r\n\r\n          this._super = __super;\r\n          this._superApply = __superApply;\r\n\r\n          return returnValue;\r\n        };\r\n      })();\r\n    });\r\n    constructor.prototype = $.widget.extend(\r\n      basePrototype,\r\n      {\r\n        // TODO: remove support for widgetEventPrefix\r\n        // always use the name + a colon as the prefix, e.g., draggable:start\r\n        // don't prefix for widgets that aren't DOM-based\r\n        widgetEventPrefix: existingConstructor\r\n          ? basePrototype.widgetEventPrefix || name\r\n          : name\r\n      },\r\n      proxiedPrototype,\r\n      {\r\n        constructor: constructor,\r\n        namespace: namespace,\r\n        widgetName: name,\r\n        widgetFullName: fullName\r\n      }\r\n    );\r\n\r\n    // If this widget is being redefined then we need to find all widgets that\r\n    // are inheriting from it and redefine all of them so that they inherit from\r\n    // the new version of this widget. We're essentially trying to replace one\r\n    // level in the prototype chain.\r\n    if (existingConstructor) {\r\n      $.each(existingConstructor._childConstructors, function (i, child) {\r\n        var childPrototype = child.prototype;\r\n\r\n        // Redefine the child widget using the same prototype that was\r\n        // originally used, but inherit from the new version of the base\r\n        $.widget(\r\n          childPrototype.namespace + '.' + childPrototype.widgetName,\r\n          constructor,\r\n          child._proto\r\n        );\r\n      });\r\n\r\n      // Remove the list of existing child constructors from the old constructor\r\n      // so the old child constructors can be garbage collected\r\n      delete existingConstructor._childConstructors;\r\n    } else {\r\n      base._childConstructors.push(constructor);\r\n    }\r\n\r\n    $.widget.bridge(name, constructor);\r\n\r\n    return constructor;\r\n  };\r\n\r\n  $.widget.extend = function (target) {\r\n    var input = widgetSlice.call(arguments, 1);\r\n    var inputIndex = 0;\r\n    var inputLength = input.length;\r\n    var key;\r\n    var value;\r\n\r\n    for (; inputIndex < inputLength; inputIndex++) {\r\n      for (key in input[inputIndex]) {\r\n        value = input[inputIndex][key];\r\n        if (\r\n          widgetHasOwnProperty.call(input[inputIndex], key) &&\r\n          value !== undefined\r\n        ) {\r\n          // Clone objects\r\n          if ($.isPlainObject(value)) {\r\n            target[key] = $.isPlainObject(target[key])\r\n              ? $.widget.extend({}, target[key], value)\r\n              : // Don't extend strings, arrays, etc. with objects\r\n                $.widget.extend({}, value);\r\n\r\n            // Copy everything else by reference\r\n          } else {\r\n            target[key] = value;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return target;\r\n  };\r\n\r\n  $.widget.bridge = function (name, object) {\r\n    var fullName = object.prototype.widgetFullName || name;\r\n    $.fn[name] = function (options) {\r\n      var isMethodCall = typeof options === 'string';\r\n      var args = widgetSlice.call(arguments, 1);\r\n      var returnValue = this;\r\n\r\n      if (isMethodCall) {\r\n        // If this is an empty collection, we need to have the instance method\r\n        // return undefined instead of the jQuery instance\r\n        if (!this.length && options === 'instance') {\r\n          returnValue = undefined;\r\n        } else {\r\n          this.each(function () {\r\n            var methodValue;\r\n            var instance = $.data(this, fullName);\r\n\r\n            if (options === 'instance') {\r\n              returnValue = instance;\r\n              return false;\r\n            }\r\n\r\n            if (!instance) {\r\n              return $.error(\r\n                'cannot call methods on ' +\r\n                  name +\r\n                  ' prior to initialization; ' +\r\n                  \"attempted to call method '\" +\r\n                  options +\r\n                  \"'\"\r\n              );\r\n            }\r\n\r\n            if (!$.isFunction(instance[options]) || options.charAt(0) === '_') {\r\n              return $.error(\r\n                \"no such method '\" +\r\n                  options +\r\n                  \"' for \" +\r\n                  name +\r\n                  ' widget instance'\r\n              );\r\n            }\r\n\r\n            methodValue = instance[options].apply(instance, args);\r\n\r\n            if (methodValue !== instance && methodValue !== undefined) {\r\n              returnValue =\r\n                methodValue && methodValue.jquery\r\n                  ? returnValue.pushStack(methodValue.get())\r\n                  : methodValue;\r\n              return false;\r\n            }\r\n          });\r\n        }\r\n      } else {\r\n        // Allow multiple hashes to be passed on init\r\n        if (args.length) {\r\n          options = $.widget.extend.apply(null, [options].concat(args));\r\n        }\r\n\r\n        this.each(function () {\r\n          var instance = $.data(this, fullName);\r\n          if (instance) {\r\n            instance.option(options || {});\r\n            if (instance._init) {\r\n              instance._init();\r\n            }\r\n          } else {\r\n            $.data(this, fullName, new object(options, this));\r\n          }\r\n        });\r\n      }\r\n\r\n      return returnValue;\r\n    };\r\n  };\r\n\r\n  $.Widget = function (/* options, element */) {};\r\n  $.Widget._childConstructors = [];\r\n\r\n  $.Widget.prototype = {\r\n    widgetName: 'widget',\r\n    widgetEventPrefix: '',\r\n    defaultElement: '<div>',\r\n\r\n    options: {\r\n      classes: {},\r\n      disabled: false,\r\n\r\n      // Callbacks\r\n      create: null\r\n    },\r\n\r\n    _createWidget: function (options, element) {\r\n      element = $(element || this.defaultElement || this)[0];\r\n      this.element = $(element);\r\n      this.uuid = widgetUuid++;\r\n      this.eventNamespace = '.' + this.widgetName + this.uuid;\r\n\r\n      this.bindings = $();\r\n      this.hoverable = $();\r\n      this.focusable = $();\r\n      this.classesElementLookup = {};\r\n\r\n      if (element !== this) {\r\n        $.data(element, this.widgetFullName, this);\r\n        this._on(true, this.element, {\r\n          remove: function (event) {\r\n            if (event.target === element) {\r\n              this.destroy();\r\n            }\r\n          }\r\n        });\r\n        this.document = $(\r\n          element.style\r\n            ? // Element within the document\r\n              element.ownerDocument\r\n            : // Element is window or document\r\n              element.document || element\r\n        );\r\n        this.window = $(\r\n          this.document[0].defaultView || this.document[0].parentWindow\r\n        );\r\n      }\r\n\r\n      this.options = $.widget.extend(\r\n        {},\r\n        this.options,\r\n        this._getCreateOptions(),\r\n        options\r\n      );\r\n\r\n      this._create();\r\n\r\n      if (this.options.disabled) {\r\n        this._setOptionDisabled(this.options.disabled);\r\n      }\r\n\r\n      this._trigger('create', null, this._getCreateEventData());\r\n      this._init();\r\n    },\r\n\r\n    _getCreateOptions: function () {\r\n      return {};\r\n    },\r\n\r\n    _getCreateEventData: $.noop,\r\n\r\n    _create: $.noop,\r\n\r\n    _init: $.noop,\r\n\r\n    destroy: function () {\r\n      var that = this;\r\n\r\n      this._destroy();\r\n      $.each(this.classesElementLookup, function (key, value) {\r\n        that._removeClass(value, key);\r\n      });\r\n\r\n      // We can probably remove the unbind calls in 2.0\r\n      // all event bindings should go through this._on()\r\n      this.element.off(this.eventNamespace).removeData(this.widgetFullName);\r\n      this.widget().off(this.eventNamespace).removeAttr('aria-disabled');\r\n\r\n      // Clean up events and states\r\n      this.bindings.off(this.eventNamespace);\r\n    },\r\n\r\n    _destroy: $.noop,\r\n\r\n    widget: function () {\r\n      return this.element;\r\n    },\r\n\r\n    option: function (key, value) {\r\n      var options = key;\r\n      var parts;\r\n      var curOption;\r\n      var i;\r\n\r\n      if (arguments.length === 0) {\r\n        // Don't return a reference to the internal hash\r\n        return $.widget.extend({}, this.options);\r\n      }\r\n\r\n      if (typeof key === 'string') {\r\n        // Handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\r\n        options = {};\r\n        parts = key.split('.');\r\n        key = parts.shift();\r\n        if (parts.length) {\r\n          curOption = options[key] = $.widget.extend({}, this.options[key]);\r\n          for (i = 0; i < parts.length - 1; i++) {\r\n            curOption[parts[i]] = curOption[parts[i]] || {};\r\n            curOption = curOption[parts[i]];\r\n          }\r\n          key = parts.pop();\r\n          if (arguments.length === 1) {\r\n            return curOption[key] === undefined ? null : curOption[key];\r\n          }\r\n          curOption[key] = value;\r\n        } else {\r\n          if (arguments.length === 1) {\r\n            return this.options[key] === undefined ? null : this.options[key];\r\n          }\r\n          options[key] = value;\r\n        }\r\n      }\r\n\r\n      this._setOptions(options);\r\n\r\n      return this;\r\n    },\r\n\r\n    _setOptions: function (options) {\r\n      var key;\r\n\r\n      for (key in options) {\r\n        this._setOption(key, options[key]);\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    _setOption: function (key, value) {\r\n      if (key === 'classes') {\r\n        this._setOptionClasses(value);\r\n      }\r\n\r\n      this.options[key] = value;\r\n\r\n      if (key === 'disabled') {\r\n        this._setOptionDisabled(value);\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    _setOptionClasses: function (value) {\r\n      var classKey, elements, currentElements;\r\n\r\n      for (classKey in value) {\r\n        currentElements = this.classesElementLookup[classKey];\r\n        if (\r\n          value[classKey] === this.options.classes[classKey] ||\r\n          !currentElements ||\r\n          !currentElements.length\r\n        ) {\r\n          continue;\r\n        }\r\n\r\n        // We are doing this to create a new jQuery object because the _removeClass() call\r\n        // on the next line is going to destroy the reference to the current elements being\r\n        // tracked. We need to save a copy of this collection so that we can add the new classes\r\n        // below.\r\n        elements = $(currentElements.get());\r\n        this._removeClass(currentElements, classKey);\r\n\r\n        // We don't use _addClass() here, because that uses this.options.classes\r\n        // for generating the string of classes. We want to use the value passed in from\r\n        // _setOption(), this is the new value of the classes option which was passed to\r\n        // _setOption(). We pass this value directly to _classes().\r\n        elements.addClass(\r\n          this._classes({\r\n            element: elements,\r\n            keys: classKey,\r\n            classes: value,\r\n            add: true\r\n          })\r\n        );\r\n      }\r\n    },\r\n\r\n    _setOptionDisabled: function (value) {\r\n      this._toggleClass(\r\n        this.widget(),\r\n        this.widgetFullName + '-disabled',\r\n        null,\r\n        !!value\r\n      );\r\n\r\n      // If the widget is becoming disabled, then nothing is interactive\r\n      if (value) {\r\n        this._removeClass(this.hoverable, null, 'ui-state-hover');\r\n        this._removeClass(this.focusable, null, 'ui-state-focus');\r\n      }\r\n    },\r\n\r\n    enable: function () {\r\n      return this._setOptions({ disabled: false });\r\n    },\r\n\r\n    disable: function () {\r\n      return this._setOptions({ disabled: true });\r\n    },\r\n\r\n    _classes: function (options) {\r\n      var full = [];\r\n      var that = this;\r\n\r\n      options = $.extend(\r\n        {\r\n          element: this.element,\r\n          classes: this.options.classes || {}\r\n        },\r\n        options\r\n      );\r\n\r\n      function bindRemoveEvent() {\r\n        options.element.each(function (_, element) {\r\n          var isTracked = $.map(that.classesElementLookup, function (elements) {\r\n            return elements;\r\n          }).some(function (elements) {\r\n            return elements.is(element);\r\n          });\r\n\r\n          if (!isTracked) {\r\n            that._on($(element), {\r\n              remove: '_untrackClassesElement'\r\n            });\r\n          }\r\n        });\r\n      }\r\n\r\n      function processClassString(classes, checkOption) {\r\n        var current, i;\r\n        for (i = 0; i < classes.length; i++) {\r\n          current = that.classesElementLookup[classes[i]] || $();\r\n          if (options.add) {\r\n            bindRemoveEvent();\r\n            current = $(\r\n              $.uniqueSort(current.get().concat(options.element.get()))\r\n            );\r\n          } else {\r\n            current = $(current.not(options.element).get());\r\n          }\r\n          that.classesElementLookup[classes[i]] = current;\r\n          full.push(classes[i]);\r\n          if (checkOption && options.classes[classes[i]]) {\r\n            full.push(options.classes[classes[i]]);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (options.keys) {\r\n        processClassString(options.keys.match(/\\S+/g) || [], true);\r\n      }\r\n      if (options.extra) {\r\n        processClassString(options.extra.match(/\\S+/g) || []);\r\n      }\r\n\r\n      return full.join(' ');\r\n    },\r\n\r\n    _untrackClassesElement: function (event) {\r\n      var that = this;\r\n      $.each(that.classesElementLookup, function (key, value) {\r\n        if ($.inArray(event.target, value) !== -1) {\r\n          that.classesElementLookup[key] = $(value.not(event.target).get());\r\n        }\r\n      });\r\n\r\n      this._off($(event.target));\r\n    },\r\n\r\n    _removeClass: function (element, keys, extra) {\r\n      return this._toggleClass(element, keys, extra, false);\r\n    },\r\n\r\n    _addClass: function (element, keys, extra) {\r\n      return this._toggleClass(element, keys, extra, true);\r\n    },\r\n\r\n    _toggleClass: function (element, keys, extra, add) {\r\n      add = typeof add === 'boolean' ? add : extra;\r\n      var shift = typeof element === 'string' || element === null,\r\n        options = {\r\n          extra: shift ? keys : extra,\r\n          keys: shift ? element : keys,\r\n          element: shift ? this.element : element,\r\n          add: add\r\n        };\r\n      options.element.toggleClass(this._classes(options), add);\r\n      return this;\r\n    },\r\n\r\n    _on: function (suppressDisabledCheck, element, handlers) {\r\n      var delegateElement;\r\n      var instance = this;\r\n\r\n      // No suppressDisabledCheck flag, shuffle arguments\r\n      if (typeof suppressDisabledCheck !== 'boolean') {\r\n        handlers = element;\r\n        element = suppressDisabledCheck;\r\n        suppressDisabledCheck = false;\r\n      }\r\n\r\n      // No element argument, shuffle and use this.element\r\n      if (!handlers) {\r\n        handlers = element;\r\n        element = this.element;\r\n        delegateElement = this.widget();\r\n      } else {\r\n        element = delegateElement = $(element);\r\n        this.bindings = this.bindings.add(element);\r\n      }\r\n\r\n      $.each(handlers, function (event, handler) {\r\n        function handlerProxy() {\r\n          // Allow widgets to customize the disabled handling\r\n          // - disabled as an array instead of boolean\r\n          // - disabled class as method for disabling individual parts\r\n          if (\r\n            !suppressDisabledCheck &&\r\n            (instance.options.disabled === true ||\r\n              $(this).hasClass('ui-state-disabled'))\r\n          ) {\r\n            return;\r\n          }\r\n          return (\r\n            typeof handler === 'string' ? instance[handler] : handler\r\n          ).apply(instance, arguments);\r\n        }\r\n\r\n        // Copy the guid so direct unbinding works\r\n        if (typeof handler !== 'string') {\r\n          handlerProxy.guid = handler.guid =\r\n            handler.guid || handlerProxy.guid || $.guid++;\r\n        }\r\n\r\n        var match = event.match(/^([\\w:-]*)\\s*(.*)$/);\r\n        var eventName = match[1] + instance.eventNamespace;\r\n        var selector = match[2];\r\n\r\n        if (selector) {\r\n          delegateElement.on(eventName, selector, handlerProxy);\r\n        } else {\r\n          element.on(eventName, handlerProxy);\r\n        }\r\n      });\r\n    },\r\n\r\n    _off: function (element, eventName) {\r\n      eventName =\r\n        (eventName || '').split(' ').join(this.eventNamespace + ' ') +\r\n        this.eventNamespace;\r\n      element.off(eventName);\r\n\r\n      // Clear the stack to avoid memory leaks (#10056)\r\n      this.bindings = $(this.bindings.not(element).get());\r\n      this.focusable = $(this.focusable.not(element).get());\r\n      this.hoverable = $(this.hoverable.not(element).get());\r\n    },\r\n\r\n    _delay: function (handler, delay) {\r\n      var instance = this;\r\n      function handlerProxy() {\r\n        return (\r\n          typeof handler === 'string' ? instance[handler] : handler\r\n        ).apply(instance, arguments);\r\n      }\r\n      return setTimeout(handlerProxy, delay || 0);\r\n    },\r\n\r\n    _hoverable: function (element) {\r\n      this.hoverable = this.hoverable.add(element);\r\n      this._on(element, {\r\n        mouseenter: function (event) {\r\n          this._addClass($(event.currentTarget), null, 'ui-state-hover');\r\n        },\r\n        mouseleave: function (event) {\r\n          this._removeClass($(event.currentTarget), null, 'ui-state-hover');\r\n        }\r\n      });\r\n    },\r\n\r\n    _focusable: function (element) {\r\n      this.focusable = this.focusable.add(element);\r\n      this._on(element, {\r\n        focusin: function (event) {\r\n          this._addClass($(event.currentTarget), null, 'ui-state-focus');\r\n        },\r\n        focusout: function (event) {\r\n          this._removeClass($(event.currentTarget), null, 'ui-state-focus');\r\n        }\r\n      });\r\n    },\r\n\r\n    _trigger: function (type, event, data) {\r\n      var prop, orig;\r\n      var callback = this.options[type];\r\n\r\n      data = data || {};\r\n      event = $.Event(event);\r\n      event.type = (\r\n        type === this.widgetEventPrefix ? type : this.widgetEventPrefix + type\r\n      ).toLowerCase();\r\n\r\n      // The original event may come from any element\r\n      // so we need to reset the target on the new event\r\n      event.target = this.element[0];\r\n\r\n      // Copy original event properties over to the new event\r\n      orig = event.originalEvent;\r\n      if (orig) {\r\n        for (prop in orig) {\r\n          if (!(prop in event)) {\r\n            event[prop] = orig[prop];\r\n          }\r\n        }\r\n      }\r\n\r\n      this.element.trigger(event, data);\r\n      return !(\r\n        ($.isFunction(callback) &&\r\n          callback.apply(this.element[0], [event].concat(data)) === false) ||\r\n        event.isDefaultPrevented()\r\n      );\r\n    }\r\n  };\r\n\r\n  $.each({ show: 'fadeIn', hide: 'fadeOut' }, function (method, defaultEffect) {\r\n    $.Widget.prototype['_' + method] = function (element, options, callback) {\r\n      if (typeof options === 'string') {\r\n        options = { effect: options };\r\n      }\r\n\r\n      var hasOptions;\r\n      var effectName = !options\r\n        ? method\r\n        : options === true || typeof options === 'number'\r\n        ? defaultEffect\r\n        : options.effect || defaultEffect;\r\n\r\n      options = options || {};\r\n      if (typeof options === 'number') {\r\n        options = { duration: options };\r\n      }\r\n\r\n      hasOptions = !$.isEmptyObject(options);\r\n      options.complete = callback;\r\n\r\n      if (options.delay) {\r\n        element.delay(options.delay);\r\n      }\r\n\r\n      if (hasOptions && $.effects && $.effects.effect[effectName]) {\r\n        element[method](options);\r\n      } else if (effectName !== method && element[effectName]) {\r\n        element[effectName](options.duration, options.easing, callback);\r\n      } else {\r\n        element.queue(function (next) {\r\n          $(this)[method]();\r\n          if (callback) {\r\n            callback.call(element[0]);\r\n          }\r\n          next();\r\n        });\r\n      }\r\n    };\r\n  });\r\n});\r\n","Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-exif.js":"/*\r\n * JavaScript Load Image Exif Parser\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, module, require, DataView */\r\n\r\n/* eslint-disable no-console */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image', 'Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-meta'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image'), require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-meta'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n})(function (loadImage) {\r\n  'use strict'\r\n\r\n  /**\r\n   * Exif tag map\r\n   *\r\n   * @name ExifMap\r\n   * @class\r\n   * @param {number|string} tagCode IFD tag code\r\n   */\r\n  function ExifMap(tagCode) {\r\n    if (tagCode) {\r\n      Object.defineProperty(this, 'map', {\r\n        value: this.ifds[tagCode].map\r\n      })\r\n      Object.defineProperty(this, 'tags', {\r\n        value: (this.tags && this.tags[tagCode]) || {}\r\n      })\r\n    }\r\n  }\r\n\r\n  ExifMap.prototype.map = {\r\n    Orientation: 0x0112,\r\n    Thumbnail: 'ifd1',\r\n    Blob: 0x0201, // Alias for JPEGInterchangeFormat\r\n    Exif: 0x8769,\r\n    GPSInfo: 0x8825,\r\n    Interoperability: 0xa005\r\n  }\r\n\r\n  ExifMap.prototype.ifds = {\r\n    ifd1: { name: 'Thumbnail', map: ExifMap.prototype.map },\r\n    0x8769: { name: 'Exif', map: {} },\r\n    0x8825: { name: 'GPSInfo', map: {} },\r\n    0xa005: { name: 'Interoperability', map: {} }\r\n  }\r\n\r\n  /**\r\n   * Retrieves exif tag value\r\n   *\r\n   * @param {number|string} id Exif tag code or name\r\n   * @returns {object} Exif tag value\r\n   */\r\n  ExifMap.prototype.get = function (id) {\r\n    return this[id] || this[this.map[id]]\r\n  }\r\n\r\n  /**\r\n   * Returns the Exif Thumbnail data as Blob.\r\n   *\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} offset Thumbnail data offset\r\n   * @param {number} length Thumbnail data length\r\n   * @returns {undefined|Blob} Returns the Thumbnail Blob or undefined\r\n   */\r\n  function getExifThumbnail(dataView, offset, length) {\r\n    if (!length) return\r\n    if (offset + length > dataView.byteLength) {\r\n      console.log('Invalid Exif data: Invalid thumbnail data.')\r\n      return\r\n    }\r\n    return new Blob(\r\n      [loadImage.bufferSlice.call(dataView.buffer, offset, offset + length)],\r\n      {\r\n        type: 'image/jpeg'\r\n      }\r\n    )\r\n  }\r\n\r\n  var ExifTagTypes = {\r\n    // byte, 8-bit unsigned int:\r\n    1: {\r\n      getValue: function (dataView, dataOffset) {\r\n        return dataView.getUint8(dataOffset)\r\n      },\r\n      size: 1\r\n    },\r\n    // ascii, 8-bit byte:\r\n    2: {\r\n      getValue: function (dataView, dataOffset) {\r\n        return String.fromCharCode(dataView.getUint8(dataOffset))\r\n      },\r\n      size: 1,\r\n      ascii: true\r\n    },\r\n    // short, 16 bit int:\r\n    3: {\r\n      getValue: function (dataView, dataOffset, littleEndian) {\r\n        return dataView.getUint16(dataOffset, littleEndian)\r\n      },\r\n      size: 2\r\n    },\r\n    // long, 32 bit int:\r\n    4: {\r\n      getValue: function (dataView, dataOffset, littleEndian) {\r\n        return dataView.getUint32(dataOffset, littleEndian)\r\n      },\r\n      size: 4\r\n    },\r\n    // rational = two long values, first is numerator, second is denominator:\r\n    5: {\r\n      getValue: function (dataView, dataOffset, littleEndian) {\r\n        return (\r\n          dataView.getUint32(dataOffset, littleEndian) /\r\n          dataView.getUint32(dataOffset + 4, littleEndian)\r\n        )\r\n      },\r\n      size: 8\r\n    },\r\n    // slong, 32 bit signed int:\r\n    9: {\r\n      getValue: function (dataView, dataOffset, littleEndian) {\r\n        return dataView.getInt32(dataOffset, littleEndian)\r\n      },\r\n      size: 4\r\n    },\r\n    // srational, two slongs, first is numerator, second is denominator:\r\n    10: {\r\n      getValue: function (dataView, dataOffset, littleEndian) {\r\n        return (\r\n          dataView.getInt32(dataOffset, littleEndian) /\r\n          dataView.getInt32(dataOffset + 4, littleEndian)\r\n        )\r\n      },\r\n      size: 8\r\n    }\r\n  }\r\n  // undefined, 8-bit byte, value depending on field:\r\n  ExifTagTypes[7] = ExifTagTypes[1]\r\n\r\n  /**\r\n   * Returns Exif tag value.\r\n   *\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} tiffOffset TIFF offset\r\n   * @param {number} offset Tag offset\r\n   * @param {number} type Tag type\r\n   * @param {number} length Tag length\r\n   * @param {boolean} littleEndian Little endian encoding\r\n   * @returns {object} Tag value\r\n   */\r\n  function getExifValue(\r\n    dataView,\r\n    tiffOffset,\r\n    offset,\r\n    type,\r\n    length,\r\n    littleEndian\r\n  ) {\r\n    var tagType = ExifTagTypes[type]\r\n    var tagSize\r\n    var dataOffset\r\n    var values\r\n    var i\r\n    var str\r\n    var c\r\n    if (!tagType) {\r\n      console.log('Invalid Exif data: Invalid tag type.')\r\n      return\r\n    }\r\n    tagSize = tagType.size * length\r\n    // Determine if the value is contained in the dataOffset bytes,\r\n    // or if the value at the dataOffset is a pointer to the actual data:\r\n    dataOffset =\r\n      tagSize > 4\r\n        ? tiffOffset + dataView.getUint32(offset + 8, littleEndian)\r\n        : offset + 8\r\n    if (dataOffset + tagSize > dataView.byteLength) {\r\n      console.log('Invalid Exif data: Invalid data offset.')\r\n      return\r\n    }\r\n    if (length === 1) {\r\n      return tagType.getValue(dataView, dataOffset, littleEndian)\r\n    }\r\n    values = []\r\n    for (i = 0; i < length; i += 1) {\r\n      values[i] = tagType.getValue(\r\n        dataView,\r\n        dataOffset + i * tagType.size,\r\n        littleEndian\r\n      )\r\n    }\r\n    if (tagType.ascii) {\r\n      str = ''\r\n      // Concatenate the chars:\r\n      for (i = 0; i < values.length; i += 1) {\r\n        c = values[i]\r\n        // Ignore the terminating NULL byte(s):\r\n        if (c === '\\u0000') {\r\n          break\r\n        }\r\n        str += c\r\n      }\r\n      return str\r\n    }\r\n    return values\r\n  }\r\n\r\n  /**\r\n   * Determines if the given tag should be included.\r\n   *\r\n   * @param {object} includeTags Map of tags to include\r\n   * @param {object} excludeTags Map of tags to exclude\r\n   * @param {number|string} tagCode Tag code to check\r\n   * @returns {boolean} True if the tag should be included\r\n   */\r\n  function shouldIncludeTag(includeTags, excludeTags, tagCode) {\r\n    return (\r\n      (!includeTags || includeTags[tagCode]) &&\r\n      (!excludeTags || excludeTags[tagCode] !== true)\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Parses Exif tags.\r\n   *\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} tiffOffset TIFF offset\r\n   * @param {number} dirOffset Directory offset\r\n   * @param {boolean} littleEndian Little endian encoding\r\n   * @param {ExifMap} tags Map to store parsed exif tags\r\n   * @param {ExifMap} tagOffsets Map to store parsed exif tag offsets\r\n   * @param {object} includeTags Map of tags to include\r\n   * @param {object} excludeTags Map of tags to exclude\r\n   * @returns {number} Next directory offset\r\n   */\r\n  function parseExifTags(\r\n    dataView,\r\n    tiffOffset,\r\n    dirOffset,\r\n    littleEndian,\r\n    tags,\r\n    tagOffsets,\r\n    includeTags,\r\n    excludeTags\r\n  ) {\r\n    var tagsNumber, dirEndOffset, i, tagOffset, tagNumber, tagValue\r\n    if (dirOffset + 6 > dataView.byteLength) {\r\n      console.log('Invalid Exif data: Invalid directory offset.')\r\n      return\r\n    }\r\n    tagsNumber = dataView.getUint16(dirOffset, littleEndian)\r\n    dirEndOffset = dirOffset + 2 + 12 * tagsNumber\r\n    if (dirEndOffset + 4 > dataView.byteLength) {\r\n      console.log('Invalid Exif data: Invalid directory size.')\r\n      return\r\n    }\r\n    for (i = 0; i < tagsNumber; i += 1) {\r\n      tagOffset = dirOffset + 2 + 12 * i\r\n      tagNumber = dataView.getUint16(tagOffset, littleEndian)\r\n      if (!shouldIncludeTag(includeTags, excludeTags, tagNumber)) continue\r\n      tagValue = getExifValue(\r\n        dataView,\r\n        tiffOffset,\r\n        tagOffset,\r\n        dataView.getUint16(tagOffset + 2, littleEndian), // tag type\r\n        dataView.getUint32(tagOffset + 4, littleEndian), // tag length\r\n        littleEndian\r\n      )\r\n      tags[tagNumber] = tagValue\r\n      if (tagOffsets) {\r\n        tagOffsets[tagNumber] = tagOffset\r\n      }\r\n    }\r\n    // Return the offset to the next directory:\r\n    return dataView.getUint32(dirEndOffset, littleEndian)\r\n  }\r\n\r\n  /**\r\n   * Parses tags in a given IFD (Image File Directory).\r\n   *\r\n   * @param {object} data Data object to store exif tags and offsets\r\n   * @param {number|string} tagCode IFD tag code\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} tiffOffset TIFF offset\r\n   * @param {boolean} littleEndian Little endian encoding\r\n   * @param {object} includeTags Map of tags to include\r\n   * @param {object} excludeTags Map of tags to exclude\r\n   */\r\n  function parseExifIFD(\r\n    data,\r\n    tagCode,\r\n    dataView,\r\n    tiffOffset,\r\n    littleEndian,\r\n    includeTags,\r\n    excludeTags\r\n  ) {\r\n    var dirOffset = data.exif[tagCode]\r\n    if (dirOffset) {\r\n      data.exif[tagCode] = new ExifMap(tagCode)\r\n      if (data.exifOffsets) {\r\n        data.exifOffsets[tagCode] = new ExifMap(tagCode)\r\n      }\r\n      parseExifTags(\r\n        dataView,\r\n        tiffOffset,\r\n        tiffOffset + dirOffset,\r\n        littleEndian,\r\n        data.exif[tagCode],\r\n        data.exifOffsets && data.exifOffsets[tagCode],\r\n        includeTags && includeTags[tagCode],\r\n        excludeTags && excludeTags[tagCode]\r\n      )\r\n    }\r\n  }\r\n\r\n  loadImage.parseExifData = function (dataView, offset, length, data, options) {\r\n    if (options.disableExif) {\r\n      return\r\n    }\r\n    var includeTags = options.includeExifTags\r\n    var excludeTags = options.excludeExifTags || {\r\n      0x8769: {\r\n        // ExifIFDPointer\r\n        0x927c: true // MakerNote\r\n      }\r\n    }\r\n    var tiffOffset = offset + 10\r\n    var littleEndian\r\n    var dirOffset\r\n    var thumbnailIFD\r\n    // Check for the ASCII code for \"Exif\" (0x45786966):\r\n    if (dataView.getUint32(offset + 4) !== 0x45786966) {\r\n      // No Exif data, might be XMP data instead\r\n      return\r\n    }\r\n    if (tiffOffset + 8 > dataView.byteLength) {\r\n      console.log('Invalid Exif data: Invalid segment size.')\r\n      return\r\n    }\r\n    // Check for the two null bytes:\r\n    if (dataView.getUint16(offset + 8) !== 0x0000) {\r\n      console.log('Invalid Exif data: Missing byte alignment offset.')\r\n      return\r\n    }\r\n    // Check the byte alignment:\r\n    switch (dataView.getUint16(tiffOffset)) {\r\n      case 0x4949:\r\n        littleEndian = true\r\n        break\r\n      case 0x4d4d:\r\n        littleEndian = false\r\n        break\r\n      default:\r\n        console.log('Invalid Exif data: Invalid byte alignment marker.')\r\n        return\r\n    }\r\n    // Check for the TIFF tag marker (0x002A):\r\n    if (dataView.getUint16(tiffOffset + 2, littleEndian) !== 0x002a) {\r\n      console.log('Invalid Exif data: Missing TIFF marker.')\r\n      return\r\n    }\r\n    // Retrieve the directory offset bytes, usually 0x00000008 or 8 decimal:\r\n    dirOffset = dataView.getUint32(tiffOffset + 4, littleEndian)\r\n    // Create the exif object to store the tags:\r\n    data.exif = new ExifMap()\r\n    if (!options.disableExifOffsets) {\r\n      data.exifOffsets = new ExifMap()\r\n      data.exifTiffOffset = tiffOffset\r\n      data.exifLittleEndian = littleEndian\r\n    }\r\n    // Parse the tags of the main image directory (IFD0) and retrieve the\r\n    // offset to the next directory (IFD1), usually the thumbnail directory:\r\n    dirOffset = parseExifTags(\r\n      dataView,\r\n      tiffOffset,\r\n      tiffOffset + dirOffset,\r\n      littleEndian,\r\n      data.exif,\r\n      data.exifOffsets,\r\n      includeTags,\r\n      excludeTags\r\n    )\r\n    if (dirOffset && shouldIncludeTag(includeTags, excludeTags, 'ifd1')) {\r\n      data.exif.ifd1 = dirOffset\r\n      if (data.exifOffsets) {\r\n        data.exifOffsets.ifd1 = tiffOffset + dirOffset\r\n      }\r\n    }\r\n    Object.keys(data.exif.ifds).forEach(function (tagCode) {\r\n      parseExifIFD(\r\n        data,\r\n        tagCode,\r\n        dataView,\r\n        tiffOffset,\r\n        littleEndian,\r\n        includeTags,\r\n        excludeTags\r\n      )\r\n    })\r\n    thumbnailIFD = data.exif.ifd1\r\n    // Check for JPEG Thumbnail offset and data length:\r\n    if (thumbnailIFD && thumbnailIFD[0x0201]) {\r\n      thumbnailIFD[0x0201] = getExifThumbnail(\r\n        dataView,\r\n        tiffOffset + thumbnailIFD[0x0201],\r\n        thumbnailIFD[0x0202] // Thumbnail data length\r\n      )\r\n    }\r\n  }\r\n\r\n  // Registers the Exif parser for the APP1 JPEG metadata segment:\r\n  loadImage.metaDataParsers.jpeg[0xffe1].push(loadImage.parseExifData)\r\n\r\n  loadImage.exifWriters = {\r\n    // Orientation writer:\r\n    0x0112: function (buffer, data, value) {\r\n      var orientationOffset = data.exifOffsets[0x0112]\r\n      if (!orientationOffset) return buffer\r\n      var view = new DataView(buffer, orientationOffset + 8, 2)\r\n      view.setUint16(0, value, data.exifLittleEndian)\r\n      return buffer\r\n    }\r\n  }\r\n\r\n  loadImage.writeExifData = function (buffer, data, id, value) {\r\n    loadImage.exifWriters[data.exif.map[id]](buffer, data, value)\r\n  }\r\n\r\n  loadImage.ExifMap = ExifMap\r\n\r\n  // Adds the following properties to the parseMetaData callback data:\r\n  // - exif: The parsed Exif tags\r\n  // - exifOffsets: The parsed Exif tag offsets\r\n  // - exifTiffOffset: TIFF header offset (used for offset pointers)\r\n  // - exifLittleEndian: little endian order if true, big endian if false\r\n\r\n  // Adds the following options to the parseMetaData method:\r\n  // - disableExif: Disables Exif parsing when true.\r\n  // - disableExifOffsets: Disables storing Exif tag offsets when true.\r\n  // - includeExifTags: A map of Exif tags to include for parsing.\r\n  // - excludeExifTags: A map of Exif tags to exclude from parsing.\r\n})\r\n","Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-orientation.js":"/*\r\n * JavaScript Load Image Orientation\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/*\r\nExif orientation values to correctly display the letter F:\r\n\r\n    1             2\r\n  \u2588\u2588\u2588\u2588\u2588\u2588        \u2588\u2588\u2588\u2588\u2588\u2588\r\n  \u2588\u2588                \u2588\u2588\r\n  \u2588\u2588\u2588\u2588            \u2588\u2588\u2588\u2588\r\n  \u2588\u2588                \u2588\u2588\r\n  \u2588\u2588                \u2588\u2588\r\n\r\n    3             4\r\n      \u2588\u2588        \u2588\u2588\r\n      \u2588\u2588        \u2588\u2588\r\n    \u2588\u2588\u2588\u2588        \u2588\u2588\u2588\u2588\r\n      \u2588\u2588        \u2588\u2588\r\n  \u2588\u2588\u2588\u2588\u2588\u2588        \u2588\u2588\u2588\u2588\u2588\u2588\r\n\r\n    5             6\r\n\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588    \u2588\u2588\r\n\u2588\u2588  \u2588\u2588        \u2588\u2588  \u2588\u2588\r\n\u2588\u2588            \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\r\n\r\n    7             8\r\n        \u2588\u2588    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\r\n    \u2588\u2588  \u2588\u2588        \u2588\u2588  \u2588\u2588\r\n\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588            \u2588\u2588\r\n\r\n*/\r\n\r\n/* global define, module, require */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image', 'Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-scale', 'Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-meta'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(\r\n      require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image'),\r\n      require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-scale'),\r\n      require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-meta')\r\n    )\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n})(function (loadImage) {\r\n  'use strict'\r\n\r\n  var originalTransform = loadImage.transform\r\n  var originalRequiresCanvas = loadImage.requiresCanvas\r\n  var originalRequiresMetaData = loadImage.requiresMetaData\r\n  var originalTransformCoordinates = loadImage.transformCoordinates\r\n  var originalGetTransformedOptions = loadImage.getTransformedOptions\r\n\r\n  ;(function ($) {\r\n    // Guard for non-browser environments (e.g. server-side rendering):\r\n    if (!$.global.document) return\r\n    // black+white 3x2 JPEG, with the following meta information set:\r\n    // - EXIF Orientation: 6 (Rotated 90\u00b0 CCW)\r\n    // Image data layout (B=black, F=white):\r\n    // BFF\r\n    // BBB\r\n    var testImageURL =\r\n      'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\r\n      'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\r\n      'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\r\n      'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/x' +\r\n      'ABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAA' +\r\n      'AAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQ' +\r\n      'voP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXw' +\r\n      'H/9k='\r\n    var img = document.createElement('img')\r\n    img.onload = function () {\r\n      // Check if the browser supports automatic image orientation:\r\n      $.orientation = img.width === 2 && img.height === 3\r\n      if ($.orientation) {\r\n        var canvas = $.createCanvas(1, 1, true)\r\n        var ctx = canvas.getContext('2d')\r\n        ctx.drawImage(img, 1, 1, 1, 1, 0, 0, 1, 1)\r\n        // Check if the source image coordinates (sX, sY, sWidth, sHeight) are\r\n        // correctly applied to the auto-orientated image, which should result\r\n        // in a white opaque pixel (e.g. in Safari).\r\n        // Browsers that show a transparent pixel (e.g. Chromium) fail to crop\r\n        // auto-oriented images correctly and require a workaround, e.g.\r\n        // drawing the complete source image to an intermediate canvas first.\r\n        // See https://bugs.chromium.org/p/chromium/issues/detail?id=1074354\r\n        $.orientationCropBug =\r\n          ctx.getImageData(0, 0, 1, 1).data.toString() !== '255,255,255,255'\r\n      }\r\n    }\r\n    img.src = testImageURL\r\n  })(loadImage)\r\n\r\n  /**\r\n   * Determines if the orientation requires a canvas element.\r\n   *\r\n   * @param {object} [options] Options object\r\n   * @param {boolean} [withMetaData] Is metadata required for orientation\r\n   * @returns {boolean} Returns true if orientation requires canvas/meta\r\n   */\r\n  function requiresCanvasOrientation(options, withMetaData) {\r\n    var orientation = options && options.orientation\r\n    return (\r\n      // Exif orientation for browsers without automatic image orientation:\r\n      (orientation === true && !loadImage.orientation) ||\r\n      // Orientation reset for browsers with automatic image orientation:\r\n      (orientation === 1 && loadImage.orientation) ||\r\n      // Orientation to defined value, requires meta for orientation reset only:\r\n      ((!withMetaData || loadImage.orientation) &&\r\n        orientation > 1 &&\r\n        orientation < 9)\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Determines if the image requires an orientation change.\r\n   *\r\n   * @param {number} [orientation] Defined orientation value\r\n   * @param {number} [autoOrientation] Auto-orientation based on Exif data\r\n   * @returns {boolean} Returns true if an orientation change is required\r\n   */\r\n  function requiresOrientationChange(orientation, autoOrientation) {\r\n    return (\r\n      orientation !== autoOrientation &&\r\n      ((orientation === 1 && autoOrientation > 1 && autoOrientation < 9) ||\r\n        (orientation > 1 && orientation < 9))\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Determines orientation combinations that require a rotation by 180\u00b0.\r\n   *\r\n   * The following is a list of combinations that return true:\r\n   *\r\n   * 2 (flip) => 5 (rot90,flip), 7 (rot90,flip), 6 (rot90), 8 (rot90)\r\n   * 4 (flip) => 5 (rot90,flip), 7 (rot90,flip), 6 (rot90), 8 (rot90)\r\n   *\r\n   * 5 (rot90,flip) => 2 (flip), 4 (flip), 6 (rot90), 8 (rot90)\r\n   * 7 (rot90,flip) => 2 (flip), 4 (flip), 6 (rot90), 8 (rot90)\r\n   *\r\n   * 6 (rot90) => 2 (flip), 4 (flip), 5 (rot90,flip), 7 (rot90,flip)\r\n   * 8 (rot90) => 2 (flip), 4 (flip), 5 (rot90,flip), 7 (rot90,flip)\r\n   *\r\n   * @param {number} [orientation] Defined orientation value\r\n   * @param {number} [autoOrientation] Auto-orientation based on Exif data\r\n   * @returns {boolean} Returns true if rotation by 180\u00b0 is required\r\n   */\r\n  function requiresRot180(orientation, autoOrientation) {\r\n    if (autoOrientation > 1 && autoOrientation < 9) {\r\n      switch (orientation) {\r\n        case 2:\r\n        case 4:\r\n          return autoOrientation > 4\r\n        case 5:\r\n        case 7:\r\n          return autoOrientation % 2 === 0\r\n        case 6:\r\n        case 8:\r\n          return (\r\n            autoOrientation === 2 ||\r\n            autoOrientation === 4 ||\r\n            autoOrientation === 5 ||\r\n            autoOrientation === 7\r\n          )\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  // Determines if the target image should be a canvas element:\r\n  loadImage.requiresCanvas = function (options) {\r\n    return (\r\n      requiresCanvasOrientation(options) ||\r\n      originalRequiresCanvas.call(loadImage, options)\r\n    )\r\n  }\r\n\r\n  // Determines if metadata should be loaded automatically:\r\n  loadImage.requiresMetaData = function (options) {\r\n    return (\r\n      requiresCanvasOrientation(options, true) ||\r\n      originalRequiresMetaData.call(loadImage, options)\r\n    )\r\n  }\r\n\r\n  loadImage.transform = function (img, options, callback, file, data) {\r\n    originalTransform.call(\r\n      loadImage,\r\n      img,\r\n      options,\r\n      function (img, data) {\r\n        if (data) {\r\n          var autoOrientation =\r\n            loadImage.orientation && data.exif && data.exif.get('Orientation')\r\n          if (autoOrientation > 4 && autoOrientation < 9) {\r\n            // Automatic image orientation switched image dimensions\r\n            var originalWidth = data.originalWidth\r\n            var originalHeight = data.originalHeight\r\n            data.originalWidth = originalHeight\r\n            data.originalHeight = originalWidth\r\n          }\r\n        }\r\n        callback(img, data)\r\n      },\r\n      file,\r\n      data\r\n    )\r\n  }\r\n\r\n  // Transforms coordinate and dimension options\r\n  // based on the given orientation option:\r\n  loadImage.getTransformedOptions = function (img, opts, data) {\r\n    var options = originalGetTransformedOptions.call(loadImage, img, opts)\r\n    var exifOrientation = data.exif && data.exif.get('Orientation')\r\n    var orientation = options.orientation\r\n    var autoOrientation = loadImage.orientation && exifOrientation\r\n    if (orientation === true) orientation = exifOrientation\r\n    if (!requiresOrientationChange(orientation, autoOrientation)) {\r\n      return options\r\n    }\r\n    var top = options.top\r\n    var right = options.right\r\n    var bottom = options.bottom\r\n    var left = options.left\r\n    var newOptions = {}\r\n    for (var i in options) {\r\n      if (Object.prototype.hasOwnProperty.call(options, i)) {\r\n        newOptions[i] = options[i]\r\n      }\r\n    }\r\n    newOptions.orientation = orientation\r\n    if (\r\n      (orientation > 4 && !(autoOrientation > 4)) ||\r\n      (orientation < 5 && autoOrientation > 4)\r\n    ) {\r\n      // Image dimensions and target dimensions are switched\r\n      newOptions.maxWidth = options.maxHeight\r\n      newOptions.maxHeight = options.maxWidth\r\n      newOptions.minWidth = options.minHeight\r\n      newOptions.minHeight = options.minWidth\r\n      newOptions.sourceWidth = options.sourceHeight\r\n      newOptions.sourceHeight = options.sourceWidth\r\n    }\r\n    if (autoOrientation > 1) {\r\n      // Browsers which correctly apply source image coordinates to\r\n      // auto-oriented images\r\n      switch (autoOrientation) {\r\n        case 2:\r\n          // Horizontal flip\r\n          right = options.left\r\n          left = options.right\r\n          break\r\n        case 3:\r\n          // 180\u00b0 Rotate CCW\r\n          top = options.bottom\r\n          right = options.left\r\n          bottom = options.top\r\n          left = options.right\r\n          break\r\n        case 4:\r\n          // Vertical flip\r\n          top = options.bottom\r\n          bottom = options.top\r\n          break\r\n        case 5:\r\n          // Horizontal flip + 90\u00b0 Rotate CCW\r\n          top = options.left\r\n          right = options.bottom\r\n          bottom = options.right\r\n          left = options.top\r\n          break\r\n        case 6:\r\n          // 90\u00b0 Rotate CCW\r\n          top = options.left\r\n          right = options.top\r\n          bottom = options.right\r\n          left = options.bottom\r\n          break\r\n        case 7:\r\n          // Vertical flip + 90\u00b0 Rotate CCW\r\n          top = options.right\r\n          right = options.top\r\n          bottom = options.left\r\n          left = options.bottom\r\n          break\r\n        case 8:\r\n          // 90\u00b0 Rotate CW\r\n          top = options.right\r\n          right = options.bottom\r\n          bottom = options.left\r\n          left = options.top\r\n          break\r\n      }\r\n      // Some orientation combinations require additional rotation by 180\u00b0:\r\n      if (requiresRot180(orientation, autoOrientation)) {\r\n        var tmpTop = top\r\n        var tmpRight = right\r\n        top = bottom\r\n        right = left\r\n        bottom = tmpTop\r\n        left = tmpRight\r\n      }\r\n    }\r\n    newOptions.top = top\r\n    newOptions.right = right\r\n    newOptions.bottom = bottom\r\n    newOptions.left = left\r\n    // Account for defined browser orientation:\r\n    switch (orientation) {\r\n      case 2:\r\n        // Horizontal flip\r\n        newOptions.right = left\r\n        newOptions.left = right\r\n        break\r\n      case 3:\r\n        // 180\u00b0 Rotate CCW\r\n        newOptions.top = bottom\r\n        newOptions.right = left\r\n        newOptions.bottom = top\r\n        newOptions.left = right\r\n        break\r\n      case 4:\r\n        // Vertical flip\r\n        newOptions.top = bottom\r\n        newOptions.bottom = top\r\n        break\r\n      case 5:\r\n        // Vertical flip + 90\u00b0 Rotate CW\r\n        newOptions.top = left\r\n        newOptions.right = bottom\r\n        newOptions.bottom = right\r\n        newOptions.left = top\r\n        break\r\n      case 6:\r\n        // 90\u00b0 Rotate CW\r\n        newOptions.top = right\r\n        newOptions.right = bottom\r\n        newOptions.bottom = left\r\n        newOptions.left = top\r\n        break\r\n      case 7:\r\n        // Horizontal flip + 90\u00b0 Rotate CW\r\n        newOptions.top = right\r\n        newOptions.right = top\r\n        newOptions.bottom = left\r\n        newOptions.left = bottom\r\n        break\r\n      case 8:\r\n        // 90\u00b0 Rotate CCW\r\n        newOptions.top = left\r\n        newOptions.right = top\r\n        newOptions.bottom = right\r\n        newOptions.left = bottom\r\n        break\r\n    }\r\n    return newOptions\r\n  }\r\n\r\n  // Transform image orientation based on the given EXIF orientation option:\r\n  loadImage.transformCoordinates = function (canvas, options, data) {\r\n    originalTransformCoordinates.call(loadImage, canvas, options, data)\r\n    var orientation = options.orientation\r\n    var autoOrientation =\r\n      loadImage.orientation && data.exif && data.exif.get('Orientation')\r\n    if (!requiresOrientationChange(orientation, autoOrientation)) {\r\n      return\r\n    }\r\n    var ctx = canvas.getContext('2d')\r\n    var width = canvas.width\r\n    var height = canvas.height\r\n    var sourceWidth = width\r\n    var sourceHeight = height\r\n    if (\r\n      (orientation > 4 && !(autoOrientation > 4)) ||\r\n      (orientation < 5 && autoOrientation > 4)\r\n    ) {\r\n      // Image dimensions and target dimensions are switched\r\n      canvas.width = height\r\n      canvas.height = width\r\n    }\r\n    if (orientation > 4) {\r\n      // Destination and source dimensions are switched\r\n      sourceWidth = height\r\n      sourceHeight = width\r\n    }\r\n    // Reset automatic browser orientation:\r\n    switch (autoOrientation) {\r\n      case 2:\r\n        // Horizontal flip\r\n        ctx.translate(sourceWidth, 0)\r\n        ctx.scale(-1, 1)\r\n        break\r\n      case 3:\r\n        // 180\u00b0 Rotate CCW\r\n        ctx.translate(sourceWidth, sourceHeight)\r\n        ctx.rotate(Math.PI)\r\n        break\r\n      case 4:\r\n        // Vertical flip\r\n        ctx.translate(0, sourceHeight)\r\n        ctx.scale(1, -1)\r\n        break\r\n      case 5:\r\n        // Horizontal flip + 90\u00b0 Rotate CCW\r\n        ctx.rotate(-0.5 * Math.PI)\r\n        ctx.scale(-1, 1)\r\n        break\r\n      case 6:\r\n        // 90\u00b0 Rotate CCW\r\n        ctx.rotate(-0.5 * Math.PI)\r\n        ctx.translate(-sourceWidth, 0)\r\n        break\r\n      case 7:\r\n        // Vertical flip + 90\u00b0 Rotate CCW\r\n        ctx.rotate(-0.5 * Math.PI)\r\n        ctx.translate(-sourceWidth, sourceHeight)\r\n        ctx.scale(1, -1)\r\n        break\r\n      case 8:\r\n        // 90\u00b0 Rotate CW\r\n        ctx.rotate(0.5 * Math.PI)\r\n        ctx.translate(0, -sourceHeight)\r\n        break\r\n    }\r\n    // Some orientation combinations require additional rotation by 180\u00b0:\r\n    if (requiresRot180(orientation, autoOrientation)) {\r\n      ctx.translate(sourceWidth, sourceHeight)\r\n      ctx.rotate(Math.PI)\r\n    }\r\n    switch (orientation) {\r\n      case 2:\r\n        // Horizontal flip\r\n        ctx.translate(width, 0)\r\n        ctx.scale(-1, 1)\r\n        break\r\n      case 3:\r\n        // 180\u00b0 Rotate CCW\r\n        ctx.translate(width, height)\r\n        ctx.rotate(Math.PI)\r\n        break\r\n      case 4:\r\n        // Vertical flip\r\n        ctx.translate(0, height)\r\n        ctx.scale(1, -1)\r\n        break\r\n      case 5:\r\n        // Vertical flip + 90\u00b0 Rotate CW\r\n        ctx.rotate(0.5 * Math.PI)\r\n        ctx.scale(1, -1)\r\n        break\r\n      case 6:\r\n        // 90\u00b0 Rotate CW\r\n        ctx.rotate(0.5 * Math.PI)\r\n        ctx.translate(0, -height)\r\n        break\r\n      case 7:\r\n        // Horizontal flip + 90\u00b0 Rotate CW\r\n        ctx.rotate(0.5 * Math.PI)\r\n        ctx.translate(width, -height)\r\n        ctx.scale(-1, 1)\r\n        break\r\n      case 8:\r\n        // 90\u00b0 Rotate CCW\r\n        ctx.rotate(-0.5 * Math.PI)\r\n        ctx.translate(-width, 0)\r\n        break\r\n    }\r\n  }\r\n})\r\n","Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/index.js":"/* global module, require */\r\n\r\nmodule.exports = require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image')\r\n\r\nrequire('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-scale')\r\nrequire('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-meta')\r\nrequire('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-fetch')\r\nrequire('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-exif')\r\nrequire('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-exif-map')\r\nrequire('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-iptc')\r\nrequire('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-iptc-map')\r\nrequire('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-orientation')\r\n","Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-meta.js":"/*\r\n * JavaScript Load Image Meta\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Image metadata handling implementation\r\n * based on the help and contribution of\r\n * Achim St\u00f6hr.\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, module, require, Promise, DataView, Uint8Array, ArrayBuffer */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n})(function (loadImage) {\r\n  'use strict'\r\n\r\n  var global = loadImage.global\r\n  var originalTransform = loadImage.transform\r\n\r\n  var blobSlice =\r\n    global.Blob &&\r\n    (Blob.prototype.slice ||\r\n      Blob.prototype.webkitSlice ||\r\n      Blob.prototype.mozSlice)\r\n\r\n  var bufferSlice =\r\n    (global.ArrayBuffer && ArrayBuffer.prototype.slice) ||\r\n    function (begin, end) {\r\n      // Polyfill for IE10, which does not support ArrayBuffer.slice\r\n      // eslint-disable-next-line no-param-reassign\r\n      end = end || this.byteLength - begin\r\n      var arr1 = new Uint8Array(this, begin, end)\r\n      var arr2 = new Uint8Array(end)\r\n      arr2.set(arr1)\r\n      return arr2.buffer\r\n    }\r\n\r\n  var metaDataParsers = {\r\n    jpeg: {\r\n      0xffe1: [], // APP1 marker\r\n      0xffed: [] // APP13 marker\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Parses image metadata and calls the callback with an object argument\r\n   * with the following property:\r\n   * - imageHead: The complete image head as ArrayBuffer\r\n   * The options argument accepts an object and supports the following\r\n   * properties:\r\n   * - maxMetaDataSize: Defines the maximum number of bytes to parse.\r\n   * - disableImageHead: Disables creating the imageHead property.\r\n   *\r\n   * @param {Blob} file Blob object\r\n   * @param {Function} [callback] Callback function\r\n   * @param {object} [options] Parsing options\r\n   * @param {object} [data] Result data object\r\n   * @returns {Promise<object>|undefined} Returns Promise if no callback given.\r\n   */\r\n  function parseMetaData(file, callback, options, data) {\r\n    var that = this\r\n    /**\r\n     * Promise executor\r\n     *\r\n     * @param {Function} resolve Resolution function\r\n     * @param {Function} reject Rejection function\r\n     * @returns {undefined} Undefined\r\n     */\r\n    function executor(resolve, reject) {\r\n      if (\r\n        !(\r\n          global.DataView &&\r\n          blobSlice &&\r\n          file &&\r\n          file.size >= 12 &&\r\n          file.type === 'image/jpeg'\r\n        )\r\n      ) {\r\n        // Nothing to parse\r\n        return resolve(data)\r\n      }\r\n      // 256 KiB should contain all EXIF/ICC/IPTC segments:\r\n      var maxMetaDataSize = options.maxMetaDataSize || 262144\r\n      if (\r\n        !loadImage.readFile(\r\n          blobSlice.call(file, 0, maxMetaDataSize),\r\n          function (buffer) {\r\n            // Note on endianness:\r\n            // Since the marker and length bytes in JPEG files are always\r\n            // stored in big endian order, we can leave the endian parameter\r\n            // of the DataView methods undefined, defaulting to big endian.\r\n            var dataView = new DataView(buffer)\r\n            // Check for the JPEG marker (0xffd8):\r\n            if (dataView.getUint16(0) !== 0xffd8) {\r\n              return reject(\r\n                new Error('Invalid JPEG file: Missing JPEG marker.')\r\n              )\r\n            }\r\n            var offset = 2\r\n            var maxOffset = dataView.byteLength - 4\r\n            var headLength = offset\r\n            var markerBytes\r\n            var markerLength\r\n            var parsers\r\n            var i\r\n            while (offset < maxOffset) {\r\n              markerBytes = dataView.getUint16(offset)\r\n              // Search for APPn (0xffeN) and COM (0xfffe) markers,\r\n              // which contain application-specific metadata like\r\n              // Exif, ICC and IPTC data and text comments:\r\n              if (\r\n                (markerBytes >= 0xffe0 && markerBytes <= 0xffef) ||\r\n                markerBytes === 0xfffe\r\n              ) {\r\n                // The marker bytes (2) are always followed by\r\n                // the length bytes (2), indicating the length of the\r\n                // marker segment, which includes the length bytes,\r\n                // but not the marker bytes, so we add 2:\r\n                markerLength = dataView.getUint16(offset + 2) + 2\r\n                if (offset + markerLength > dataView.byteLength) {\r\n                  // eslint-disable-next-line no-console\r\n                  console.log('Invalid JPEG metadata: Invalid segment size.')\r\n                  break\r\n                }\r\n                parsers = metaDataParsers.jpeg[markerBytes]\r\n                if (parsers && !options.disableMetaDataParsers) {\r\n                  for (i = 0; i < parsers.length; i += 1) {\r\n                    parsers[i].call(\r\n                      that,\r\n                      dataView,\r\n                      offset,\r\n                      markerLength,\r\n                      data,\r\n                      options\r\n                    )\r\n                  }\r\n                }\r\n                offset += markerLength\r\n                headLength = offset\r\n              } else {\r\n                // Not an APPn or COM marker, probably safe to\r\n                // assume that this is the end of the metadata\r\n                break\r\n              }\r\n            }\r\n            // Meta length must be longer than JPEG marker (2)\r\n            // plus APPn marker (2), followed by length bytes (2):\r\n            if (!options.disableImageHead && headLength > 6) {\r\n              data.imageHead = bufferSlice.call(buffer, 0, headLength)\r\n            }\r\n            resolve(data)\r\n          },\r\n          reject,\r\n          'readAsArrayBuffer'\r\n        )\r\n      ) {\r\n        // No support for the FileReader interface, nothing to parse\r\n        resolve(data)\r\n      }\r\n    }\r\n    options = options || {} // eslint-disable-line no-param-reassign\r\n    if (global.Promise && typeof callback !== 'function') {\r\n      options = callback || {} // eslint-disable-line no-param-reassign\r\n      data = options // eslint-disable-line no-param-reassign\r\n      return new Promise(executor)\r\n    }\r\n    data = data || {} // eslint-disable-line no-param-reassign\r\n    return executor(callback, callback)\r\n  }\r\n\r\n  /**\r\n   * Replaces the head of a JPEG Blob\r\n   *\r\n   * @param {Blob} blob Blob object\r\n   * @param {ArrayBuffer} oldHead Old JPEG head\r\n   * @param {ArrayBuffer} newHead New JPEG head\r\n   * @returns {Blob} Combined Blob\r\n   */\r\n  function replaceJPEGHead(blob, oldHead, newHead) {\r\n    if (!blob || !oldHead || !newHead) return null\r\n    return new Blob([newHead, blobSlice.call(blob, oldHead.byteLength)], {\r\n      type: 'image/jpeg'\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Replaces the image head of a JPEG blob with the given one.\r\n   * Returns a Promise or calls the callback with the new Blob.\r\n   *\r\n   * @param {Blob} blob Blob object\r\n   * @param {ArrayBuffer} head New JPEG head\r\n   * @param {Function} [callback] Callback function\r\n   * @returns {Promise<Blob|null>|undefined} Combined Blob\r\n   */\r\n  function replaceHead(blob, head, callback) {\r\n    var options = { maxMetaDataSize: 256, disableMetaDataParsers: true }\r\n    if (!callback && global.Promise) {\r\n      return parseMetaData(blob, options).then(function (data) {\r\n        return replaceJPEGHead(blob, data.imageHead, head)\r\n      })\r\n    }\r\n    parseMetaData(\r\n      blob,\r\n      function (data) {\r\n        callback(replaceJPEGHead(blob, data.imageHead, head))\r\n      },\r\n      options\r\n    )\r\n  }\r\n\r\n  loadImage.transform = function (img, options, callback, file, data) {\r\n    if (loadImage.requiresMetaData(options)) {\r\n      data = data || {} // eslint-disable-line no-param-reassign\r\n      parseMetaData(\r\n        file,\r\n        function (result) {\r\n          if (result !== data) {\r\n            // eslint-disable-next-line no-console\r\n            if (global.console) console.log(result)\r\n            result = data // eslint-disable-line no-param-reassign\r\n          }\r\n          originalTransform.call(\r\n            loadImage,\r\n            img,\r\n            options,\r\n            callback,\r\n            file,\r\n            result\r\n          )\r\n        },\r\n        options,\r\n        data\r\n      )\r\n    } else {\r\n      originalTransform.apply(loadImage, arguments)\r\n    }\r\n  }\r\n\r\n  loadImage.blobSlice = blobSlice\r\n  loadImage.bufferSlice = bufferSlice\r\n  loadImage.replaceHead = replaceHead\r\n  loadImage.parseMetaData = parseMetaData\r\n  loadImage.metaDataParsers = metaDataParsers\r\n})\r\n","Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-scale.js":"/*\r\n * JavaScript Load Image Scaling\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2011, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, module, require */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n})(function (loadImage) {\r\n  'use strict'\r\n\r\n  var originalTransform = loadImage.transform\r\n\r\n  loadImage.createCanvas = function (width, height, offscreen) {\r\n    if (offscreen && loadImage.global.OffscreenCanvas) {\r\n      return new OffscreenCanvas(width, height)\r\n    }\r\n    var canvas = document.createElement('canvas')\r\n    canvas.width = width\r\n    canvas.height = height\r\n    return canvas\r\n  }\r\n\r\n  loadImage.transform = function (img, options, callback, file, data) {\r\n    originalTransform.call(\r\n      loadImage,\r\n      loadImage.scale(img, options, data),\r\n      options,\r\n      callback,\r\n      file,\r\n      data\r\n    )\r\n  }\r\n\r\n  // Transform image coordinates, allows to override e.g.\r\n  // the canvas orientation based on the orientation option,\r\n  // gets canvas, options and data passed as arguments:\r\n  loadImage.transformCoordinates = function () {}\r\n\r\n  // Returns transformed options, allows to override e.g.\r\n  // maxWidth, maxHeight and crop options based on the aspectRatio.\r\n  // gets img, options, data passed as arguments:\r\n  loadImage.getTransformedOptions = function (img, options) {\r\n    var aspectRatio = options.aspectRatio\r\n    var newOptions\r\n    var i\r\n    var width\r\n    var height\r\n    if (!aspectRatio) {\r\n      return options\r\n    }\r\n    newOptions = {}\r\n    for (i in options) {\r\n      if (Object.prototype.hasOwnProperty.call(options, i)) {\r\n        newOptions[i] = options[i]\r\n      }\r\n    }\r\n    newOptions.crop = true\r\n    width = img.naturalWidth || img.width\r\n    height = img.naturalHeight || img.height\r\n    if (width / height > aspectRatio) {\r\n      newOptions.maxWidth = height * aspectRatio\r\n      newOptions.maxHeight = height\r\n    } else {\r\n      newOptions.maxWidth = width\r\n      newOptions.maxHeight = width / aspectRatio\r\n    }\r\n    return newOptions\r\n  }\r\n\r\n  // Canvas render method, allows to implement a different rendering algorithm:\r\n  loadImage.drawImage = function (\r\n    img,\r\n    canvas,\r\n    sourceX,\r\n    sourceY,\r\n    sourceWidth,\r\n    sourceHeight,\r\n    destWidth,\r\n    destHeight,\r\n    options\r\n  ) {\r\n    var ctx = canvas.getContext('2d')\r\n    if (options.imageSmoothingEnabled === false) {\r\n      ctx.msImageSmoothingEnabled = false\r\n      ctx.imageSmoothingEnabled = false\r\n    } else if (options.imageSmoothingQuality) {\r\n      ctx.imageSmoothingQuality = options.imageSmoothingQuality\r\n    }\r\n    ctx.drawImage(\r\n      img,\r\n      sourceX,\r\n      sourceY,\r\n      sourceWidth,\r\n      sourceHeight,\r\n      0,\r\n      0,\r\n      destWidth,\r\n      destHeight\r\n    )\r\n    return ctx\r\n  }\r\n\r\n  // Determines if the target image should be a canvas element:\r\n  loadImage.requiresCanvas = function (options) {\r\n    return options.canvas || options.crop || !!options.aspectRatio\r\n  }\r\n\r\n  // Scales and/or crops the given image (img or canvas HTML element)\r\n  // using the given options:\r\n  loadImage.scale = function (img, options, data) {\r\n    // eslint-disable-next-line no-param-reassign\r\n    options = options || {}\r\n    // eslint-disable-next-line no-param-reassign\r\n    data = data || {}\r\n    var useCanvas =\r\n      img.getContext ||\r\n      (loadImage.requiresCanvas(options) &&\r\n        !!loadImage.global.HTMLCanvasElement)\r\n    var width = img.naturalWidth || img.width\r\n    var height = img.naturalHeight || img.height\r\n    var destWidth = width\r\n    var destHeight = height\r\n    var maxWidth\r\n    var maxHeight\r\n    var minWidth\r\n    var minHeight\r\n    var sourceWidth\r\n    var sourceHeight\r\n    var sourceX\r\n    var sourceY\r\n    var pixelRatio\r\n    var downsamplingRatio\r\n    var tmp\r\n    var canvas\r\n    /**\r\n     * Scales up image dimensions\r\n     */\r\n    function scaleUp() {\r\n      var scale = Math.max(\r\n        (minWidth || destWidth) / destWidth,\r\n        (minHeight || destHeight) / destHeight\r\n      )\r\n      if (scale > 1) {\r\n        destWidth *= scale\r\n        destHeight *= scale\r\n      }\r\n    }\r\n    /**\r\n     * Scales down image dimensions\r\n     */\r\n    function scaleDown() {\r\n      var scale = Math.min(\r\n        (maxWidth || destWidth) / destWidth,\r\n        (maxHeight || destHeight) / destHeight\r\n      )\r\n      if (scale < 1) {\r\n        destWidth *= scale\r\n        destHeight *= scale\r\n      }\r\n    }\r\n    if (useCanvas) {\r\n      // eslint-disable-next-line no-param-reassign\r\n      options = loadImage.getTransformedOptions(img, options, data)\r\n      sourceX = options.left || 0\r\n      sourceY = options.top || 0\r\n      if (options.sourceWidth) {\r\n        sourceWidth = options.sourceWidth\r\n        if (options.right !== undefined && options.left === undefined) {\r\n          sourceX = width - sourceWidth - options.right\r\n        }\r\n      } else {\r\n        sourceWidth = width - sourceX - (options.right || 0)\r\n      }\r\n      if (options.sourceHeight) {\r\n        sourceHeight = options.sourceHeight\r\n        if (options.bottom !== undefined && options.top === undefined) {\r\n          sourceY = height - sourceHeight - options.bottom\r\n        }\r\n      } else {\r\n        sourceHeight = height - sourceY - (options.bottom || 0)\r\n      }\r\n      destWidth = sourceWidth\r\n      destHeight = sourceHeight\r\n    }\r\n    maxWidth = options.maxWidth\r\n    maxHeight = options.maxHeight\r\n    minWidth = options.minWidth\r\n    minHeight = options.minHeight\r\n    if (useCanvas && maxWidth && maxHeight && options.crop) {\r\n      destWidth = maxWidth\r\n      destHeight = maxHeight\r\n      tmp = sourceWidth / sourceHeight - maxWidth / maxHeight\r\n      if (tmp < 0) {\r\n        sourceHeight = (maxHeight * sourceWidth) / maxWidth\r\n        if (options.top === undefined && options.bottom === undefined) {\r\n          sourceY = (height - sourceHeight) / 2\r\n        }\r\n      } else if (tmp > 0) {\r\n        sourceWidth = (maxWidth * sourceHeight) / maxHeight\r\n        if (options.left === undefined && options.right === undefined) {\r\n          sourceX = (width - sourceWidth) / 2\r\n        }\r\n      }\r\n    } else {\r\n      if (options.contain || options.cover) {\r\n        minWidth = maxWidth = maxWidth || minWidth\r\n        minHeight = maxHeight = maxHeight || minHeight\r\n      }\r\n      if (options.cover) {\r\n        scaleDown()\r\n        scaleUp()\r\n      } else {\r\n        scaleUp()\r\n        scaleDown()\r\n      }\r\n    }\r\n    if (useCanvas) {\r\n      pixelRatio = options.pixelRatio\r\n      if (\r\n        pixelRatio > 1 &&\r\n        // Check if the image has not yet had the device pixel ratio applied:\r\n        !(\r\n          img.style.width &&\r\n          Math.floor(parseFloat(img.style.width, 10)) ===\r\n            Math.floor(width / pixelRatio)\r\n        )\r\n      ) {\r\n        destWidth *= pixelRatio\r\n        destHeight *= pixelRatio\r\n      }\r\n      // Check if workaround for Chromium orientation crop bug is required:\r\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=1074354\r\n      if (\r\n        loadImage.orientationCropBug &&\r\n        !img.getContext &&\r\n        (sourceX || sourceY || sourceWidth !== width || sourceHeight !== height)\r\n      ) {\r\n        // Write the complete source image to an intermediate canvas first:\r\n        tmp = img\r\n        // eslint-disable-next-line no-param-reassign\r\n        img = loadImage.createCanvas(width, height, true)\r\n        loadImage.drawImage(\r\n          tmp,\r\n          img,\r\n          0,\r\n          0,\r\n          width,\r\n          height,\r\n          width,\r\n          height,\r\n          options\r\n        )\r\n      }\r\n      downsamplingRatio = options.downsamplingRatio\r\n      if (\r\n        downsamplingRatio > 0 &&\r\n        downsamplingRatio < 1 &&\r\n        destWidth < sourceWidth &&\r\n        destHeight < sourceHeight\r\n      ) {\r\n        while (sourceWidth * downsamplingRatio > destWidth) {\r\n          canvas = loadImage.createCanvas(\r\n            sourceWidth * downsamplingRatio,\r\n            sourceHeight * downsamplingRatio,\r\n            true\r\n          )\r\n          loadImage.drawImage(\r\n            img,\r\n            canvas,\r\n            sourceX,\r\n            sourceY,\r\n            sourceWidth,\r\n            sourceHeight,\r\n            canvas.width,\r\n            canvas.height,\r\n            options\r\n          )\r\n          sourceX = 0\r\n          sourceY = 0\r\n          sourceWidth = canvas.width\r\n          sourceHeight = canvas.height\r\n          // eslint-disable-next-line no-param-reassign\r\n          img = canvas\r\n        }\r\n      }\r\n      canvas = loadImage.createCanvas(destWidth, destHeight)\r\n      loadImage.transformCoordinates(canvas, options, data)\r\n      if (pixelRatio > 1) {\r\n        canvas.style.width = canvas.width / pixelRatio + 'px'\r\n      }\r\n      loadImage\r\n        .drawImage(\r\n          img,\r\n          canvas,\r\n          sourceX,\r\n          sourceY,\r\n          sourceWidth,\r\n          sourceHeight,\r\n          destWidth,\r\n          destHeight,\r\n          options\r\n        )\r\n        .setTransform(1, 0, 0, 1, 0, 0) // reset to the identity matrix\r\n      return canvas\r\n    }\r\n    img.width = destWidth\r\n    img.height = destHeight\r\n    return img\r\n  }\r\n})\r\n","Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-exif-map.js":"/*\r\n * JavaScript Load Image Exif Map\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Exif tags mapping based on\r\n * https://github.com/jseidelin/exif-js\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, module, require */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image', 'Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-exif'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image'), require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-exif'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n})(function (loadImage) {\r\n  'use strict'\r\n\r\n  var ExifMapProto = loadImage.ExifMap.prototype\r\n\r\n  ExifMapProto.tags = {\r\n    // =================\r\n    // TIFF tags (IFD0):\r\n    // =================\r\n    0x0100: 'ImageWidth',\r\n    0x0101: 'ImageHeight',\r\n    0x0102: 'BitsPerSample',\r\n    0x0103: 'Compression',\r\n    0x0106: 'PhotometricInterpretation',\r\n    0x0112: 'Orientation',\r\n    0x0115: 'SamplesPerPixel',\r\n    0x011c: 'PlanarConfiguration',\r\n    0x0212: 'YCbCrSubSampling',\r\n    0x0213: 'YCbCrPositioning',\r\n    0x011a: 'XResolution',\r\n    0x011b: 'YResolution',\r\n    0x0128: 'ResolutionUnit',\r\n    0x0111: 'StripOffsets',\r\n    0x0116: 'RowsPerStrip',\r\n    0x0117: 'StripByteCounts',\r\n    0x0201: 'JPEGInterchangeFormat',\r\n    0x0202: 'JPEGInterchangeFormatLength',\r\n    0x012d: 'TransferFunction',\r\n    0x013e: 'WhitePoint',\r\n    0x013f: 'PrimaryChromaticities',\r\n    0x0211: 'YCbCrCoefficients',\r\n    0x0214: 'ReferenceBlackWhite',\r\n    0x0132: 'DateTime',\r\n    0x010e: 'ImageDescription',\r\n    0x010f: 'Make',\r\n    0x0110: 'Model',\r\n    0x0131: 'Software',\r\n    0x013b: 'Artist',\r\n    0x8298: 'Copyright',\r\n    0x8769: {\r\n      // ExifIFDPointer\r\n      0x9000: 'ExifVersion', // EXIF version\r\n      0xa000: 'FlashpixVersion', // Flashpix format version\r\n      0xa001: 'ColorSpace', // Color space information tag\r\n      0xa002: 'PixelXDimension', // Valid width of meaningful image\r\n      0xa003: 'PixelYDimension', // Valid height of meaningful image\r\n      0xa500: 'Gamma',\r\n      0x9101: 'ComponentsConfiguration', // Information about channels\r\n      0x9102: 'CompressedBitsPerPixel', // Compressed bits per pixel\r\n      0x927c: 'MakerNote', // Any desired information written by the manufacturer\r\n      0x9286: 'UserComment', // Comments by user\r\n      0xa004: 'RelatedSoundFile', // Name of related sound file\r\n      0x9003: 'DateTimeOriginal', // Date and time when the original image was generated\r\n      0x9004: 'DateTimeDigitized', // Date and time when the image was stored digitally\r\n      0x9010: 'OffsetTime', // Time zone when the image file was last changed\r\n      0x9011: 'OffsetTimeOriginal', // Time zone when the image was stored digitally\r\n      0x9012: 'OffsetTimeDigitized', // Time zone when the image was stored digitally\r\n      0x9290: 'SubSecTime', // Fractions of seconds for DateTime\r\n      0x9291: 'SubSecTimeOriginal', // Fractions of seconds for DateTimeOriginal\r\n      0x9292: 'SubSecTimeDigitized', // Fractions of seconds for DateTimeDigitized\r\n      0x829a: 'ExposureTime', // Exposure time (in seconds)\r\n      0x829d: 'FNumber',\r\n      0x8822: 'ExposureProgram', // Exposure program\r\n      0x8824: 'SpectralSensitivity', // Spectral sensitivity\r\n      0x8827: 'PhotographicSensitivity', // EXIF 2.3, ISOSpeedRatings in EXIF 2.2\r\n      0x8828: 'OECF', // Optoelectric conversion factor\r\n      0x8830: 'SensitivityType',\r\n      0x8831: 'StandardOutputSensitivity',\r\n      0x8832: 'RecommendedExposureIndex',\r\n      0x8833: 'ISOSpeed',\r\n      0x8834: 'ISOSpeedLatitudeyyy',\r\n      0x8835: 'ISOSpeedLatitudezzz',\r\n      0x9201: 'ShutterSpeedValue', // Shutter speed\r\n      0x9202: 'ApertureValue', // Lens aperture\r\n      0x9203: 'BrightnessValue', // Value of brightness\r\n      0x9204: 'ExposureBias', // Exposure bias\r\n      0x9205: 'MaxApertureValue', // Smallest F number of lens\r\n      0x9206: 'SubjectDistance', // Distance to subject in meters\r\n      0x9207: 'MeteringMode', // Metering mode\r\n      0x9208: 'LightSource', // Kind of light source\r\n      0x9209: 'Flash', // Flash status\r\n      0x9214: 'SubjectArea', // Location and area of main subject\r\n      0x920a: 'FocalLength', // Focal length of the lens in mm\r\n      0xa20b: 'FlashEnergy', // Strobe energy in BCPS\r\n      0xa20c: 'SpatialFrequencyResponse',\r\n      0xa20e: 'FocalPlaneXResolution', // Number of pixels in width direction per FPRUnit\r\n      0xa20f: 'FocalPlaneYResolution', // Number of pixels in height direction per FPRUnit\r\n      0xa210: 'FocalPlaneResolutionUnit', // Unit for measuring the focal plane resolution\r\n      0xa214: 'SubjectLocation', // Location of subject in image\r\n      0xa215: 'ExposureIndex', // Exposure index selected on camera\r\n      0xa217: 'SensingMethod', // Image sensor type\r\n      0xa300: 'FileSource', // Image source (3 == DSC)\r\n      0xa301: 'SceneType', // Scene type (1 == directly photographed)\r\n      0xa302: 'CFAPattern', // Color filter array geometric pattern\r\n      0xa401: 'CustomRendered', // Special processing\r\n      0xa402: 'ExposureMode', // Exposure mode\r\n      0xa403: 'WhiteBalance', // 1 = auto white balance, 2 = manual\r\n      0xa404: 'DigitalZoomRatio', // Digital zoom ratio\r\n      0xa405: 'FocalLengthIn35mmFilm',\r\n      0xa406: 'SceneCaptureType', // Type of scene\r\n      0xa407: 'GainControl', // Degree of overall image gain adjustment\r\n      0xa408: 'Contrast', // Direction of contrast processing applied by camera\r\n      0xa409: 'Saturation', // Direction of saturation processing applied by camera\r\n      0xa40a: 'Sharpness', // Direction of sharpness processing applied by camera\r\n      0xa40b: 'DeviceSettingDescription',\r\n      0xa40c: 'SubjectDistanceRange', // Distance to subject\r\n      0xa420: 'ImageUniqueID', // Identifier assigned uniquely to each image\r\n      0xa430: 'CameraOwnerName',\r\n      0xa431: 'BodySerialNumber',\r\n      0xa432: 'LensSpecification',\r\n      0xa433: 'LensMake',\r\n      0xa434: 'LensModel',\r\n      0xa435: 'LensSerialNumber'\r\n    },\r\n    0x8825: {\r\n      // GPSInfoIFDPointer\r\n      0x0000: 'GPSVersionID',\r\n      0x0001: 'GPSLatitudeRef',\r\n      0x0002: 'GPSLatitude',\r\n      0x0003: 'GPSLongitudeRef',\r\n      0x0004: 'GPSLongitude',\r\n      0x0005: 'GPSAltitudeRef',\r\n      0x0006: 'GPSAltitude',\r\n      0x0007: 'GPSTimeStamp',\r\n      0x0008: 'GPSSatellites',\r\n      0x0009: 'GPSStatus',\r\n      0x000a: 'GPSMeasureMode',\r\n      0x000b: 'GPSDOP',\r\n      0x000c: 'GPSSpeedRef',\r\n      0x000d: 'GPSSpeed',\r\n      0x000e: 'GPSTrackRef',\r\n      0x000f: 'GPSTrack',\r\n      0x0010: 'GPSImgDirectionRef',\r\n      0x0011: 'GPSImgDirection',\r\n      0x0012: 'GPSMapDatum',\r\n      0x0013: 'GPSDestLatitudeRef',\r\n      0x0014: 'GPSDestLatitude',\r\n      0x0015: 'GPSDestLongitudeRef',\r\n      0x0016: 'GPSDestLongitude',\r\n      0x0017: 'GPSDestBearingRef',\r\n      0x0018: 'GPSDestBearing',\r\n      0x0019: 'GPSDestDistanceRef',\r\n      0x001a: 'GPSDestDistance',\r\n      0x001b: 'GPSProcessingMethod',\r\n      0x001c: 'GPSAreaInformation',\r\n      0x001d: 'GPSDateStamp',\r\n      0x001e: 'GPSDifferential',\r\n      0x001f: 'GPSHPositioningError'\r\n    },\r\n    0xa005: {\r\n      // InteroperabilityIFDPointer\r\n      0x0001: 'InteroperabilityIndex'\r\n    }\r\n  }\r\n\r\n  // IFD1 directory can contain any IFD0 tags:\r\n  ExifMapProto.tags.ifd1 = ExifMapProto.tags\r\n\r\n  ExifMapProto.stringValues = {\r\n    ExposureProgram: {\r\n      0: 'Undefined',\r\n      1: 'Manual',\r\n      2: 'Normal program',\r\n      3: 'Aperture priority',\r\n      4: 'Shutter priority',\r\n      5: 'Creative program',\r\n      6: 'Action program',\r\n      7: 'Portrait mode',\r\n      8: 'Landscape mode'\r\n    },\r\n    MeteringMode: {\r\n      0: 'Unknown',\r\n      1: 'Average',\r\n      2: 'CenterWeightedAverage',\r\n      3: 'Spot',\r\n      4: 'MultiSpot',\r\n      5: 'Pattern',\r\n      6: 'Partial',\r\n      255: 'Other'\r\n    },\r\n    LightSource: {\r\n      0: 'Unknown',\r\n      1: 'Daylight',\r\n      2: 'Fluorescent',\r\n      3: 'Tungsten (incandescent light)',\r\n      4: 'Flash',\r\n      9: 'Fine weather',\r\n      10: 'Cloudy weather',\r\n      11: 'Shade',\r\n      12: 'Daylight fluorescent (D 5700 - 7100K)',\r\n      13: 'Day white fluorescent (N 4600 - 5400K)',\r\n      14: 'Cool white fluorescent (W 3900 - 4500K)',\r\n      15: 'White fluorescent (WW 3200 - 3700K)',\r\n      17: 'Standard light A',\r\n      18: 'Standard light B',\r\n      19: 'Standard light C',\r\n      20: 'D55',\r\n      21: 'D65',\r\n      22: 'D75',\r\n      23: 'D50',\r\n      24: 'ISO studio tungsten',\r\n      255: 'Other'\r\n    },\r\n    Flash: {\r\n      0x0000: 'Flash did not fire',\r\n      0x0001: 'Flash fired',\r\n      0x0005: 'Strobe return light not detected',\r\n      0x0007: 'Strobe return light detected',\r\n      0x0009: 'Flash fired, compulsory flash mode',\r\n      0x000d: 'Flash fired, compulsory flash mode, return light not detected',\r\n      0x000f: 'Flash fired, compulsory flash mode, return light detected',\r\n      0x0010: 'Flash did not fire, compulsory flash mode',\r\n      0x0018: 'Flash did not fire, auto mode',\r\n      0x0019: 'Flash fired, auto mode',\r\n      0x001d: 'Flash fired, auto mode, return light not detected',\r\n      0x001f: 'Flash fired, auto mode, return light detected',\r\n      0x0020: 'No flash function',\r\n      0x0041: 'Flash fired, red-eye reduction mode',\r\n      0x0045: 'Flash fired, red-eye reduction mode, return light not detected',\r\n      0x0047: 'Flash fired, red-eye reduction mode, return light detected',\r\n      0x0049: 'Flash fired, compulsory flash mode, red-eye reduction mode',\r\n      0x004d: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected',\r\n      0x004f: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected',\r\n      0x0059: 'Flash fired, auto mode, red-eye reduction mode',\r\n      0x005d: 'Flash fired, auto mode, return light not detected, red-eye reduction mode',\r\n      0x005f: 'Flash fired, auto mode, return light detected, red-eye reduction mode'\r\n    },\r\n    SensingMethod: {\r\n      1: 'Undefined',\r\n      2: 'One-chip color area sensor',\r\n      3: 'Two-chip color area sensor',\r\n      4: 'Three-chip color area sensor',\r\n      5: 'Color sequential area sensor',\r\n      7: 'Trilinear sensor',\r\n      8: 'Color sequential linear sensor'\r\n    },\r\n    SceneCaptureType: {\r\n      0: 'Standard',\r\n      1: 'Landscape',\r\n      2: 'Portrait',\r\n      3: 'Night scene'\r\n    },\r\n    SceneType: {\r\n      1: 'Directly photographed'\r\n    },\r\n    CustomRendered: {\r\n      0: 'Normal process',\r\n      1: 'Custom process'\r\n    },\r\n    WhiteBalance: {\r\n      0: 'Auto white balance',\r\n      1: 'Manual white balance'\r\n    },\r\n    GainControl: {\r\n      0: 'None',\r\n      1: 'Low gain up',\r\n      2: 'High gain up',\r\n      3: 'Low gain down',\r\n      4: 'High gain down'\r\n    },\r\n    Contrast: {\r\n      0: 'Normal',\r\n      1: 'Soft',\r\n      2: 'Hard'\r\n    },\r\n    Saturation: {\r\n      0: 'Normal',\r\n      1: 'Low saturation',\r\n      2: 'High saturation'\r\n    },\r\n    Sharpness: {\r\n      0: 'Normal',\r\n      1: 'Soft',\r\n      2: 'Hard'\r\n    },\r\n    SubjectDistanceRange: {\r\n      0: 'Unknown',\r\n      1: 'Macro',\r\n      2: 'Close view',\r\n      3: 'Distant view'\r\n    },\r\n    FileSource: {\r\n      3: 'DSC'\r\n    },\r\n    ComponentsConfiguration: {\r\n      0: '',\r\n      1: 'Y',\r\n      2: 'Cb',\r\n      3: 'Cr',\r\n      4: 'R',\r\n      5: 'G',\r\n      6: 'B'\r\n    },\r\n    Orientation: {\r\n      1: 'Original',\r\n      2: 'Horizontal flip',\r\n      3: 'Rotate 180\u00b0 CCW',\r\n      4: 'Vertical flip',\r\n      5: 'Vertical flip + Rotate 90\u00b0 CW',\r\n      6: 'Rotate 90\u00b0 CW',\r\n      7: 'Horizontal flip + Rotate 90\u00b0 CW',\r\n      8: 'Rotate 90\u00b0 CCW'\r\n    }\r\n  }\r\n\r\n  ExifMapProto.getText = function (name) {\r\n    var value = this.get(name)\r\n    switch (name) {\r\n      case 'LightSource':\r\n      case 'Flash':\r\n      case 'MeteringMode':\r\n      case 'ExposureProgram':\r\n      case 'SensingMethod':\r\n      case 'SceneCaptureType':\r\n      case 'SceneType':\r\n      case 'CustomRendered':\r\n      case 'WhiteBalance':\r\n      case 'GainControl':\r\n      case 'Contrast':\r\n      case 'Saturation':\r\n      case 'Sharpness':\r\n      case 'SubjectDistanceRange':\r\n      case 'FileSource':\r\n      case 'Orientation':\r\n        return this.stringValues[name][value]\r\n      case 'ExifVersion':\r\n      case 'FlashpixVersion':\r\n        if (!value) return\r\n        return String.fromCharCode(value[0], value[1], value[2], value[3])\r\n      case 'ComponentsConfiguration':\r\n        if (!value) return\r\n        return (\r\n          this.stringValues[name][value[0]] +\r\n          this.stringValues[name][value[1]] +\r\n          this.stringValues[name][value[2]] +\r\n          this.stringValues[name][value[3]]\r\n        )\r\n      case 'GPSVersionID':\r\n        if (!value) return\r\n        return value[0] + '.' + value[1] + '.' + value[2] + '.' + value[3]\r\n    }\r\n    return String(value)\r\n  }\r\n\r\n  ExifMapProto.getAll = function () {\r\n    var map = {}\r\n    var prop\r\n    var obj\r\n    var name\r\n    for (prop in this) {\r\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\r\n        obj = this[prop]\r\n        if (obj && obj.getAll) {\r\n          map[this.ifds[prop].name] = obj.getAll()\r\n        } else {\r\n          name = this.tags[prop]\r\n          if (name) map[name] = this.getText(name)\r\n        }\r\n      }\r\n    }\r\n    return map\r\n  }\r\n\r\n  ExifMapProto.getName = function (tagCode) {\r\n    var name = this.tags[tagCode]\r\n    if (typeof name === 'object') return this.ifds[tagCode].name\r\n    return name\r\n  }\r\n\r\n  // Extend the map of tag names to tag codes:\r\n  ;(function () {\r\n    var tags = ExifMapProto.tags\r\n    var prop\r\n    var ifd\r\n    var subTags\r\n    // Map the tag names to tags:\r\n    for (prop in tags) {\r\n      if (Object.prototype.hasOwnProperty.call(tags, prop)) {\r\n        ifd = ExifMapProto.ifds[prop]\r\n        if (ifd) {\r\n          subTags = tags[prop]\r\n          for (prop in subTags) {\r\n            if (Object.prototype.hasOwnProperty.call(subTags, prop)) {\r\n              ifd.map[subTags[prop]] = Number(prop)\r\n            }\r\n          }\r\n        } else {\r\n          ExifMapProto.map[tags[prop]] = Number(prop)\r\n        }\r\n      }\r\n    }\r\n  })()\r\n})\r\n","Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-iptc-map.js":"/*\r\n * JavaScript Load Image IPTC Map\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * Copyright 2018, Dave Bevan\r\n *\r\n * IPTC tags mapping based on\r\n * https://iptc.org/standards/photo-metadata\r\n * https://exiftool.org/TagNames/IPTC.html\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, module, require */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image', 'Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-iptc'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image'), require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-iptc'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n})(function (loadImage) {\r\n  'use strict'\r\n\r\n  var IptcMapProto = loadImage.IptcMap.prototype\r\n\r\n  IptcMapProto.tags = {\r\n    0: 'ApplicationRecordVersion',\r\n    3: 'ObjectTypeReference',\r\n    4: 'ObjectAttributeReference',\r\n    5: 'ObjectName',\r\n    7: 'EditStatus',\r\n    8: 'EditorialUpdate',\r\n    10: 'Urgency',\r\n    12: 'SubjectReference',\r\n    15: 'Category',\r\n    20: 'SupplementalCategories',\r\n    22: 'FixtureIdentifier',\r\n    25: 'Keywords',\r\n    26: 'ContentLocationCode',\r\n    27: 'ContentLocationName',\r\n    30: 'ReleaseDate',\r\n    35: 'ReleaseTime',\r\n    37: 'ExpirationDate',\r\n    38: 'ExpirationTime',\r\n    40: 'SpecialInstructions',\r\n    42: 'ActionAdvised',\r\n    45: 'ReferenceService',\r\n    47: 'ReferenceDate',\r\n    50: 'ReferenceNumber',\r\n    55: 'DateCreated',\r\n    60: 'TimeCreated',\r\n    62: 'DigitalCreationDate',\r\n    63: 'DigitalCreationTime',\r\n    65: 'OriginatingProgram',\r\n    70: 'ProgramVersion',\r\n    75: 'ObjectCycle',\r\n    80: 'Byline',\r\n    85: 'BylineTitle',\r\n    90: 'City',\r\n    92: 'Sublocation',\r\n    95: 'State',\r\n    100: 'CountryCode',\r\n    101: 'Country',\r\n    103: 'OriginalTransmissionReference',\r\n    105: 'Headline',\r\n    110: 'Credit',\r\n    115: 'Source',\r\n    116: 'CopyrightNotice',\r\n    118: 'Contact',\r\n    120: 'Caption',\r\n    121: 'LocalCaption',\r\n    122: 'Writer',\r\n    125: 'RasterizedCaption',\r\n    130: 'ImageType',\r\n    131: 'ImageOrientation',\r\n    135: 'LanguageIdentifier',\r\n    150: 'AudioType',\r\n    151: 'AudioSamplingRate',\r\n    152: 'AudioSamplingResolution',\r\n    153: 'AudioDuration',\r\n    154: 'AudioOutcue',\r\n    184: 'JobID',\r\n    185: 'MasterDocumentID',\r\n    186: 'ShortDocumentID',\r\n    187: 'UniqueDocumentID',\r\n    188: 'OwnerID',\r\n    200: 'ObjectPreviewFileFormat',\r\n    201: 'ObjectPreviewFileVersion',\r\n    202: 'ObjectPreviewData',\r\n    221: 'Prefs',\r\n    225: 'ClassifyState',\r\n    228: 'SimilarityIndex',\r\n    230: 'DocumentNotes',\r\n    231: 'DocumentHistory',\r\n    232: 'ExifCameraInfo',\r\n    255: 'CatalogSets'\r\n  }\r\n\r\n  IptcMapProto.stringValues = {\r\n    10: {\r\n      0: '0 (reserved)',\r\n      1: '1 (most urgent)',\r\n      2: '2',\r\n      3: '3',\r\n      4: '4',\r\n      5: '5 (normal urgency)',\r\n      6: '6',\r\n      7: '7',\r\n      8: '8 (least urgent)',\r\n      9: '9 (user-defined priority)'\r\n    },\r\n    75: {\r\n      a: 'Morning',\r\n      b: 'Both Morning and Evening',\r\n      p: 'Evening'\r\n    },\r\n    131: {\r\n      L: 'Landscape',\r\n      P: 'Portrait',\r\n      S: 'Square'\r\n    }\r\n  }\r\n\r\n  IptcMapProto.getText = function (id) {\r\n    var value = this.get(id)\r\n    var tagCode = this.map[id]\r\n    var stringValue = this.stringValues[tagCode]\r\n    if (stringValue) return stringValue[value]\r\n    return String(value)\r\n  }\r\n\r\n  IptcMapProto.getAll = function () {\r\n    var map = {}\r\n    var prop\r\n    var name\r\n    for (prop in this) {\r\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\r\n        name = this.tags[prop]\r\n        if (name) map[name] = this.getText(name)\r\n      }\r\n    }\r\n    return map\r\n  }\r\n\r\n  IptcMapProto.getName = function (tagCode) {\r\n    return this.tags[tagCode]\r\n  }\r\n\r\n  // Extend the map of tag names to tag codes:\r\n  ;(function () {\r\n    var tags = IptcMapProto.tags\r\n    var map = IptcMapProto.map || {}\r\n    var prop\r\n    // Map the tag names to tags:\r\n    for (prop in tags) {\r\n      if (Object.prototype.hasOwnProperty.call(tags, prop)) {\r\n        map[tags[prop]] = Number(prop)\r\n      }\r\n    }\r\n  })()\r\n})\r\n","Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-fetch.js":"/*\r\n * JavaScript Load Image Fetch\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2017, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, module, require, Promise */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n})(function (loadImage) {\r\n  'use strict'\r\n\r\n  var global = loadImage.global\r\n\r\n  if (\r\n    global.fetch &&\r\n    global.Request &&\r\n    global.Response &&\r\n    global.Response.prototype.blob\r\n  ) {\r\n    loadImage.fetchBlob = function (url, callback, options) {\r\n      /**\r\n       * Fetch response handler.\r\n       *\r\n       * @param {Response} response Fetch response\r\n       * @returns {Blob} Fetched Blob.\r\n       */\r\n      function responseHandler(response) {\r\n        return response.blob()\r\n      }\r\n      if (global.Promise && typeof callback !== 'function') {\r\n        return fetch(new Request(url, callback)).then(responseHandler)\r\n      }\r\n      fetch(new Request(url, options))\r\n        .then(responseHandler)\r\n        .then(callback)\r\n        [\r\n          // Avoid parsing error in IE<9, where catch is a reserved word.\r\n          // eslint-disable-next-line dot-notation\r\n          'catch'\r\n        ](function (err) {\r\n          callback(null, err)\r\n        })\r\n    }\r\n  } else if (\r\n    global.XMLHttpRequest &&\r\n    // https://xhr.spec.whatwg.org/#the-responsetype-attribute\r\n    new XMLHttpRequest().responseType === ''\r\n  ) {\r\n    loadImage.fetchBlob = function (url, callback, options) {\r\n      /**\r\n       * Promise executor\r\n       *\r\n       * @param {Function} resolve Resolution function\r\n       * @param {Function} reject Rejection function\r\n       */\r\n      function executor(resolve, reject) {\r\n        options = options || {} // eslint-disable-line no-param-reassign\r\n        var req = new XMLHttpRequest()\r\n        req.open(options.method || 'GET', url)\r\n        if (options.headers) {\r\n          Object.keys(options.headers).forEach(function (key) {\r\n            req.setRequestHeader(key, options.headers[key])\r\n          })\r\n        }\r\n        req.withCredentials = options.credentials === 'include'\r\n        req.responseType = 'blob'\r\n        req.onload = function () {\r\n          resolve(req.response)\r\n        }\r\n        req.onerror = req.onabort = req.ontimeout = function (err) {\r\n          if (resolve === reject) {\r\n            // Not using Promises\r\n            reject(null, err)\r\n          } else {\r\n            reject(err)\r\n          }\r\n        }\r\n        req.send(options.body)\r\n      }\r\n      if (global.Promise && typeof callback !== 'function') {\r\n        options = callback // eslint-disable-line no-param-reassign\r\n        return new Promise(executor)\r\n      }\r\n      return executor(callback, callback)\r\n    }\r\n  }\r\n})\r\n","Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-iptc.js":"/*\r\n * JavaScript Load Image IPTC Parser\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * Copyright 2018, Dave Bevan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, module, require, DataView */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image', 'Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-meta'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image'), require('Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image-meta'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n})(function (loadImage) {\r\n  'use strict'\r\n\r\n  /**\r\n   * IPTC tag map\r\n   *\r\n   * @name IptcMap\r\n   * @class\r\n   */\r\n  function IptcMap() {}\r\n\r\n  IptcMap.prototype.map = {\r\n    ObjectName: 5\r\n  }\r\n\r\n  IptcMap.prototype.types = {\r\n    0: 'Uint16', // ApplicationRecordVersion\r\n    200: 'Uint16', // ObjectPreviewFileFormat\r\n    201: 'Uint16', // ObjectPreviewFileVersion\r\n    202: 'binary' // ObjectPreviewData\r\n  }\r\n\r\n  /**\r\n   * Retrieves IPTC tag value\r\n   *\r\n   * @param {number|string} id IPTC tag code or name\r\n   * @returns {object} IPTC tag value\r\n   */\r\n  IptcMap.prototype.get = function (id) {\r\n    return this[id] || this[this.map[id]]\r\n  }\r\n\r\n  /**\r\n   * Retrieves string for the given DataView and range\r\n   *\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} offset Offset start\r\n   * @param {number} length Offset length\r\n   * @returns {string} String value\r\n   */\r\n  function getStringValue(dataView, offset, length) {\r\n    var outstr = ''\r\n    var end = offset + length\r\n    for (var n = offset; n < end; n += 1) {\r\n      outstr += String.fromCharCode(dataView.getUint8(n))\r\n    }\r\n    return outstr\r\n  }\r\n\r\n  /**\r\n   * Retrieves tag value for the given DataView and range\r\n   *\r\n   * @param {number} tagCode tag code\r\n   * @param {IptcMap} map IPTC tag map\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} offset Range start\r\n   * @param {number} length Range length\r\n   * @returns {object} Tag value\r\n   */\r\n  function getTagValue(tagCode, map, dataView, offset, length) {\r\n    if (map.types[tagCode] === 'binary') {\r\n      return new Blob([dataView.buffer.slice(offset, offset + length)])\r\n    }\r\n    if (map.types[tagCode] === 'Uint16') {\r\n      return dataView.getUint16(offset)\r\n    }\r\n    return getStringValue(dataView, offset, length)\r\n  }\r\n\r\n  /**\r\n   * Combines IPTC value with existing ones.\r\n   *\r\n   * @param {object} value Existing IPTC field value\r\n   * @param {object} newValue New IPTC field value\r\n   * @returns {object} Resulting IPTC field value\r\n   */\r\n  function combineTagValues(value, newValue) {\r\n    if (value === undefined) return newValue\r\n    if (value instanceof Array) {\r\n      value.push(newValue)\r\n      return value\r\n    }\r\n    return [value, newValue]\r\n  }\r\n\r\n  /**\r\n   * Parses IPTC tags.\r\n   *\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} segmentOffset Segment offset\r\n   * @param {number} segmentLength Segment length\r\n   * @param {object} data Data export object\r\n   * @param {object} includeTags Map of tags to include\r\n   * @param {object} excludeTags Map of tags to exclude\r\n   */\r\n  function parseIptcTags(\r\n    dataView,\r\n    segmentOffset,\r\n    segmentLength,\r\n    data,\r\n    includeTags,\r\n    excludeTags\r\n  ) {\r\n    var value, tagSize, tagCode\r\n    var segmentEnd = segmentOffset + segmentLength\r\n    var offset = segmentOffset\r\n    while (offset < segmentEnd) {\r\n      if (\r\n        dataView.getUint8(offset) === 0x1c && // tag marker\r\n        dataView.getUint8(offset + 1) === 0x02 // record number, only handles v2\r\n      ) {\r\n        tagCode = dataView.getUint8(offset + 2)\r\n        if (\r\n          (!includeTags || includeTags[tagCode]) &&\r\n          (!excludeTags || !excludeTags[tagCode])\r\n        ) {\r\n          tagSize = dataView.getInt16(offset + 3)\r\n          value = getTagValue(tagCode, data.iptc, dataView, offset + 5, tagSize)\r\n          data.iptc[tagCode] = combineTagValues(data.iptc[tagCode], value)\r\n          if (data.iptcOffsets) {\r\n            data.iptcOffsets[tagCode] = offset\r\n          }\r\n        }\r\n      }\r\n      offset += 1\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Tests if field segment starts at offset.\r\n   *\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} offset Segment offset\r\n   * @returns {boolean} True if '8BIM<EOT><EOT>' exists at offset\r\n   */\r\n  function isSegmentStart(dataView, offset) {\r\n    return (\r\n      dataView.getUint32(offset) === 0x3842494d && // Photoshop segment start\r\n      dataView.getUint16(offset + 4) === 0x0404 // IPTC segment start\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Returns header length.\r\n   *\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} offset Segment offset\r\n   * @returns {number} Header length\r\n   */\r\n  function getHeaderLength(dataView, offset) {\r\n    var length = dataView.getUint8(offset + 7)\r\n    if (length % 2 !== 0) length += 1\r\n    // Check for pre photoshop 6 format\r\n    if (length === 0) {\r\n      // Always 4\r\n      length = 4\r\n    }\r\n    return length\r\n  }\r\n\r\n  loadImage.parseIptcData = function (dataView, offset, length, data, options) {\r\n    if (options.disableIptc) {\r\n      return\r\n    }\r\n    var markerLength = offset + length\r\n    while (offset + 8 < markerLength) {\r\n      if (isSegmentStart(dataView, offset)) {\r\n        var headerLength = getHeaderLength(dataView, offset)\r\n        var segmentOffset = offset + 8 + headerLength\r\n        if (segmentOffset > markerLength) {\r\n          // eslint-disable-next-line no-console\r\n          console.log('Invalid IPTC data: Invalid segment offset.')\r\n          break\r\n        }\r\n        var segmentLength = dataView.getUint16(offset + 6 + headerLength)\r\n        if (offset + segmentLength > markerLength) {\r\n          // eslint-disable-next-line no-console\r\n          console.log('Invalid IPTC data: Invalid segment size.')\r\n          break\r\n        }\r\n        // Create the iptc object to store the tags:\r\n        data.iptc = new IptcMap()\r\n        if (!options.disableIptcOffsets) {\r\n          data.iptcOffsets = new IptcMap()\r\n        }\r\n        parseIptcTags(\r\n          dataView,\r\n          segmentOffset,\r\n          segmentLength,\r\n          data,\r\n          options.includeIptcTags,\r\n          options.excludeIptcTags || { 202: true } // ObjectPreviewData\r\n        )\r\n        return\r\n      }\r\n      // eslint-disable-next-line no-param-reassign\r\n      offset += 1\r\n    }\r\n  }\r\n\r\n  // Registers this IPTC parser for the APP13 JPEG metadata segment:\r\n  loadImage.metaDataParsers.jpeg[0xffed].push(loadImage.parseIptcData)\r\n\r\n  loadImage.IptcMap = IptcMap\r\n\r\n  // Adds the following properties to the parseMetaData callback data:\r\n  // - iptc: The iptc tags, parsed by the parseIptcData method\r\n\r\n  // Adds the following options to the parseMetaData method:\r\n  // - disableIptc: Disables IPTC parsing when true.\r\n  // - disableIptcOffsets: Disables storing IPTC tag offsets when true.\r\n  // - includeIptcTags: A map of IPTC tags to include for parsing.\r\n  // - excludeIptcTags: A map of IPTC tags to exclude from parsing.\r\n})\r\n","Mageplaza_Core/lib/fileUploader/vendor/blueimp-load-image/js/load-image.js":"/*\r\n * JavaScript Load Image\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2011, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, module, Promise */\r\n\r\n;(function ($) {\r\n  'use strict'\r\n\r\n  var urlAPI = $.URL || $.webkitURL\r\n\r\n  /**\r\n   * Creates an object URL for a given File object.\r\n   *\r\n   * @param {Blob} blob Blob object\r\n   * @returns {string|boolean} Returns object URL if API exists, else false.\r\n   */\r\n  function createObjectURL(blob) {\r\n    return urlAPI ? urlAPI.createObjectURL(blob) : false\r\n  }\r\n\r\n  /**\r\n   * Revokes a given object URL.\r\n   *\r\n   * @param {string} url Blob object URL\r\n   * @returns {undefined|boolean} Returns undefined if API exists, else false.\r\n   */\r\n  function revokeObjectURL(url) {\r\n    return urlAPI ? urlAPI.revokeObjectURL(url) : false\r\n  }\r\n\r\n  /**\r\n   * Helper function to revoke an object URL\r\n   *\r\n   * @param {string} url Blob Object URL\r\n   * @param {object} [options] Options object\r\n   */\r\n  function revokeHelper(url, options) {\r\n    if (url && url.slice(0, 5) === 'blob:' && !(options && options.noRevoke)) {\r\n      revokeObjectURL(url)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Loads a given File object via FileReader interface.\r\n   *\r\n   * @param {Blob} file Blob object\r\n   * @param {Function} onload Load event callback\r\n   * @param {Function} [onerror] Error/Abort event callback\r\n   * @param {string} [method=readAsDataURL] FileReader method\r\n   * @returns {FileReader|boolean} Returns FileReader if API exists, else false.\r\n   */\r\n  function readFile(file, onload, onerror, method) {\r\n    if (!$.FileReader) return false\r\n    var reader = new FileReader()\r\n    reader.onload = function () {\r\n      onload.call(reader, this.result)\r\n    }\r\n    if (onerror) {\r\n      reader.onabort = reader.onerror = function () {\r\n        onerror.call(reader, this.error)\r\n      }\r\n    }\r\n    var readerMethod = reader[method || 'readAsDataURL']\r\n    if (readerMethod) {\r\n      readerMethod.call(reader, file)\r\n      return reader\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cross-frame instanceof check.\r\n   *\r\n   * @param {string} type Instance type\r\n   * @param {object} obj Object instance\r\n   * @returns {boolean} Returns true if the object is of the given instance.\r\n   */\r\n  function isInstanceOf(type, obj) {\r\n    // Cross-frame instanceof check\r\n    return Object.prototype.toString.call(obj) === '[object ' + type + ']'\r\n  }\r\n\r\n  /**\r\n   * @typedef { HTMLImageElement|HTMLCanvasElement } Result\r\n   */\r\n\r\n  /**\r\n   * Loads an image for a given File object.\r\n   *\r\n   * @param {Blob|string} file Blob object or image URL\r\n   * @param {Function|object} [callback] Image load event callback or options\r\n   * @param {object} [options] Options object\r\n   * @returns {HTMLImageElement|FileReader|Promise<Result>} Object\r\n   */\r\n  function loadImage(file, callback, options) {\r\n    /**\r\n     * Promise executor\r\n     *\r\n     * @param {Function} resolve Resolution function\r\n     * @param {Function} reject Rejection function\r\n     * @returns {HTMLImageElement|FileReader} Object\r\n     */\r\n    function executor(resolve, reject) {\r\n      var img = document.createElement('img')\r\n      var url\r\n      /**\r\n       * Callback for the fetchBlob call.\r\n       *\r\n       * @param {HTMLImageElement|HTMLCanvasElement} img Error object\r\n       * @param {object} data Data object\r\n       * @returns {undefined} Undefined\r\n       */\r\n      function resolveWrapper(img, data) {\r\n        if (resolve === reject) {\r\n          // Not using Promises\r\n          if (resolve) resolve(img, data)\r\n          return\r\n        } else if (img instanceof Error) {\r\n          reject(img)\r\n          return\r\n        }\r\n        data = data || {} // eslint-disable-line no-param-reassign\r\n        data.image = img\r\n        resolve(data)\r\n      }\r\n      /**\r\n       * Callback for the fetchBlob call.\r\n       *\r\n       * @param {Blob} blob Blob object\r\n       * @param {Error} err Error object\r\n       */\r\n      function fetchBlobCallback(blob, err) {\r\n        if (err && $.console) console.log(err) // eslint-disable-line no-console\r\n        if (blob && isInstanceOf('Blob', blob)) {\r\n          file = blob // eslint-disable-line no-param-reassign\r\n          url = createObjectURL(file)\r\n        } else {\r\n          url = file\r\n          if (options && options.crossOrigin) {\r\n            img.crossOrigin = options.crossOrigin\r\n          }\r\n        }\r\n        img.src = url\r\n      }\r\n      img.onerror = function (event) {\r\n        revokeHelper(url, options)\r\n        if (reject) reject.call(img, event)\r\n      }\r\n      img.onload = function () {\r\n        revokeHelper(url, options)\r\n        var data = {\r\n          originalWidth: img.naturalWidth || img.width,\r\n          originalHeight: img.naturalHeight || img.height\r\n        }\r\n        try {\r\n          loadImage.transform(img, options, resolveWrapper, file, data)\r\n        } catch (error) {\r\n          if (reject) reject(error)\r\n        }\r\n      }\r\n      if (typeof file === 'string') {\r\n        if (loadImage.requiresMetaData(options)) {\r\n          loadImage.fetchBlob(file, fetchBlobCallback, options)\r\n        } else {\r\n          fetchBlobCallback()\r\n        }\r\n        return img\r\n      } else if (isInstanceOf('Blob', file) || isInstanceOf('File', file)) {\r\n        url = createObjectURL(file)\r\n        if (url) {\r\n          img.src = url\r\n          return img\r\n        }\r\n        return readFile(\r\n          file,\r\n          function (url) {\r\n            img.src = url\r\n          },\r\n          reject\r\n        )\r\n      }\r\n    }\r\n    if ($.Promise && typeof callback !== 'function') {\r\n      options = callback // eslint-disable-line no-param-reassign\r\n      return new Promise(executor)\r\n    }\r\n    return executor(callback, callback)\r\n  }\r\n\r\n  // Determines if metadata should be loaded automatically.\r\n  // Requires the load image meta extension to load metadata.\r\n  loadImage.requiresMetaData = function (options) {\r\n    return options && options.meta\r\n  }\r\n\r\n  // If the callback given to this function returns a blob, it is used as image\r\n  // source instead of the original url and overrides the file argument used in\r\n  // the onload and onerror event callbacks:\r\n  loadImage.fetchBlob = function (url, callback) {\r\n    callback()\r\n  }\r\n\r\n  loadImage.transform = function (img, options, callback, file, data) {\r\n    callback(img, data)\r\n  }\r\n\r\n  loadImage.global = $\r\n  loadImage.readFile = readFile\r\n  loadImage.isInstanceOf = isInstanceOf\r\n  loadImage.createObjectURL = createObjectURL\r\n  loadImage.revokeObjectURL = revokeObjectURL\r\n\r\n  if (typeof define === 'function' && define.amd) {\r\n    define(function () {\r\n      return loadImage\r\n    })\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    module.exports = loadImage\r\n  } else {\r\n    $.loadImage = loadImage\r\n  }\r\n})((typeof window !== 'undefined' && window) || this)\r\n","Mageplaza_Core/lib/fileUploader/vendor/blueimp-tmpl/js/runtime.js":"/*\r\n * JavaScript Templates Runtime\r\n * https://github.com/blueimp/JavaScript-Templates\r\n *\r\n * Copyright 2011, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define */\r\n\r\n/* eslint-disable strict */\r\n\r\n;(function ($) {\r\n  'use strict'\r\n  var tmpl = function (id, data) {\r\n    var f = tmpl.cache[id]\r\n    return data\r\n      ? f(data, tmpl)\r\n      : function (data) {\r\n          return f(data, tmpl)\r\n        }\r\n  }\r\n  tmpl.cache = {}\r\n  tmpl.encReg = /[<>&\"'\\x00]/g // eslint-disable-line no-control-regex\r\n  tmpl.encMap = {\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    '&': '&amp;',\r\n    '\"': '&quot;',\r\n    \"'\": '&#39;'\r\n  }\r\n  tmpl.encode = function (s) {\r\n    // eslint-disable-next-line eqeqeq\r\n    return (s == null ? '' : '' + s).replace(tmpl.encReg, function (c) {\r\n      return tmpl.encMap[c] || ''\r\n    })\r\n  }\r\n  if (typeof define === 'function' && define.amd) {\r\n    define(function () {\r\n      return tmpl\r\n    })\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    module.exports = tmpl\r\n  } else {\r\n    $.tmpl = tmpl\r\n  }\r\n})(this)\r\n","Mageplaza_Core/lib/fileUploader/vendor/blueimp-tmpl/js/compile.js":"#!/usr/bin/env node\r\n/*\r\n * JavaScript Templates Compiler\r\n * https://github.com/blueimp/JavaScript-Templates\r\n *\r\n * Copyright 2011, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* eslint-disable strict */\r\n/* eslint-disable no-console */\r\n\r\n;(function () {\r\n  'use strict'\r\n  var path = require('path')\r\n  var tmpl = require(path.join(__dirname, 'tmpl.js'))\r\n  var fs = require('fs')\r\n  // Retrieve the content of the minimal runtime:\r\n  var runtime = fs.readFileSync(path.join(__dirname, 'runtime.js'), 'utf8')\r\n  // A regular expression to parse templates from script tags in a HTML page:\r\n  var regexp = /<script( id=\"([\\w-]+)\")? type=\"text\\/x-tmpl\"( id=\"([\\w-]+)\")?>([\\s\\S]+?)<\\/script>/gi\r\n  // A regular expression to match the helper function names:\r\n  var helperRegexp = new RegExp(\r\n    tmpl.helper.match(/\\w+(?=\\s*=\\s*function\\s*\\()/g).join('\\\\s*\\\\(|') +\r\n      '\\\\s*\\\\('\r\n  )\r\n  // A list to store the function bodies:\r\n  var list = []\r\n  var code\r\n  // Extend the Templating engine with a print method for the generated functions:\r\n  tmpl.print = function (str) {\r\n    // Only add helper functions if they are used inside of the template:\r\n    var helper = helperRegexp.test(str) ? tmpl.helper : ''\r\n    var body = str.replace(tmpl.regexp, tmpl.func)\r\n    if (helper || /_e\\s*\\(/.test(body)) {\r\n      helper = '_e=tmpl.encode' + helper + ','\r\n    }\r\n    return (\r\n      'function(' +\r\n      tmpl.arg +\r\n      ',tmpl){' +\r\n      ('var ' + helper + \"_s='\" + body + \"';return _s;\")\r\n        .split(\"_s+='';\")\r\n        .join('') +\r\n      '}'\r\n    )\r\n  }\r\n  // Loop through the command line arguments:\r\n  process.argv.forEach(function (file, index) {\r\n    var listLength = list.length\r\n    var stats\r\n    var content\r\n    var result\r\n    var id\r\n    // Skip the first two arguments, which are \"node\" and the script:\r\n    if (index > 1) {\r\n      stats = fs.statSync(file)\r\n      if (!stats.isFile()) {\r\n        console.error(file + ' is not a file.')\r\n        return\r\n      }\r\n      content = fs.readFileSync(file, 'utf8')\r\n      // eslint-disable-next-line no-constant-condition\r\n      while (true) {\r\n        // Find templates in script tags:\r\n        result = regexp.exec(content)\r\n        if (!result) {\r\n          break\r\n        }\r\n        id = result[2] || result[4]\r\n        list.push(\"'\" + id + \"':\" + tmpl.print(result[5]))\r\n      }\r\n      if (listLength === list.length) {\r\n        // No template script tags found, use the complete content:\r\n        id = path.basename(file, path.extname(file))\r\n        list.push(\"'\" + id + \"':\" + tmpl.print(content))\r\n      }\r\n    }\r\n  })\r\n  if (!list.length) {\r\n    console.error('Missing input file.')\r\n    return\r\n  }\r\n  // Combine the generated functions as cache of the minimal runtime:\r\n  code = runtime.replace('{}', '{' + list.join(',') + '}')\r\n  // Print the resulting code to the console output:\r\n  console.log(code)\r\n})()\r\n","Mageplaza_Core/lib/fileUploader/vendor/blueimp-tmpl/js/tmpl.js":"/*\r\n * JavaScript Templates\r\n * https://github.com/blueimp/JavaScript-Templates\r\n *\r\n * Copyright 2011, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n *\r\n * Inspired by John Resig's JavaScript Micro-Templating:\r\n * http://ejohn.org/blog/javascript-micro-templating/\r\n */\r\n\r\n/* global define */\r\n\r\n/* eslint-disable strict */\r\n\r\n;(function ($) {\r\n  'use strict'\r\n  var tmpl = function (str, data) {\r\n    var f = !/[^\\w\\-.:]/.test(str)\r\n      ? (tmpl.cache[str] = tmpl.cache[str] || tmpl(tmpl.load(str)))\r\n      : new Function( // eslint-disable-line no-new-func\r\n          tmpl.arg + ',tmpl',\r\n          'var _e=tmpl.encode' +\r\n            tmpl.helper +\r\n            \",_s='\" +\r\n            str.replace(tmpl.regexp, tmpl.func) +\r\n            \"';return _s;\"\r\n        )\r\n    return data\r\n      ? f(data, tmpl)\r\n      : function (data) {\r\n          return f(data, tmpl)\r\n        }\r\n  }\r\n  tmpl.cache = {}\r\n  tmpl.load = function (id) {\r\n    return document.getElementById(id).innerHTML\r\n  }\r\n  tmpl.regexp = /([\\s'\\\\])(?!(?:[^{]|\\{(?!%))*%\\})|(?:\\{%(=|#)([\\s\\S]+?)%\\})|(\\{%)|(%\\})/g\r\n  tmpl.func = function (s, p1, p2, p3, p4, p5) {\r\n    if (p1) {\r\n      // whitespace, quote and backspace in HTML context\r\n      return (\r\n        {\r\n          '\\n': '\\\\n',\r\n          '\\r': '\\\\r',\r\n          '\\t': '\\\\t',\r\n          ' ': ' '\r\n        }[p1] || '\\\\' + p1\r\n      )\r\n    }\r\n    if (p2) {\r\n      // interpolation: {%=prop%}, or unescaped: {%#prop%}\r\n      if (p2 === '=') {\r\n        return \"'+_e(\" + p3 + \")+'\"\r\n      }\r\n      return \"'+(\" + p3 + \"==null?'':\" + p3 + \")+'\"\r\n    }\r\n    if (p4) {\r\n      // evaluation start tag: {%\r\n      return \"';\"\r\n    }\r\n    if (p5) {\r\n      // evaluation end tag: %}\r\n      return \"_s+='\"\r\n    }\r\n  }\r\n  tmpl.encReg = /[<>&\"'\\x00]/g // eslint-disable-line no-control-regex\r\n  tmpl.encMap = {\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    '&': '&amp;',\r\n    '\"': '&quot;',\r\n    \"'\": '&#39;'\r\n  }\r\n  tmpl.encode = function (s) {\r\n    // eslint-disable-next-line eqeqeq\r\n    return (s == null ? '' : '' + s).replace(tmpl.encReg, function (c) {\r\n      return tmpl.encMap[c] || ''\r\n    })\r\n  }\r\n  tmpl.arg = 'o'\r\n  tmpl.helper =\r\n    \",print=function(s,e){_s+=e?(s==null?'':s):_e(s);}\" +\r\n    ',include=function(s,d){_s+=tmpl(s,d);}'\r\n  if (typeof define === 'function' && define.amd) {\r\n    define(function () {\r\n      return tmpl\r\n    })\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    module.exports = tmpl\r\n  } else {\r\n    $.tmpl = tmpl\r\n  }\r\n})(this)\r\n","Mageplaza_Core/lib/fileUploader/vendor/blueimp-canvas-to-blob/js/canvas-to-blob.js":"/*\r\n * JavaScript Canvas to Blob\r\n * https://github.com/blueimp/JavaScript-Canvas-to-Blob\r\n *\r\n * Copyright 2012, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n *\r\n * Based on stackoverflow user Stoive's code snippet:\r\n * http://stackoverflow.com/q/4998908\r\n */\r\n\r\n/* global define, Uint8Array, ArrayBuffer, module */\r\n\r\n;(function (window) {\r\n  'use strict'\r\n\r\n  var CanvasPrototype =\r\n    window.HTMLCanvasElement && window.HTMLCanvasElement.prototype\r\n  var hasBlobConstructor =\r\n    window.Blob &&\r\n    (function () {\r\n      try {\r\n        return Boolean(new Blob())\r\n      } catch (e) {\r\n        return false\r\n      }\r\n    })()\r\n  var hasArrayBufferViewSupport =\r\n    hasBlobConstructor &&\r\n    window.Uint8Array &&\r\n    (function () {\r\n      try {\r\n        return new Blob([new Uint8Array(100)]).size === 100\r\n      } catch (e) {\r\n        return false\r\n      }\r\n    })()\r\n  var BlobBuilder =\r\n    window.BlobBuilder ||\r\n    window.WebKitBlobBuilder ||\r\n    window.MozBlobBuilder ||\r\n    window.MSBlobBuilder\r\n  var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/\r\n  var dataURLtoBlob =\r\n    (hasBlobConstructor || BlobBuilder) &&\r\n    window.atob &&\r\n    window.ArrayBuffer &&\r\n    window.Uint8Array &&\r\n    function (dataURI) {\r\n      var matches,\r\n        mediaType,\r\n        isBase64,\r\n        dataString,\r\n        byteString,\r\n        arrayBuffer,\r\n        intArray,\r\n        i,\r\n        bb\r\n      // Parse the dataURI components as per RFC 2397\r\n      matches = dataURI.match(dataURIPattern)\r\n      if (!matches) {\r\n        throw new Error('invalid data URI')\r\n      }\r\n      // Default to text/plain;charset=US-ASCII\r\n      mediaType = matches[2]\r\n        ? matches[1]\r\n        : 'text/plain' + (matches[3] || ';charset=US-ASCII')\r\n      isBase64 = !!matches[4]\r\n      dataString = dataURI.slice(matches[0].length)\r\n      if (isBase64) {\r\n        // Convert base64 to raw binary data held in a string:\r\n        byteString = atob(dataString)\r\n      } else {\r\n        // Convert base64/URLEncoded data component to raw binary:\r\n        byteString = decodeURIComponent(dataString)\r\n      }\r\n      // Write the bytes of the string to an ArrayBuffer:\r\n      arrayBuffer = new ArrayBuffer(byteString.length)\r\n      intArray = new Uint8Array(arrayBuffer)\r\n      for (i = 0; i < byteString.length; i += 1) {\r\n        intArray[i] = byteString.charCodeAt(i)\r\n      }\r\n      // Write the ArrayBuffer (or ArrayBufferView) to a blob:\r\n      if (hasBlobConstructor) {\r\n        return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {\r\n          type: mediaType\r\n        })\r\n      }\r\n      bb = new BlobBuilder()\r\n      bb.append(arrayBuffer)\r\n      return bb.getBlob(mediaType)\r\n    }\r\n  if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\r\n    if (CanvasPrototype.mozGetAsFile) {\r\n      CanvasPrototype.toBlob = function (callback, type, quality) {\r\n        var self = this\r\n        setTimeout(function () {\r\n          if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\r\n            callback(dataURLtoBlob(self.toDataURL(type, quality)))\r\n          } else {\r\n            callback(self.mozGetAsFile('blob', type))\r\n          }\r\n        })\r\n      }\r\n    } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\r\n      if (CanvasPrototype.msToBlob) {\r\n        CanvasPrototype.toBlob = function (callback, type, quality) {\r\n          var self = this\r\n          setTimeout(function () {\r\n            if (\r\n              ((type && type !== 'image/png') || quality) &&\r\n              CanvasPrototype.toDataURL &&\r\n              dataURLtoBlob\r\n            ) {\r\n              callback(dataURLtoBlob(self.toDataURL(type, quality)))\r\n            } else {\r\n              callback(self.msToBlob(type))\r\n            }\r\n          })\r\n        }\r\n      } else {\r\n        CanvasPrototype.toBlob = function (callback, type, quality) {\r\n          var self = this\r\n          setTimeout(function () {\r\n            callback(dataURLtoBlob(self.toDataURL(type, quality)))\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n  if (typeof define === 'function' && define.amd) {\r\n    define(function () {\r\n      return dataURLtoBlob\r\n    })\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    module.exports = dataURLtoBlob\r\n  } else {\r\n    window.dataURLtoBlob = dataURLtoBlob\r\n  }\r\n})(window)\r\n","Mageplaza_Core/lib/fileUploader/cors/jquery.postmessage-transport.js":"/*\r\n * jQuery postMessage Transport Plugin\r\n * https://github.com/blueimp/jQuery-File-Upload\r\n *\r\n * Copyright 2011, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, require */\r\n\r\n(function (factory) {\r\n  'use strict';\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['jquery'], factory);\r\n  } else if (typeof exports === 'object') {\r\n    // Node/CommonJS:\r\n    factory(require('jquery'));\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.jQuery);\r\n  }\r\n})(function ($) {\r\n  'use strict';\r\n\r\n  var counter = 0,\r\n    names = [\r\n      'accepts',\r\n      'cache',\r\n      'contents',\r\n      'contentType',\r\n      'crossDomain',\r\n      'data',\r\n      'dataType',\r\n      'headers',\r\n      'ifModified',\r\n      'mimeType',\r\n      'password',\r\n      'processData',\r\n      'timeout',\r\n      'traditional',\r\n      'type',\r\n      'url',\r\n      'username'\r\n    ],\r\n    convert = function (p) {\r\n      return p;\r\n    };\r\n\r\n  $.ajaxSetup({\r\n    converters: {\r\n      'postmessage text': convert,\r\n      'postmessage json': convert,\r\n      'postmessage html': convert\r\n    }\r\n  });\r\n\r\n  $.ajaxTransport('postmessage', function (options) {\r\n    if (options.postMessage && window.postMessage) {\r\n      var iframe,\r\n        loc = $('<a></a>').prop('href', options.postMessage)[0],\r\n        target = loc.protocol + '//' + loc.host,\r\n        xhrUpload = options.xhr().upload;\r\n      // IE always includes the port for the host property of a link\r\n      // element, but not in the location.host or origin property for the\r\n      // default http port 80 and https port 443, so we strip it:\r\n      if (/^(http:\\/\\/.+:80)|(https:\\/\\/.+:443)$/.test(target)) {\r\n        target = target.replace(/:(80|443)$/, '');\r\n      }\r\n      return {\r\n        send: function (_, completeCallback) {\r\n          counter += 1;\r\n          var message = {\r\n              id: 'postmessage-transport-' + counter\r\n            },\r\n            eventName = 'message.' + message.id;\r\n          iframe = $(\r\n            '<iframe style=\"display:none;\" src=\"' +\r\n              options.postMessage +\r\n              '\" name=\"' +\r\n              message.id +\r\n              '\"></iframe>'\r\n          )\r\n            .on('load', function () {\r\n              $.each(names, function (i, name) {\r\n                message[name] = options[name];\r\n              });\r\n              message.dataType = message.dataType.replace('postmessage ', '');\r\n              $(window).on(eventName, function (event) {\r\n                var e = event.originalEvent;\r\n                var data = e.data;\r\n                var ev;\r\n                if (e.origin === target && data.id === message.id) {\r\n                  if (data.type === 'progress') {\r\n                    ev = document.createEvent('Event');\r\n                    ev.initEvent(data.type, false, true);\r\n                    $.extend(ev, data);\r\n                    xhrUpload.dispatchEvent(ev);\r\n                  } else {\r\n                    completeCallback(\r\n                      data.status,\r\n                      data.statusText,\r\n                      { postmessage: data.result },\r\n                      data.headers\r\n                    );\r\n                    iframe.remove();\r\n                    $(window).off(eventName);\r\n                  }\r\n                }\r\n              });\r\n              iframe[0].contentWindow.postMessage(message, target);\r\n            })\r\n            .appendTo(document.body);\r\n        },\r\n        abort: function () {\r\n          if (iframe) {\r\n            iframe.remove();\r\n          }\r\n        }\r\n      };\r\n    }\r\n  });\r\n});\r\n","Mageplaza_Core/lib/fileUploader/cors/jquery.xdr-transport.js":"/*\r\n * jQuery XDomainRequest Transport Plugin\r\n * https://github.com/blueimp/jQuery-File-Upload\r\n *\r\n * Copyright 2011, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n *\r\n * Based on Julian Aubourg's ajaxHooks xdr.js:\r\n * https://github.com/jaubourg/ajaxHooks/\r\n */\r\n\r\n/* global define, require, XDomainRequest */\r\n\r\n(function (factory) {\r\n  'use strict';\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['jquery'], factory);\r\n  } else if (typeof exports === 'object') {\r\n    // Node/CommonJS:\r\n    factory(require('jquery'));\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.jQuery);\r\n  }\r\n})(function ($) {\r\n  'use strict';\r\n  if (window.XDomainRequest && !$.support.cors) {\r\n    $.ajaxTransport(function (s) {\r\n      if (s.crossDomain && s.async) {\r\n        if (s.timeout) {\r\n          s.xdrTimeout = s.timeout;\r\n          delete s.timeout;\r\n        }\r\n        var xdr;\r\n        return {\r\n          send: function (headers, completeCallback) {\r\n            var addParamChar = /\\?/.test(s.url) ? '&' : '?';\r\n            /**\r\n             * Callback wrapper function\r\n             *\r\n             * @param {number} status HTTP status code\r\n             * @param {string} statusText HTTP status text\r\n             * @param {object} [responses] Content-type specific responses\r\n             * @param {string} [responseHeaders] Response headers string\r\n             */\r\n            function callback(status, statusText, responses, responseHeaders) {\r\n              xdr.onload = xdr.onerror = xdr.ontimeout = $.noop;\r\n              xdr = null;\r\n              completeCallback(status, statusText, responses, responseHeaders);\r\n            }\r\n            xdr = new XDomainRequest();\r\n            // XDomainRequest only supports GET and POST:\r\n            if (s.type === 'DELETE') {\r\n              s.url = s.url + addParamChar + '_method=DELETE';\r\n              s.type = 'POST';\r\n            } else if (s.type === 'PUT') {\r\n              s.url = s.url + addParamChar + '_method=PUT';\r\n              s.type = 'POST';\r\n            } else if (s.type === 'PATCH') {\r\n              s.url = s.url + addParamChar + '_method=PATCH';\r\n              s.type = 'POST';\r\n            }\r\n            xdr.open(s.type, s.url);\r\n            xdr.onload = function () {\r\n              callback(\r\n                200,\r\n                'OK',\r\n                { text: xdr.responseText },\r\n                'Content-Type: ' + xdr.contentType\r\n              );\r\n            };\r\n            xdr.onerror = function () {\r\n              callback(404, 'Not Found');\r\n            };\r\n            if (s.xdrTimeout) {\r\n              xdr.ontimeout = function () {\r\n                callback(0, 'timeout');\r\n              };\r\n              xdr.timeout = s.xdrTimeout;\r\n            }\r\n            xdr.send((s.hasContent && s.data) || null);\r\n          },\r\n          abort: function () {\r\n            if (xdr) {\r\n              xdr.onerror = $.noop();\r\n              xdr.abort();\r\n            }\r\n          }\r\n        };\r\n      }\r\n    });\r\n  }\r\n});\r\n","Magento_Multishipping/js/overview.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'jquery-ui-modules/widget',\n    'mage/translate'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.orderOverview', {\n        options: {\n            opacity: 0.5, // CSS opacity for the 'Place Order' button when it's clicked and then disabled.\n            pleaseWaitLoader: 'span.please-wait', // 'Submitting order information...' Ajax loader.\n            placeOrderSubmit: 'button[type=\"submit\"]', // The 'Place Order' button.\n            agreements: '.checkout-agreements' // Container for all of the checkout agreements and terms/conditions\n        },\n\n        /**\n         * Bind a submit handler to the form.\n         * @private\n         */\n        _create: function () {\n            this.element.on('submit', $.proxy(this._showLoader, this));\n        },\n\n        /**\n         * Verify that all agreements and terms/conditions are checked. Show the Ajax loader. Disable\n         * the submit button (i.e. Place Order).\n         * @return {Boolean}\n         * @private\n         */\n        _showLoader: function () {\n            if ($(this.options.agreements).find('input[type=\"checkbox\"]:not(:checked)').length > 0) {\n                return false;\n            }\n            this.element.find(this.options.pleaseWaitLoader).show().end()\n                .find(this.options.placeOrderSubmit).prop('disabled', true).css('opacity', this.options.opacity);\n\n            return true;\n        }\n    });\n\n    return $.mage.orderOverview;\n});\n","Magento_Multishipping/js/multi-shipping-balance.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mage/dataPost',\n    'jquery-ui-modules/widget'\n], function ($, dataPost) {\n    'use strict';\n\n    $.widget('mage.multiShippingBalance', {\n        options: {\n            changeUrl: ''\n        },\n\n        /**\n         * Initialize balance checkbox events.\n         *\n         * @private\n         */\n        _create: function () {\n            this.element.on('change', $.proxy(function (event) {\n                dataPost().postData({\n                    action: this.options.changeUrl,\n                    data: {\n                        useBalance: +$(event.target).is(':checked')\n                    }\n                });\n            }, this));\n        }\n    });\n\n    return $.mage.multiShippingBalance;\n});\n","Magento_Multishipping/js/multi-shipping.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'Magento_Customer/js/customer-data',\n    'jquery-ui-modules/widget'\n], function ($, customerData) {\n    'use strict';\n\n    $.widget('mage.multiShipping', {\n        options: {\n            itemsQty: 0,\n            addNewAddressBtn: 'button[data-role=\"add-new-address\"]', // Add a new multishipping address.\n            addNewAddressFlag: '#add_new_address_flag', // Hidden input field with value 0 or 1.\n            canContinueBtn: 'button[data-role=\"can-continue\"]', // Continue (update quantity or go to shipping).\n            canContinueFlag: '#can_continue_flag' // Hidden input field with value 0 or 1.\n        },\n\n        /**\n         * Bind event handlers to click events for corresponding buttons.\n         * @private\n         */\n        _create: function () {\n            this._prepareCartData();\n            $(this.options.addNewAddressBtn).on('click', $.proxy(this._addNewAddress, this));\n            $(this.options.canContinueBtn).on('click', $.proxy(this._canContinue, this));\n        },\n\n        /**\n         * Takes cart items qty from current cart data and compare it with current items qty\n         * Reloads cart data if cart items qty is wrong\n         * @private\n         */\n        _prepareCartData: function () {\n            var cartData = customerData.get('cart');\n\n            if (cartData()['summary_count'] !== this.options.itemsQty) {\n                customerData.reload(['cart'], false);\n            }\n        },\n\n        /**\n         * Add a new address. Set the hidden input field and submit the form. Then enter a new shipping address.\n         * @private\n         */\n        _addNewAddress: function () {\n            $(this.options.addNewAddressFlag).val(1);\n            this.element.submit();\n        },\n\n        /**\n         * Can the user continue to the next step? The data-flag attribute holds either 0 (no) or 1 (yes).\n         * @private\n         * @param {Event} event - Click event on the corresponding button.\n         */\n        _canContinue: function (event) {\n            $(this.options.canContinueFlag).val(parseInt($(event.currentTarget).data('flag'), 10));\n        }\n    });\n\n    return $.mage.multiShipping;\n});\n","Magento_Multishipping/js/payment.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mage/template',\n    'Magento_Ui/js/modal/alert',\n    'jquery-ui-modules/widget',\n    'mage/translate'\n], function ($, mageTemplate, alert) {\n    'use strict';\n\n    $.widget('mage.payment', {\n        options: {\n            continueSelector: '#payment-continue',\n            methodsContainer: '#payment-methods',\n            minBalance: 0,\n            tmpl: '<input id=\"hidden-free\" type=\"hidden\" name=\"payment[method]\" value=\"free\">'\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this.element.find('dd [name^=\"payment[\"]').prop('disabled', true).end()\n                .on('click', this.options.continueSelector, $.proxy(this._submitHandler, this))\n                .on('updateCheckoutPrice', $.proxy(function (event, data) {\n                    //updating the checkoutPrice\n                    if (data.price) {\n                        this.options.checkoutPrice += data.price;\n                    }\n\n                    //updating total price\n                    if (data.totalPrice) {\n                        data.totalPrice = this.options.checkoutPrice;\n                    }\n\n                    if (this.options.checkoutPrice <= this.options.minBalance) {\n                        // Add free input field, hide and disable unchecked\n                        // checkbox payment method and all radio button payment methods\n                        this._disablePaymentMethods();\n                    } else {\n                        // Remove free input field, show all payment method\n                        this._enablePaymentMethods();\n                    }\n                }, this))\n                .on('click', 'dt input:radio', $.proxy(this._paymentMethodHandler, this));\n\n            if (this.options.checkoutPrice < this.options.minBalance) {\n                this._disablePaymentMethods();\n            } else {\n                this._enablePaymentMethods();\n            }\n        },\n\n        /**\n         * Display payment details when payment method radio button is checked\n         * @private\n         * @param {EventObject} e\n         */\n        _paymentMethodHandler: function (e) {\n            var element = $(e.target),\n                parentsDl = element.closest('dl');\n\n            parentsDl.find('dt input:radio').prop('checked', false);\n            parentsDl.find('dd').addClass('no-display').end()\n                .find('.items').hide()\n                .find('[name^=\"payment[\"]').prop('disabled', true);\n            element.prop('checked', true).parent()\n                .next('dd').removeClass('no-display')\n                .find('.items').show().find('[name^=\"payment[\"]').prop('disabled', false);\n        },\n\n        /**\n         * make sure one payment method is selected\n         * @private\n         * @return {Boolean}\n         */\n        _validatePaymentMethod: function () {\n            var methods = this.element.find('[name^=\"payment[\"]'),\n                isValid = false;\n\n            if (methods.length === 0) {\n                alert({\n                    content: $.mage.__('We can\\'t complete your order because you don\\'t have a payment method set up.')\n                });\n            } else if (this.options.checkoutPrice <= this.options.minBalance) {\n                isValid = true;\n            } else if (methods.filter('input:radio:checked').length) {\n                isValid = true;\n            } else {\n                alert({\n                    content: $.mage.__('Please choose a payment method.')\n                });\n            }\n\n            return isValid;\n        },\n\n        /**\n         * Disable and enable payment methods\n         * @private\n         */\n        _disablePaymentMethods: function () {\n            var tmpl = mageTemplate(this.options.tmpl, {\n                data: {}\n            });\n\n            this.element.find('input[name=\"payment[method]\"]').prop('disabled', true).end()\n                .find('input[id^=\"use\"][name^=\"payment[use\"]:not(:checked)').prop('disabled', true).parent().hide();\n            this.element.find('[name=\"payment[method]\"][value=\"free\"]').parent('dt').remove();\n            this.element.find(this.options.methodsContainer).hide().find('[name^=\"payment[\"]').prop('disabled', true);\n\n            $(tmpl).appendTo(this.element);\n        },\n\n        /**\n         * Enable and enable payment methods\n         * @private\n         */\n        _enablePaymentMethods: function () {\n            this.element.find('input[name=\"payment[method]\"]').prop('disabled', false).end()\n                .find('dt input:radio:checked').trigger('click').end()\n                .find('input[id^=\"use\"][name^=\"payment[use\"]:not(:checked)').prop('disabled', false).parent().show();\n            this.element.find(this.options.methodsContainer).show();\n        },\n\n        /**\n         * Returns checked payment method.\n         *\n         * @private\n         */\n        _getSelectedPaymentMethod: function () {\n            return this.element.find('input[name=\\'payment[method]\\']:checked');\n        },\n\n        /**\n         * Validate  before form submit\n         * @private\n         * @param {EventObject} e\n         */\n        _submitHandler: function (e) {\n            var currentMethod,\n                submitButton;\n\n            e.preventDefault();\n\n            if (this._validatePaymentMethod()) {\n                currentMethod = this._getSelectedPaymentMethod();\n                submitButton = currentMethod.parent().next('dd').find('button[type=submit]');\n\n                if (submitButton.length) {\n                    submitButton.first().trigger('click');\n                } else {\n                    this.element.trigger('submit');\n                }\n            }\n        }\n    });\n\n    return $.mage.payment;\n});\n","Magento_CatalogSearch/js/search-terms-log.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mageUtils'\n], function ($, utils) {\n    'use strict';\n\n    return function (data) {\n        $.ajax({\n            method: 'GET',\n            url: data.url,\n            data: {\n                'q': utils.getUrlParameters(window.location.href).q\n            }\n        });\n    };\n});\n","Magento_Fedex/js/model/shipping-rates-validation-rules.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([], function () {\n    'use strict';\n\n    return {\n        /**\n         * @return {Object}\n         */\n        getRules: function () {\n            return {\n                'postcode': {\n                    'required': true\n                },\n                'country_id': {\n                    'required': true\n                },\n                'city': {\n                    'required': true\n                }\n            };\n        }\n    };\n});\n","Magento_Fedex/js/model/shipping-rates-validator.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mageUtils',\n    'Magento_Fedex/js/model/shipping-rates-validation-rules',\n    'mage/translate'\n], function ($, utils, validationRules, $t) {\n    'use strict';\n\n    return {\n        validationErrors: [],\n\n        /**\n         * @param {Object} address\n         * @return {Boolean}\n         */\n        validate: function (address) {\n            var self = this;\n\n            this.validationErrors = [];\n            $.each(validationRules.getRules(), function (field, rule) {\n                var message;\n\n                if (rule.required && utils.isEmpty(address[field])) {\n                    message = $t('Field ') + field + $t(' is required.');\n\n                    self.validationErrors.push(message);\n                }\n            });\n\n            return !this.validationErrors.length;\n        }\n    };\n});\n","Magento_Fedex/js/view/shipping-rates-validation.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'uiComponent',\n    'Magento_Checkout/js/model/shipping-rates-validator',\n    'Magento_Checkout/js/model/shipping-rates-validation-rules',\n    'Magento_Fedex/js/model/shipping-rates-validator',\n    'Magento_Fedex/js/model/shipping-rates-validation-rules'\n], function (\n    Component,\n    defaultShippingRatesValidator,\n    defaultShippingRatesValidationRules,\n    fedexShippingRatesValidator,\n    fedexShippingRatesValidationRules\n) {\n    'use strict';\n\n    defaultShippingRatesValidator.registerValidator('fedex', fedexShippingRatesValidator);\n    defaultShippingRatesValidationRules.registerRules('fedex', fedexShippingRatesValidationRules);\n\n    return Component;\n});\n","Magento_Weee/js/tax-toggle.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    /**\n     * @param {Object} config\n     * @param {jQuery.Event} e\n     */\n    function onToggle(config, e) {\n        var elem = $(e.currentTarget),\n            expandedClassName = config.expandedClassName || 'cart-tax-total-expanded';\n\n        elem.toggleClass(expandedClassName);\n\n        $(config.itemTaxId).toggle();\n    }\n\n    return function (data, el) {\n        $(el).on('click', onToggle.bind(null, data));\n    };\n});\n","Magento_Weee/js/price/adjustment.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'Magento_Ui/js/grid/columns/column'\n], function (Element) {\n    'use strict';\n\n    return Element.extend({\n        defaults: {\n            bodyTmpl: 'Magento_Weee/price/adjustment',\n            dataSource: '${ $.parentName }.provider',\n            //Weee configuration constants can be configured from backend\n            inclFptWithDesc: 1,//show FPT and description\n            inclFpt: 0, //show FPT attribute\n            exclFpt: 2, //do not show FPT\n            bothFptPrices: 3 //show price without FPT and with FPT and with description\n        },\n\n        /**\n         * Get Weee attributes.\n         *\n         * @param {Object} row\n         * @return {HTMLElement} Weee html\n         */\n        getWeeeAttributes: function (row) {\n            return row['price_info']['extension_attributes']['weee_attributes'];\n        },\n\n        /**\n         * Get Weee without Tax attributes.\n         *\n         * @param {Object} taxAmount\n         * @return {HTMLElement} Weee html\n         */\n        getWeeeTaxWithoutTax: function (taxAmount) {\n            return taxAmount['amount_excl_tax'];\n        },\n\n        /**\n         * UnsanitizedHtml version of getWeeeTaxWithoutTax.\n         *\n         * @param {Object} taxAmount\n         * @return {HTMLElement} Weee html\n         */\n        getWeeeTaxWithoutTaxUnsanitizedHtml: function (taxAmount) {\n            return this.getWeeeTaxWithoutTax(taxAmount);\n        },\n\n        /**\n         * Get Weee with Tax attributes.\n         *\n         * @param {Object} taxAmount\n         * @return {HTMLElement} Weee html\n         */\n        getWeeeTaxWithTax: function (taxAmount) {\n            return taxAmount['tax_amount_incl_tax'];\n        },\n\n        /**\n         * UnsanitizedHtml version of getWeeeTaxWithTax.\n         *\n         * @param {Object} taxAmount\n         * @return {HTMLElement} Weee html\n         */\n        getWeeeTaxWithTaxUnsanitizedHtml: function (taxAmount) {\n            return this.getWeeeTaxWithTax(taxAmount);\n        },\n\n        /**\n         * Get Weee Tax name.\n         *\n         * @param {String} taxAmount\n         * @return {String} Weee name\n         */\n        getWeeTaxAttributeName: function (taxAmount) {\n            return taxAmount['attribute_code'];\n        },\n\n        /**\n         * Set price type.\n         *\n         * @param {String} priceType\n         * @return {Object}\n         */\n        setPriceType: function (priceType) {\n            this.taxPriceType = priceType;\n\n            return this;\n        },\n\n        /**\n         * Check if Weee Tax must be shown.\n         *\n         * @param {Object} row\n         * @return {Boolean}\n         */\n        isShown: function (row) {\n            return row['price_info']['extension_attributes']['weee_attributes'].length;\n        },\n\n        /**\n         * Get Weee final price.\n         *\n         * @param {Object} row\n         * @return {HTMLElement} Weee final price html\n         */\n        getWeeeAdjustment: function (row) {\n            return row['price_info']['extension_attributes']['weee_adjustment'];\n        },\n\n        /**\n         * UnsanitizedHtml version of getWeeeAdjustment.\n         *\n         * @param {Object} row\n         * @return {HTMLElement} Weee final price html\n         */\n        getWeeeAdjustmentUnsanitizedHtml: function (row) {\n            return this.getWeeeAdjustment(row);\n        },\n\n        /**\n         * Return whether display setting is to display price including FPT only.\n         *\n         * @return {Boolean}\n         */\n        displayPriceInclFpt: function () {\n            return +this.source.data.displayWeee === this.inclFpt;\n        },\n\n        /**\n         * Return whether display setting is to display\n         * price including FPT and FPT description.\n         *\n         * @return {Boolean}\n         */\n        displayPriceInclFptDescr: function () {\n            return +this.source.data.displayWeee === this.inclFptWithDesc;\n        },\n\n        /**\n         * Return whether display setting is to display price\n         * excluding FPT but including FPT description and final price.\n         *\n         * @return {Boolean}\n         */\n        displayPriceExclFptDescr: function () {\n            return +this.source.data.displayWeee === this.exclFpt;\n        },\n\n        /**\n         * Return whether display setting is to display price excluding FPT.\n         *\n         * @return {Boolean}\n         */\n        displayPriceExclFpt: function () {\n            return +this.source.data.displayWeee === this.bothFptPrices;\n        },\n\n        /**\n         * Return whether display setting is to display price excluding tax.\n         *\n         * @return {Boolean}\n         */\n        displayPriceExclTax: function () {\n            return +this.source.data.displayTaxes === this.inclFptWithDesc;\n        },\n\n        /**\n         * Return whether display setting is to display price including tax.\n         *\n         * @return {Boolean}\n         */\n        displayPriceInclTax: function () {\n            return +this.source.data.displayTaxes === this.exclFpt;\n        },\n\n        /**\n         * Return whether display setting is to display\n         * both price including tax and price excluding tax.\n         *\n         * @return {Boolean}\n         */\n        displayBothPricesTax: function () {\n            return +this.source.data.displayTaxes === this.bothFptPrices;\n        }\n    });\n});\n","Magento_Weee/js/view/cart/totals/weee.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Weee/js/view/checkout/summary/weee'\n], function (Component) {\n    'use strict';\n\n    return Component.extend({\n\n        /**\n         * @override\n         */\n        isFullMode: function () {\n            return true;\n        }\n    });\n});\n","Magento_Weee/js/view/checkout/summary/weee.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\n\ndefine([\n    'Magento_Checkout/js/view/summary/abstract-total',\n    'Magento_Checkout/js/model/quote',\n    'Magento_Checkout/js/model/totals',\n    'Magento_Catalog/js/price-utils'\n], function (Component, quote, totals) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: 'Magento_Weee/checkout/summary/weee'\n        },\n        isIncludedInSubtotal: window.checkoutConfig.isIncludedInSubtotal,\n        totals: totals.totals,\n\n        /**\n         * @returns {Number}\n         */\n        getWeeeTaxSegment: function () {\n            var weee = totals.getSegment('weee_tax') || totals.getSegment('weee');\n\n            if (weee !== null && weee.hasOwnProperty('value')) {\n                return weee.value;\n            }\n\n            return 0;\n        },\n\n        /**\n         * Get weee value\n         * @returns {String}\n         */\n        getValue: function () {\n            return this.getFormattedPrice(this.getWeeeTaxSegment());\n        },\n\n        /**\n         * Weee display flag\n         * @returns {Boolean}\n         */\n        isDisplayed: function () {\n            return this.isFullMode() && this.getWeeeTaxSegment() > 0;\n        }\n    });\n});\n","Magento_Weee/js/view/checkout/summary/item/price/weee.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\n\ndefine([\n    'Magento_Checkout/js/view/summary/abstract-total',\n    'Magento_Checkout/js/model/quote'\n], function (Component) {\n    'use strict';\n\n    return Component.extend({\n        /**\n         * @param {Object} item\n         * @return {Boolean}\n         */\n        isDisplayPriceWithWeeeDetails: function (item) {\n            if (!parseFloat(item['weee_tax_applied_amount']) || parseFloat(item['weee_tax_applied_amount'] <= 0)) {\n                return false;\n            }\n\n            return window.checkoutConfig.isDisplayPriceWithWeeeDetails;\n        },\n\n        /**\n         * @param {Object} item\n         * @return {Boolean}\n         */\n        isDisplayFinalPrice: function (item) {\n            if (!parseFloat(item['weee_tax_applied_amount'])) {\n                return false;\n            }\n\n            return window.checkoutConfig.isDisplayFinalPrice;\n        },\n\n        /**\n         * @param {Object} item\n         * @return {Array}\n         */\n        getWeeeTaxApplied: function (item) {\n            if (item['weee_tax_applied']) {\n                return JSON.parse(item['weee_tax_applied']);\n            }\n\n            return [];\n        }\n    });\n});\n","Magento_Weee/js/view/checkout/summary/item/price/row_incl_tax.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\n\ndefine([\n    'Magento_Weee/js/view/checkout/summary/item/price/weee'\n], function (weee) {\n    'use strict';\n\n    return weee.extend({\n        defaults: {\n            template: 'Magento_Weee/checkout/summary/item/price/row_incl_tax',\n            displayArea: 'row_incl_tax'\n        },\n\n        /**\n         * @param {Object} item\n         * @return {Number}\n         */\n        getFinalRowDisplayPriceInclTax: function (item) {\n            var rowTotalInclTax = parseFloat(item['row_total_incl_tax']);\n\n            if (!window.checkoutConfig.getIncludeWeeeFlag) {\n                rowTotalInclTax += this.getRowWeeeTaxInclTax(item);\n            }\n\n            return rowTotalInclTax;\n        },\n\n        /**\n         * @param {Object} item\n         * @return {Number}\n         */\n        getRowDisplayPriceInclTax: function (item) {\n            var rowTotalInclTax = parseFloat(item['row_total_incl_tax']);\n\n            if (window.checkoutConfig.getIncludeWeeeFlag) {\n                rowTotalInclTax += this.getRowWeeeTaxInclTax(item);\n            }\n\n            return rowTotalInclTax;\n        },\n\n        /**\n         * @param {Object}item\n         * @return {Number}\n         */\n        getRowWeeeTaxInclTax: function (item) {\n            var totalWeeeTaxInclTaxApplied = 0,\n                weeeTaxAppliedAmounts;\n\n            if (item['weee_tax_applied']) {\n                weeeTaxAppliedAmounts = JSON.parse(item['weee_tax_applied']);\n                weeeTaxAppliedAmounts.forEach(function (weeeTaxAppliedAmount) {\n                    totalWeeeTaxInclTaxApplied += parseFloat(Math.max(weeeTaxAppliedAmount['row_amount_incl_tax'], 0));\n                });\n            }\n\n            return totalWeeeTaxInclTaxApplied;\n        }\n\n    });\n});\n","Magento_Weee/js/view/checkout/summary/item/price/row_excl_tax.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\n\ndefine([\n    'Magento_Weee/js/view/checkout/summary/item/price/weee'\n], function (weee) {\n    'use strict';\n\n    return weee.extend({\n        defaults: {\n            template: 'Magento_Weee/checkout/summary/item/price/row_excl_tax'\n        },\n\n        /**\n         * @param {Object} item\n         * @return {Number}\n         */\n        getFinalRowDisplayPriceExclTax: function (item) {\n            var rowTotalExclTax = parseFloat(item['row_total']);\n\n            if (!window.checkoutConfig.getIncludeWeeeFlag) {\n                rowTotalExclTax += parseFloat(item['qty']) *\n                    parseFloat(item['weee_tax_applied_amount']);\n            }\n\n            return rowTotalExclTax;\n        },\n\n        /**\n         * @param {Object} item\n         * @return {Number}\n         */\n        getRowDisplayPriceExclTax: function (item) {\n            var rowTotalExclTax = parseFloat(item['row_total']);\n\n            if (window.checkoutConfig.getIncludeWeeeFlag) {\n                rowTotalExclTax += this.getRowWeeeTaxExclTax(item);\n            }\n\n            return rowTotalExclTax;\n        },\n\n        /**\n         * @param {Object} item\n         * @return {Number}\n         */\n        getRowWeeeTaxExclTax: function (item) {\n            var totalWeeeTaxExclTaxApplied = 0,\n                weeeTaxAppliedAmounts;\n\n            if (item['weee_tax_applied']) {\n                weeeTaxAppliedAmounts = JSON.parse(item['weee_tax_applied']);\n                weeeTaxAppliedAmounts.forEach(function (weeeTaxAppliedAmount) {\n                    totalWeeeTaxExclTaxApplied += parseFloat(Math.max(weeeTaxAppliedAmount['row_amount'], 0));\n                });\n            }\n\n            return totalWeeeTaxExclTaxApplied;\n        }\n\n    });\n});\n","requirejs/domReady.js":"/**\n * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/requirejs/domReady for details\n */\n/*jslint */\n/*global require: false, define: false, requirejs: false,\n  window: false, clearInterval: false, document: false,\n  self: false, setInterval: false */\n\n\ndefine(function () {\n    'use strict';\n\n    var isTop, testDiv, scrollIntervalId,\n        isBrowser = typeof window !== \"undefined\" && window.document,\n        isPageLoaded = !isBrowser,\n        doc = isBrowser ? document : null,\n        readyCalls = [];\n\n    function runCallbacks(callbacks) {\n        var i;\n        for (i = 0; i < callbacks.length; i += 1) {\n            callbacks[i](doc);\n        }\n    }\n\n    function callReady() {\n        var callbacks = readyCalls;\n\n        if (isPageLoaded) {\n            //Call the DOM ready callbacks\n            if (callbacks.length) {\n                readyCalls = [];\n                runCallbacks(callbacks);\n            }\n        }\n    }\n\n    /**\n     * Sets the page as loaded.\n     */\n    function pageLoaded() {\n        if (!isPageLoaded) {\n            isPageLoaded = true;\n            if (scrollIntervalId) {\n                clearInterval(scrollIntervalId);\n            }\n\n            callReady();\n        }\n    }\n\n    if (isBrowser) {\n        if (document.addEventListener) {\n            //Standards. Hooray! Assumption here that if standards based,\n            //it knows about DOMContentLoaded.\n            document.addEventListener(\"DOMContentLoaded\", pageLoaded, false);\n            window.addEventListener(\"load\", pageLoaded, false);\n        } else if (window.attachEvent) {\n            window.attachEvent(\"onload\", pageLoaded);\n\n            testDiv = document.createElement('div');\n            try {\n                isTop = window.frameElement === null;\n            } catch (e) {}\n\n            //DOMContentLoaded approximation that uses a doScroll, as found by\n            //Diego Perini: http://javascript.nwbox.com/IEContentLoaded/,\n            //but modified by other contributors, including jdalton\n            if (testDiv.doScroll && isTop && window.external) {\n                scrollIntervalId = setInterval(function () {\n                    try {\n                        testDiv.doScroll();\n                        pageLoaded();\n                    } catch (e) {}\n                }, 30);\n            }\n        }\n\n        //Check if document is no longer loading, and if so, just trigger page load\n        //listeners. Latest webkit browsers also use \"interactive\", and\n        //will fire the onDOMContentLoaded before \"interactive\" but not after\n        //entering \"interactive\" or \"complete\". More details:\n        //http://dev.w3.org/html5/spec/the-end.html#the-end\n        //http://stackoverflow.com/questions/3665561/document-readystate-of-interactive-vs-ondomcontentloaded\n        //Hmm, this is more complicated on further use, see \"firing too early\"\n        //bug: https://github.com/requirejs/domReady/issues/1\n        //so removing the || document.readyState === \"interactive\" test.\n        //There is still a window.onload binding that should get fired if\n        //DOMContentLoaded is missed.\n        if (document.readyState !== \"loading\") {\n            // Handle it asynchronously to allow scripts the opportunity to delay ready\n            setTimeout(pageLoaded);\n        }\n    }\n\n    /** START OF PUBLIC API **/\n\n    /**\n     * Registers a callback for DOM ready. If DOM is already ready, the\n     * callback is called immediately.\n     * @param {Function} callback\n     */\n    function domReady(callback) {\n        if (isPageLoaded) {\n            callback(doc);\n        } else {\n            readyCalls.push(callback);\n        }\n        return domReady;\n    }\n\n    domReady.version = '2.0.1';\n\n    /**\n     * Loader Plugin API method\n     */\n    domReady.load = function (name, req, onLoad, config) {\n        if (config.isBuild) {\n            onLoad(null);\n        } else {\n            domReady(onLoad);\n        }\n    };\n\n    /** END OF PUBLIC API **/\n\n    return domReady;\n});\n","PayPal_Braintree/js/validator.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'underscore'\n], function (_) {\n    'use strict';\n\n    return {\n        config: {},\n\n        /**\n         * Set configuration\n         * @param {Object} config\n         */\n        setConfig: function (config) {\n            this.config = config;\n        },\n\n        /**\n         * Get List of available card types\n         * @returns {*|exports.defaults.availableCardTypes|{}}\n         */\n        getAvailableCardTypes: function () {\n            return this.config.availableCardTypes;\n        },\n\n        /**\n         * Get list of card types\n         * @returns {Object}\n         */\n        getCcTypesMapper: function () {\n            return this.config.ccTypesMapper;\n        },\n\n        /**\n         * Find mage card type by Braintree type\n         * @param {String} type\n         * @param {Object} availableTypes\n         * @returns {*}\n         */\n        getMageCardType: function (type, availableTypes) {\n            var storedCardType = null,\n                mapper = this.getCcTypesMapper();\n\n            if (type && typeof mapper[type] !== 'undefined') {\n                storedCardType = mapper[type];\n\n                if (_.indexOf(availableTypes, storedCardType) !== -1) {\n                    return storedCardType;\n                }\n            }\n\n            return null;\n        },\n\n        /**\n         * Filter list of available card types\n         * @param {Object} availableTypes\n         * @param {Object} countrySpecificCardTypes\n         * @returns {Object}\n         */\n        collectTypes: function (availableTypes, countrySpecificCardTypes) {\n            var key,\n                filteredTypes = [];\n\n            for (key in availableTypes) {\n                if (_.indexOf(countrySpecificCardTypes, availableTypes[key]) !== -1) {\n                    filteredTypes.push(availableTypes[key]);\n                }\n            }\n\n            return filteredTypes;\n        },\n\n        /**\n         * Get list of card types for country\n         * @param {String} countryId\n         * @returns {*}\n         */\n        getCountrySpecificCardTypes: function (countryId) {\n            if (typeof this.config.countrySpecificCardTypes[countryId] !== 'undefined') {\n                return this.config.countrySpecificCardTypes[countryId];\n            }\n\n            return false;\n        }\n    };\n});\n","PayPal_Braintree/js/form-builder.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'jquery',\n        'underscore',\n        'mage/template'\n    ],\n    function ($, _, mageTemplate) {\n        'use strict';\n\n        return {\n\n            /**\n             * @param {Object} formData\n             * @returns {*|jQuery}\n             */\n            build: function (formData) {\n                var formTmpl = mageTemplate('<form action=\"<%= data.action %>\"' +\n                    ' method=\"POST\" hidden enctype=\"application/x-www-form-urlencoded\">' +\n                        '<% _.each(data.fields, function(val, key){ %>' +\n                            '<input value=\\'<%= val %>\\' name=\"<%= key %>\" type=\"hidden\">' +\n                        '<% }); %>' +\n                    '</form>');\n\n                return $(formTmpl({\n                    data: {\n                        action: formData.action,\n                        fields: formData.fields\n                    }\n                })).appendTo($('[data-container=\"body\"]'));\n            }\n        };\n    }\n);\n","PayPal_Braintree/js/model/step-navigator-mixin.js":"define([\n    'mage/utils/wrapper',\n    'jquery'\n], function (wrapper, $) {\n    'use strict';\n\n    let mixin = {\n        handleHash: function (originalFn) {\n            var hashString = window.location.hash.replace('#', '');\n            if (hashString.indexOf('venmo') > -1) {\n                return false;\n            }\n\n            return originalFn();\n        }\n    };\n\n    return function (target) {\n        return wrapper.extend(target, mixin);\n    };\n});\n","PayPal_Braintree/js/model/place-order-mixin.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* eslint-disable max-nested-callbacks */\n\ndefine([\n    'jquery',\n    'mage/utils/wrapper',\n    'Magento_ReCaptchaWebapiUi/js/webapiReCaptchaRegistry'\n], function ($, wrapper, recaptchaRegistry) {\n    'use strict';\n\n    return function (placeOrder) {\n        return wrapper.wrap(placeOrder, function (originalAction, serviceUrl, payload, messageContainer) {\n            var recaptchaDeferred;\n\n            if (recaptchaRegistry.triggers.hasOwnProperty('recaptcha-checkout-braintree')) {\n                //ReCaptcha is present for checkout\n                recaptchaDeferred = $.Deferred();\n                recaptchaRegistry.addListener('recaptcha-checkout-braintree', function (token) {\n                    //Add reCaptcha value to place-order request and resolve deferred with the API call results\n                    payload.xReCaptchaValue = token;\n                    originalAction(serviceUrl, payload, messageContainer).done(function () {\n                        recaptchaDeferred.resolve.apply(recaptchaDeferred, arguments);\n                    }).fail(function () {\n                        recaptchaDeferred.reject.apply(recaptchaDeferred, arguments);\n                    });\n                });\n                //Trigger ReCaptcha validation\n                recaptchaRegistry.triggers['recaptcha-checkout-braintree']();\n                //remove listener so that place order action is only triggered by the 'Place Order' button\n                recaptchaRegistry.removeListener('recaptcha-checkout-braintree');\n                return recaptchaDeferred;\n            }\n\n            //No ReCaptcha, just sending the request\n            return originalAction(serviceUrl, payload, messageContainer);\n        });\n    };\n});\n","PayPal_Braintree/js/googlepay/api.js":"/**\n * Braintree Google Pay button api\n **/\ndefine([\n    'uiComponent',\n    'mage/translate',\n    'mage/storage',\n    'jquery',\n    'PayPal_Braintree/js/form-builder'\n], function (Component, $t, storage, jQuery, formBuilder) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            clientToken: null,\n            merchantId: null,\n            currencyCode: null,\n            actionSuccess: null,\n            amount: null,\n            cardTypes: [],\n            btnColor: 0\n        },\n\n        /**\n         * Set & get environment\n         * \"PRODUCTION\" or \"TEST\"\n         */\n        setEnvironment: function (value) {\n            this.environment = value;\n        },\n        getEnvironment: function () {\n            return this.environment;\n        },\n\n        /**\n         * Set & get api token\n         */\n        setClientToken: function (value) {\n            this.clientToken = value;\n        },\n        getClientToken: function () {\n            return this.clientToken;\n        },\n\n        /**\n         * Set and get display name\n         */\n        setMerchantId: function (value) {\n            this.merchantId = value;\n        },\n        getMerchantId: function () {\n            return this.merchantId;\n        },\n\n        /**\n         * Set and get currency code\n         */\n        setAmount: function (value) {\n            this.amount = parseFloat(value).toFixed(2);\n        },\n        getAmount: function () {\n            return this.amount;\n        },\n\n        /**\n         * Set and get currency code\n         */\n        setCurrencyCode: function (value) {\n            this.currencyCode = value;\n        },\n        getCurrencyCode: function () {\n            return this.currencyCode;\n        },\n\n        /**\n         * Set and get success redirection url\n         */\n        setActionSuccess: function (value) {\n            this.actionSuccess = value;\n        },\n        getActionSuccess: function () {\n            return this.actionSuccess;\n        },\n\n        /**\n         * Set and get success redirection url\n         */\n        setCardTypes: function (value) {\n            this.cardTypes = value;\n        },\n        getCardTypes: function () {\n            return this.cardTypes;\n        },\n\n        /**\n         * BTN Color\n         */\n        setBtnColor: function (value) {\n            this.btnColor = value;\n        },\n        getBtnColor: function () {\n            return this.btnColor;\n        },\n\n        /**\n         * Payment request info\n         */\n        getPaymentRequest: function () {\n            var result = {\n                transactionInfo: {\n                    totalPriceStatus: 'ESTIMATED',\n                    totalPrice: this.getAmount(),\n                    currencyCode: this.getCurrencyCode()\n                },\n                allowedPaymentMethods: [\n                    {\n                        \"type\": \"CARD\",\n                        \"parameters\": {\n                            \"allowedCardNetworks\": this.getCardTypes(),\n                            \"billingAddressRequired\": true,\n                            \"billingAddressParameters\": {\n                                format: 'FULL',\n                                phoneNumberRequired: true\n                            },\n                        },\n\n                    }\n                ],\n                shippingAddressRequired: true,\n                emailRequired: true,\n            };\n\n            if (this.getEnvironment() !== \"TEST\") {\n                result.merchantInfo = { merchantId: this.getMerchantId() };\n            }\n\n            return result;\n        },\n\n        /**\n         * Place the order\n         */\n        startPlaceOrder: function (nonce, paymentData, deviceData) {\n            var payload = {\n                details: {\n                    shippingAddress: {\n                        streetAddress: paymentData.shippingAddress.address1 + \"\\n\"\n                            + paymentData.shippingAddress.address2,\n                        locality: paymentData.shippingAddress.locality,\n                        postalCode: paymentData.shippingAddress.postalCode,\n                        countryCodeAlpha2: paymentData.shippingAddress.countryCode,\n                        email: paymentData.email,\n                        name: paymentData.shippingAddress.name,\n                        telephone: typeof paymentData.shippingAddress.phoneNumber !== 'undefined' ? paymentData.shippingAddress.phoneNumber : '',\n                        region: typeof paymentData.shippingAddress.administrativeArea !== 'undefined' ? paymentData.shippingAddress.administrativeArea : ''\n                    },\n                    billingAddress: {\n                        streetAddress: paymentData.paymentMethodData.info.billingAddress.address1 + \"\\n\"\n                            + paymentData.paymentMethodData.info.billingAddress.address2,\n                        locality: paymentData.paymentMethodData.info.billingAddress.locality,\n                        postalCode: paymentData.paymentMethodData.info.billingAddress.postalCode,\n                        countryCodeAlpha2: paymentData.paymentMethodData.info.billingAddress.countryCode,\n                        email: paymentData.email,\n                        name: paymentData.paymentMethodData.info.billingAddress.name,\n                        telephone: typeof paymentData.paymentMethodData.info.billingAddress.phoneNumber !== 'undefined' ? paymentData.paymentMethodData.info.billingAddress.phoneNumber : '',\n                        region: typeof paymentData.paymentMethodData.info.billingAddress.administrativeArea !== 'undefined' ? paymentData.paymentMethodData.info.billingAddress.administrativeArea : ''\n                    }\n                },\n                nonce: nonce,\n                deviceData: deviceData,\n            };\n\n            formBuilder.build({\n                action: this.getActionSuccess(),\n                fields: {\n                    result: JSON.stringify(payload)\n                }\n            }).submit();\n        }\n    });\n});\n","PayPal_Braintree/js/googlepay/button.js":"/**\n * Braintree Google Pay button\n **/\ndefine(\n    [\n        'uiComponent',\n        \"knockout\",\n        \"jquery\",\n        'Magento_Checkout/js/model/payment/additional-validators',\n        'Magento_CheckoutAgreements/js/view/checkout-agreements',\n        'braintree',\n        'braintreeDataCollector',\n        'braintreeGooglePay',\n        'mage/translate',\n        'googlePayLibrary'\n    ],\n    function (\n        Component,\n        ko,\n        jQuery,\n        additionalValidators,\n        checkoutAgreements,\n        braintree,\n        dataCollector,\n        googlePay,\n        $t\n    ) {\n        'use strict';\n\n        return {\n            init: function (element, context) {\n\n                // No element or context\n                if (!element || !context ) {\n                    return;\n                }\n\n                // Context must implement these methods\n                if (typeof context.getClientToken !== 'function') {\n                    console.error(\"Braintree GooglePay Context passed does not provide a getClientToken method\", context);\n                    return;\n                }\n                if (typeof context.getPaymentRequest !== 'function') {\n                    console.error(\"Braintree GooglePay Context passed does not provide a getPaymentRequest method\", context);\n                    return;\n                }\n                if (typeof context.startPlaceOrder !== 'function') {\n                    console.error(\"Braintree GooglePay Context passed does not provide a startPlaceOrder method\", context);\n                    return;\n                }\n\n                // init google pay object\n                var paymentsClient = new google.payments.api.PaymentsClient({\n                    environment: context.getEnvironment()\n                });\n\n                // Create a button within the KO element, as google pay can only be instantiated through\n                // a valid on click event (ko onclick bind interferes with this).\n                var deviceData;\n                var button = document.createElement('button');\n                button.className = \"braintree-googlepay-button long \" + (context.getBtnColor() == 1 ? 'black' : 'white');\n                button.title = $t(\"Buy with Google Pay\");\n\n                // init braintree api\n                braintree.create({\n                    authorization: context.getClientToken()\n                }, function (clientErr, clientInstance) {\n                    if (clientErr) {\n                        console.error('Error creating client:', clientErr);\n                        return;\n                    }\n                    dataCollector.create({\n                        client: clientInstance\n                    }, function (dataCollectorErr, dataCollectorInstance) {\n                        if (dataCollectorErr) {\n                            return;\n                        }\n                        googlePay.create({\n                            client: clientInstance,\n                            googlePayVersion: 2\n                        }, function (googlePayErr, googlePaymentInstance) {\n                            // No instance\n                            if (googlePayErr) {\n                                console.error('Braintree GooglePay Error creating googlePayInstance:', googlePayErr);\n                                return;\n                            }\n\n                            paymentsClient.isReadyToPay({\n                                apiVersion: 2,\n                                apiVersionMinor: 0,\n                                allowedPaymentMethods: googlePaymentInstance.createPaymentDataRequest().allowedPaymentMethods\n                            }).then(function(response) {\n                                if (response.result) {\n                                    button.addEventListener('click', function (event) {\n\n                                        var agreements = checkoutAgreements().agreements,\n                                            shouldDisableActions = false;\n\n\n                                        _.each(agreements, function (item, index) {\n                                            if (checkoutAgreements().isAgreementRequired(item)) {\n                                                var inputId = '#agreement_braintree_googlepay_' + item.agreementId,\n                                                    inputEl = document.querySelector(inputId);\n\n                                                if (inputEl !== null && !inputEl.checked) {\n                                                    shouldDisableActions = true;\n                                                }\n\n                                            }\n                                        });\n\n                                        if (!additionalValidators.validate()) {\n                                            event.preventDefault();\n                                            return false;\n                                        }\n\n                                        if (!shouldDisableActions) {\n                                            event.preventDefault();\n                                            jQuery(\"body\").loader('show');\n                                            var responseData;\n\n                                            var paymentDataRequest = googlePaymentInstance.createPaymentDataRequest(context.getPaymentRequest());\n                                            paymentsClient.loadPaymentData(paymentDataRequest).then(function (paymentData) {\n                                                // Persist the paymentData (shipping address etc)\n                                                responseData = paymentData;\n                                                // Return the braintree nonce promise\n                                                return googlePaymentInstance.parseResponse(paymentData);\n                                            }).then(function (result) {\n                                                context.startPlaceOrder(result.nonce, responseData, dataCollectorInstance.deviceData);\n                                            }).catch(function (err) {\n                                                // Handle errors\n                                                // err = {statusCode: \"CANCELED\"}\n                                                console.error(err);\n                                                jQuery(\"body\").loader('hide');\n                                            });\n                                        }\n                                    });\n\n                                    element.appendChild(button);\n                                }\n                            }).catch(function (err) {\n                                console.error(err);\n                                jQuery(\"body\").loader('hide');\n                            });\n                        });\n                    });\n                });\n            }\n        };\n    }\n);\n","PayPal_Braintree/js/googlepay/implementations/shortcut.js":"/**\n * Braintree Google Pay mini cart payment method integration.\n **/\ndefine(\n    [\n        'uiComponent',\n        'PayPal_Braintree/js/googlepay/button',\n        'PayPal_Braintree/js/googlepay/api',\n        'mage/translate',\n        'domReady!'\n    ],\n    function (\n        Component,\n        button,\n        buttonApi,\n        $t\n    ) {\n        'use strict';\n\n        return Component.extend({\n\n            defaults: {\n                id: null,\n                clientToken: null,\n                merchantId: null,\n                currencyCode: null,\n                actionSuccess: null,\n                amount: null,\n                environment: \"TEST\",\n                cardType: [],\n                btnColor: 0\n            },\n\n            /**\n             * @returns {Object}\n             */\n            initialize: function () {\n                this._super();\n\n                var api = new buttonApi();\n                api.setEnvironment(this.environment);\n                api.setCurrencyCode(this.currencyCode);\n                api.setClientToken(this.clientToken);\n                api.setMerchantId(this.merchantId);\n                api.setActionSuccess(this.actionSuccess);\n                api.setAmount(this.amount);\n                api.setCardTypes(this.cardTypes)\n                api.setBtnColor(this.btnColor);\n\n                // Attach the button\n                button.init(\n                    document.getElementById(this.id),\n                    api\n                );\n\n                return this;\n            }\n        });\n    }\n);\n","PayPal_Braintree/js/googlepay/implementations/core-checkout/method-googlepay.js":"define([\n    'uiComponent',\n    'Magento_Checkout/js/model/payment/renderer-list'\n], function (Component, rendererList) {\n    'use strict';\n\n    let config = window.checkoutConfig.payment;\n\n    if (config['braintree_googlepay'].clientToken) {\n        rendererList.push({\n            type: 'braintree_googlepay',\n            component: 'PayPal_Braintree/js/googlepay/implementations/core-checkout/method-renderer/googlepay'\n        });\n    }\n\n    return Component.extend({});\n});\n","PayPal_Braintree/js/googlepay/implementations/core-checkout/method-renderer/googlepay.js":"/**\n * Braintree Google Pay payment method integration.\n **/\ndefine([\n    'Magento_Checkout/js/view/payment/default',\n    'Magento_Checkout/js/model/quote',\n    'PayPal_Braintree/js/googlepay/button'\n], function (\n    Component,\n    quote,\n    button\n) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: 'PayPal_Braintree/googlepay/core-checkout',\n            paymentMethodNonce: null,\n            deviceData: null,\n            grandTotalAmount: 0\n        },\n\n        /**\n         * Inject the google pay button into the target element\n         */\n        getGooglePayBtn: function (id) {\n            button.init(\n                document.getElementById(id),\n                this\n            );\n        },\n\n        /**\n         * Subscribe to grand totals\n         */\n        initObservable: function () {\n            this._super();\n            this.grandTotalAmount = parseFloat(quote.totals()['base_grand_total']).toFixed(2);\n            this.currencyCode = quote.totals()['base_currency_code'];\n\n            quote.totals.subscribe(function () {\n                if (this.grandTotalAmount !== quote.totals()['base_grand_total']) {\n                    this.grandTotalAmount = parseFloat(quote.totals()['base_grand_total']).toFixed(2);\n                }\n            }.bind(this));\n\n            return this;\n        },\n\n        /**\n         * Google pay place order method\n         */\n        startPlaceOrder: function (nonce, paymentData, device_data) {\n            this.setPaymentMethodNonce(nonce);\n            this.setDeviceData(device_data);\n            this.placeOrder();\n        },\n\n        /**\n         * Save nonce\n         */\n        setPaymentMethodNonce: function (nonce) {\n            this.paymentMethodNonce = nonce;\n        },\n\n        /**\n         * Save device_data\n         */\n        setDeviceData: function (device_data) {\n            this.deviceData = device_data;\n        },\n\n        /**\n         * Retrieve the client token\n         * @returns null|string\n         */\n        getClientToken: function () {\n            return window.checkoutConfig.payment[this.getCode()].clientToken;\n        },\n\n        /**\n         * Payment request info\n         */\n        getPaymentRequest: function () {\n           var result = {\n               transactionInfo: {\n                   totalPriceStatus: 'FINAL',\n                   totalPrice: this.grandTotalAmount,\n                   currencyCode: this.currencyCode\n               },\n               allowedPaymentMethods: [\n                   {\n                       \"type\": \"CARD\",\n                       \"parameters\": {\n                           \"allowedCardNetworks\": this.getCardTypes(),\n                           \"billingAddressRequired\": false,\n                       },\n\n                   }\n               ],\n               shippingAddressRequired: false,\n               emailRequired: false,\n            };\n\n            if (this.getEnvironment() !== \"TEST\") {\n                result.merchantInfo = { merchantId: this.getMerchantId() };\n            }\n\n           return result;\n        },\n\n        /**\n         * Merchant display name\n         */\n        getMerchantId: function () {\n            return window.checkoutConfig.payment[this.getCode()].merchantId;\n        },\n\n        /**\n         * Environment\n         */\n        getEnvironment: function () {\n            return window.checkoutConfig.payment[this.getCode()].environment;\n        },\n\n        /**\n         * Card Types\n         */\n        getCardTypes: function () {\n            return window.checkoutConfig.payment[this.getCode()].cardTypes;\n        },\n\n        /**\n         * BTN Color\n         */\n        getBtnColor: function () {\n            return window.checkoutConfig.payment[this.getCode()].btnColor;\n        },\n\n        /**\n         * Get data\n         * @returns {Object}\n         */\n        getData: function () {\n            return {\n                'method': this.getCode(),\n                'additional_data': {\n                    'payment_method_nonce': this.paymentMethodNonce,\n                    'device_data': this.deviceData\n                }\n            };\n        },\n\n        /**\n         * Return image url for the google pay mark\n         */\n        getPaymentMarkSrc: function () {\n            return window.checkoutConfig.payment[this.getCode()].paymentMarkSrc;\n        }\n    });\n});\n","PayPal_Braintree/js/paypal/product-page.js":"define(\n    ['PayPal_Braintree/js/paypal/button', 'jquery'],\n    function (button, $) {\n        'use strict';\n\n        return button.extend({\n\n            defaults: {\n                label: 'buynow',\n                branding: true,\n            },\n\n            /**\n             * The validation on the add-to-cart form is done after the PayPal window has opened.\n             * This is because the validate method exposed by the PP Button requires an event to disable/enable the button.\n             * We can't fire an event due to the way the mage.validation widget works and we can't do something gross like\n             * an interval because the validation() method shows the error messages and focuses the user's input on the\n             * first erroring input field.\n             * @param payload\n             * @returns {*}\n             */\n            beforeSubmit: function (payload) {\n                var form = $(\"#product_addtocart_form\");\n\n                if (!(form.validation() && form.validation('isValid'))) {\n                    return false;\n                }\n\n                payload.additionalData = form.serialize();\n\n                return payload;\n            }\n        });\n    }\n);","PayPal_Braintree/js/paypal/button.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'rjsResolver',\n        'uiRegistry',\n        'uiComponent',\n        'underscore',\n        'jquery',\n        'Magento_Customer/js/customer-data',\n        'mage/translate',\n        'braintree',\n        'braintreeDataCollector',\n        'braintreePayPalCheckout',\n        'PayPal_Braintree/js/form-builder',\n        'domReady!'\n    ],\n    function (\n        resolver,\n        registry,\n        Component,\n        _,\n        $,\n        customerData,\n        $t,\n        braintree,\n        dataCollector,\n        paypalCheckout,\n        formBuilder\n    ) {\n        'use strict';\n        let buttonIds = [];\n\n        return {\n            events: {\n                onClick: null,\n                onCancel: null,\n                onError: null\n            },\n\n            /**\n             * @param token\n             * @param currency\n             * @param env\n             * @param local\n             * @param lineItems\n             */\n            init: function (token, currency, env, local, lineItems) {\n                if ($('.action-braintree-paypal-message').length) {\n                    $('.product-add-form form').on('keyup change paste', 'input, select, textarea', function () {\n                        var currentPrice, currencySymbol;\n                        currentPrice = $(\".product-info-main span\").find(\"[data-price-type='finalPrice']\").text();\n                        currencySymbol = $('.action-braintree-paypal-message[data-pp-type=\"product\"]').data('currency-symbol');\n                        $('.action-braintree-paypal-message[data-pp-type=\"product\"]').attr('data-pp-amount', currentPrice.replace(currencySymbol,''));\n                    });\n                }\n\n                buttonIds = [];\n                $('.action-braintree-paypal-logo').each(function () {\n                    if (!$(this).hasClass(\"button-loaded\")) {\n                        $(this).addClass('button-loaded');\n                        buttonIds.push($(this).attr('id'));\n                    }\n                });\n\n                if (buttonIds.length > 0) {\n                    this.loadSDK(token, currency, env, local, lineItems);\n                }\n            },\n\n            /**\n             * Load Braintree PayPal SDK\n             * @param token\n             * @param currency\n             * @param env\n             * @param local\n             * @param lineItems\n             */\n            loadSDK: function (token, currency, env, local, lineItems) {\n                braintree.create({\n                    authorization: token\n                }, function (clientErr, clientInstance) {\n                    if (clientErr) {\n                        console.error('paypalCheckout error', clientErr);\n                        return this.showError(\"PayPal Checkout could not be initialized. Please contact the store owner.\");\n                    }\n                    dataCollector.create({\n                        client: clientInstance,\n                        paypal: true\n                    }, function (err, dataCollectorInstance) {\n                        if (err) {\n                            return console.log(err);\n                        }\n                    });\n                    paypalCheckout.create({\n                        client: clientInstance\n                    }, function (err, paypalCheckoutInstance) {\n                        if (typeof paypal !== 'undefined' ) {\n                            this.renderPayPalButtons(buttonIds, paypalCheckoutInstance, lineItems);\n                            this.renderPayPalMessages();\n                        } else {\n                            var configSDK = {\n                                components: 'buttons,messages,funding-eligibility',\n                                \"enable-funding\": \"paylater\",\n                                currency: currency\n                            };\n                            if (env === 'sandbox' && local !== '') {\n                                configSDK[\"buyer-country\"] = local;\n                            }\n                            paypalCheckoutInstance.loadPayPalSDK(configSDK, function () {\n                                this.renderPayPalButtons(buttonIds, paypalCheckoutInstance, lineItems);\n                                this.renderPayPalMessages();\n                            }.bind(this));\n                        }\n                    }.bind(this));\n                }.bind(this));\n            },\n\n            /**\n             * Render PayPal buttons\n             *\n             * @param ids\n             * @param paypalCheckoutInstance\n             * @param lineItems\n             */\n            renderPayPalButtons: function (ids, paypalCheckoutInstance, lineItems) {\n                _.each(ids, function (id) {\n                    this.payPalButton(id, paypalCheckoutInstance, lineItems);\n                }.bind(this));\n            },\n\n            /**\n             * Render PayPal messages\n             */\n            renderPayPalMessages: function () {\n                $('.action-braintree-paypal-message').each(function () {\n                    paypal.Messages({\n                        amount: $(this).data('pp-amount'),\n                        pageType: $(this).data('pp-type'),\n                        style: {\n                            layout: $(this).data('messaging-layout'),\n                            text: {\n                              color:   $(this).data('messaging-text-color')\n                            },\n                            logo: {\n                                type: $(this).data('messaging-logo'),\n                                position: $(this).data('messaging-logo-position')\n                            }\n                        }\n                    }).render('#' + $(this).attr('id'));\n\n\n                });\n            },\n\n            /**\n             * @param id\n             * @param paypalCheckoutInstance\n             * @param lineItems\n             */\n            payPalButton: function (id, paypalCheckoutInstance, lineItems) {\n                let data = $('#' + id);\n                let style = {\n                    color: data.data('color'),\n                    shape: data.data('shape'),\n                    size: data.data('size'),\n                    label: data.data('label')\n                };\n\n                if (data.data('fundingicons')) {\n                    style.fundingicons = data.data('fundingicons');\n                }\n\n                // Render\n                var paypalActions;\n                var button = paypal.Buttons({\n                    fundingSource: data.data('funding'),\n                    style: style,\n                    createOrder: function () {\n                        return paypalCheckoutInstance.createPayment({\n                            amount: data.data('amount'),\n                            locale: data.data('locale'),\n                            currency: data.data('currency'),\n                            flow: 'checkout',\n                            enableShippingAddress: true,\n                            displayName: data.data('displayname'),\n                            lineItems: $.parseJSON(lineItems)\n                        });\n                    },\n                    validate: function (actions) {\n                        var cart = customerData.get('cart'),\n                            customer = customerData.get('customer'),\n                            declinePayment = false,\n                            isGuestCheckoutAllowed;\n                        isGuestCheckoutAllowed = cart().isGuestCheckoutAllowed;\n                        declinePayment = !customer().firstname && !isGuestCheckoutAllowed;\n                        if (declinePayment) {\n                            actions.disable();\n                        }\n                        paypalActions = actions;\n                    },\n\n                    onCancel: function (data) {\n                        jQuery(\"#maincontent\").trigger('processStop');\n                    },\n\n                    onError: function (err) {\n                        console.error('paypalCheckout button render error', err);\n                        jQuery(\"#maincontent\").trigger('processStop');\n                    },\n\n                    onClick: function (data) {\n                        var cart = customerData.get('cart'),\n                            customer = customerData.get('customer'),\n                            declinePayment = false,\n                            isGuestCheckoutAllowed;\n\n                        isGuestCheckoutAllowed = cart().isGuestCheckoutAllowed;\n                        declinePayment = !customer().firstname && !isGuestCheckoutAllowed && (typeof isGuestCheckoutAllowed !== 'undefined');\n                        if (declinePayment) {\n                            alert($t('To check out, please sign in with your email address.'));\n                        }\n                    },\n\n                    onApprove: function (data1) {\n                        return paypalCheckoutInstance.tokenizePayment(data1, function (err, payload) {\n                            jQuery(\"#maincontent\").trigger('processStart');\n\n                            // Map the shipping address correctly\n                            var address = payload.details.shippingAddress;\n                            var recipientFirstName, recipientLastName;\n                            if (typeof address.recipientName !== 'undefined') {\n                                var recipientName = address.recipientName.split(\" \");\n                                recipientFirstName = recipientName[0].replace(/'/g, \"&apos;\");\n                                recipientLastName = recipientName[1].replace(/'/g, \"&apos;\");\n                            } else {\n                                recipientFirstName = payload.details.firstName.replace(/'/g, \"&apos;\");\n                                recipientLastName = payload.details.lastName.replace(/'/g, \"&apos;\");\n                            }\n                            payload.details.shippingAddress = {\n                                streetAddress: typeof address.line2 !== 'undefined' ? address.line1.replace(/'/g, \"&apos;\") + \" \" + address.line2.replace(/'/g, \"&apos;\") : address.line1.replace(/'/g, \"&apos;\"),\n                                locality: address.city.replace(/'/g, \"&apos;\"),\n                                postalCode: address.postalCode,\n                                countryCodeAlpha2: address.countryCode,\n                                email: payload.details.email.replace(/'/g, \"&apos;\"),\n                                recipientFirstName: recipientFirstName,\n                                recipientLastName: recipientLastName,\n                                telephone: typeof payload.details.phone !== 'undefined' ? payload.details.phone : '',\n                                region: typeof address.state !== 'undefined' ? address.state.replace(/'/g, \"&apos;\") : ''\n                            };\n\n                            payload.details.email = payload.details.email.replace(/'/g, \"&apos;\");\n                            payload.details.firstName = payload.details.firstName.replace(/'/g, \"&apos;\");\n                            payload.details.lastName = payload.details.lastName.replace(/'/g, \"&apos;\");\n                            if (typeof payload.details.businessName !== 'undefined') {\n                                payload.details.businessName = payload.details.businessName.replace(/'/g, \"&apos;\");\n                            }\n\n                            // Map the billing address correctly\n                            let isRequiredBillingAddress = data.data('requiredbillingaddress');\n                            if ((isRequiredBillingAddress === 1) && (typeof payload.details.billingAddress !== 'undefined')) {\n                                var billingAddress = payload.details.billingAddress;\n                                payload.details.billingAddress = {\n                                    streetAddress: typeof billingAddress.line2 !== 'undefined' ? billingAddress.line1.replace(/'/g, \"&apos;\") + \" \" + billingAddress.line2.replace(/'/g, \"&apos;\") : billingAddress.line1.replace(/'/g, \"&apos;\"),\n                                    locality: billingAddress.city.replace(/'/g, \"&apos;\"),\n                                    postalCode: billingAddress.postalCode,\n                                    countryCodeAlpha2: billingAddress.countryCode,\n                                    telephone: typeof payload.details.phone !== 'undefined' ? payload.details.phone : '',\n                                    region: typeof billingAddress.state !== 'undefined' ? billingAddress.state.replace(/'/g, \"&apos;\") : ''\n                                };\n                            }\n\n                            if (data.data('location') == 'productpage') {\n                                var form = $(\"#product_addtocart_form\");\n                                if (!(form.validation() && form.validation('isValid'))) {\n                                    return false;\n                                }\n                                payload.additionalData = form.serialize();\n                            }\n\n                            var actionSuccess = data.data('actionsuccess');\n                            formBuilder.build(\n                                {\n                                    action: actionSuccess,\n                                    fields: {\n                                        result: JSON.stringify(payload)\n                                    }\n                                }\n                            ).submit();\n                        });\n                    }\n                });\n                if (!button.isEligible()) {\n                    console.log('PayPal button is not elligible')\n                    data.parent().remove();\n                    return;\n                }\n                if ($('#' + data.attr('id')).length) {\n                    button.render('#' + data.attr('id'));\n                }\n            },\n        }\n    }\n);\n","PayPal_Braintree/js/paypal/form-builder.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'jquery',\n        'underscore',\n        'mage/template'\n    ],\n    function ($, _, mageTemplate) {\n        'use strict';\n\n        return {\n\n            /**\n             * @param {Object} formData\n             * @returns {*|jQuery}\n             */\n            build: function (formData) {\n                var formTmpl = mageTemplate('<form action=\"<%= data.action %>\"' +\n                    ' method=\"POST\" hidden enctype=\"application/x-www-form-urlencoded\">' +\n                        '<% _.each(data.fields, function(val, key){ %>' +\n                            '<input value=\\'<%= val %>\\' name=\"<%= key %>\" type=\"hidden\">' +\n                        '<% }); %>' +\n                    '</form>');\n\n                return $(formTmpl({\n                    data: {\n                        action: formData.action,\n                        fields: formData.fields\n                    }\n                })).appendTo($('[data-container=\"body\"]'));\n            }\n        };\n    }\n);\n","PayPal_Braintree/js/paypal/credit/calculator.js":"define([\n    'underscore',\n    'uiComponent',\n    'jquery'\n], function (_, Component, $) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: \"PayPal_Braintree/credit/calculator\",\n            displaySummary: true, // \"From X per month\"\n            displayInterestDetails: false, // Display the more in-depth summary of interest rates\n            instalmentsFrom: 0,\n            currentInstalment: {\n                term: 0,\n                monthlyPayment: 0,\n                apr: 0,\n                cost: 0,\n                costIncInterest: 0\n            },\n            endpoint: null,\n            instalments: [],\n            visible: false,\n            merchantName: ''\n        },\n\n        initObservable: function () {\n            this._super();\n            if (this.instalments.length > 0) {\n                this.currentInstalment = this.instalments[0];\n                this.instalmentsFrom = this.instalments[this.instalments.length-1].monthlyPayment;\n                this.visible = true;\n            } else {\n                this.loadInstalments();\n            }\n\n            this.observe(['instalments', 'currentInstalment', 'instalmentsFrom', 'visible']);\n            return this;\n        },\n\n        isCurrentInstalment: function (term) {\n            return (this.currentInstalment().term === term);\n        },\n\n        setCurrentInstalment: function (instalment) {\n            this.currentInstalment(instalment);\n        },\n\n        loadInstalments: function () {\n            if (!this.endpoint) {\n                return false;\n            }\n\n            var self = this;\n            require(['Magento_Checkout/js/model/quote', 'jquery'], function (quote, $) {\n                if (typeof quote.totals().base_grand_total === 'undefined') {\n                    return false;\n                }\n\n                $.getJSON(self.endpoint, {amount: quote.totals().base_grand_total}, function (response) {\n                    self.instalments(response);\n                    self.setCurrentInstalment(response[0]);\n                    self.visible(true);\n                });\n            });\n        }\n    });\n});\n","PayPal_Braintree/js/reCaptcha/webapiReCaptchaRegistry-mixin.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([], function () {\n    'use strict';\n\n    return function (originalFunction) {\n        /**\n         * {@inheritDoc}\n         */\n       originalFunction.addListener = function (id , func) {\n            this._listeners[id] = func;\n       };\n\n       return originalFunction;\n    };\n});\n","PayPal_Braintree/js/applepay/api.js":"/**\n * Braintree Apple Pay button API\n *\n **/\ndefine(\n    [\n        'jquery',\n        'underscore',\n        'uiComponent',\n        'mage/translate',\n        'mage/storage',\n        'Magento_Customer/js/customer-data'\n    ],\n    function (\n        $,\n        _,\n        Component,\n        $t,\n        storage,\n        customerData\n    ) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                clientToken: null,\n                quoteId: 0,\n                displayName: null,\n                actionSuccess: null,\n                grandTotalAmount: 0,\n                isLoggedIn: false,\n                storeCode: \"default\",\n                shippingAddress: {},\n                countryDirectory: null,\n                shippingMethods: {}\n            },\n\n            initialize: function () {\n                this._super();\n                if (!this.countryDirectory) {\n                    storage.get(\"rest/V1/directory/countries\").done(function (result) {\n                        this.countryDirectory = {};\n                        let i, data, x, region;\n                        for (i = 0; i < result.length; ++i) {\n                            data = result[i];\n                            this.countryDirectory[data.two_letter_abbreviation] = {};\n                            if (typeof data.available_regions !== 'undefined') {\n                                for (x = 0; x < data.available_regions.length; ++x) {\n                                    region = data.available_regions[x];\n                                    this.countryDirectory[data.two_letter_abbreviation][region.name.toLowerCase().replace(/[^A-Z0-9]/ig, '')] = region.id;\n                                }\n                            }\n                        }\n                    }.bind(this));\n                }\n            },\n\n            /**\n             * Get region ID\n             */\n            getRegionId: function (countryCode, regionName) {\n                if (typeof regionName !== 'string') {\n                    return null;\n                }\n\n                regionName = regionName.toLowerCase().replace(/[^A-Z0-9]/ig, '');\n\n                if (typeof this.countryDirectory[countryCode] !== 'undefined' && typeof this.countryDirectory[countryCode][regionName] !== 'undefined') {\n                    return this.countryDirectory[countryCode][regionName];\n                }\n\n                return 0;\n            },\n\n            /**\n             * Set & get api token\n             */\n            setClientToken: function (value) {\n                this.clientToken = value;\n            },\n            getClientToken: function () {\n                return this.clientToken;\n            },\n\n            /**\n             * Set and get quote id\n             */\n            setQuoteId: function (value) {\n                this.quoteId = value;\n            },\n            getQuoteId: function () {\n                return this.quoteId;\n            },\n\n            /**\n             * Set and get display name\n             */\n            setDisplayName: function (value) {\n                this.displayName = value;\n            },\n            getDisplayName: function () {\n                return this.displayName;\n            },\n\n            /**\n             * Set and get success redirection url\n             */\n            setActionSuccess: function (value) {\n                this.actionSuccess = value;\n            },\n            getActionSuccess: function () {\n                return this.actionSuccess;\n            },\n\n            /**\n             * Set and get grand total\n             */\n            setGrandTotalAmount: function (value) {\n                this.grandTotalAmount = parseFloat(value).toFixed(2);\n            },\n            getGrandTotalAmount: function () {\n                return parseFloat(this.grandTotalAmount);\n            },\n\n            /**\n             * Set and get is logged in\n             */\n            setIsLoggedIn: function (value) {\n                this.isLoggedIn = value;\n            },\n            getIsLoggedIn: function () {\n                return this.isLoggedIn;\n            },\n\n            /**\n             * Set and get store code\n             */\n            setStoreCode: function (value) {\n                this.storeCode = value;\n            },\n            getStoreCode: function () {\n                return this.storeCode;\n            },\n\n            /**\n             * API Urls for logged in / guest\n             */\n            getApiUrl: function (uri) {\n                if (this.getIsLoggedIn() === true) {\n                    return \"rest/\" + this.getStoreCode() + \"/V1/carts/mine/\" + uri;\n                } else {\n                    return \"rest/\" + this.getStoreCode() + \"/V1/guest-carts/\" + this.getQuoteId() + \"/\" + uri;\n                }\n            },\n\n            /**\n             * Payment request info\n             */\n            getPaymentRequest: function () {\n                return {\n                    total: {\n                        label: this.getDisplayName(),\n                        amount: this.getGrandTotalAmount()\n                    },\n                    requiredShippingContactFields: ['postalAddress', 'name', 'email', 'phone'],\n                    requiredBillingContactFields: ['postalAddress', 'name']\n                };\n            },\n\n            /**\n             * Retrieve shipping methods based on address\n             */\n            onShippingContactSelect: function (event, session) {\n                // Get the address.\n                let address = event.shippingContact;\n\n                // Create a payload.\n                let payload = {\n                    address: {\n                        city: address.locality,\n                        region: address.administrativeArea,\n                        country_id: address.countryCode.toUpperCase(),\n                        postcode: address.postalCode,\n                        save_in_address_book: 0\n                    }\n                };\n\n                this.shippingAddress = payload.address;\n\n                // POST to endpoint for shipping methods.\n                storage.post(\n                    this.getApiUrl(\"estimate-shipping-methods\"),\n                    JSON.stringify(payload)\n                ).done(function (result) {\n                    // Stop if no shipping methods.\n                    let virtualFlag = false;\n                    if (result.length === 0) {\n                        let productItems = customerData.get('cart')().items;\n                        _.each(productItems,\n                            function (item) {\n                                if (item.is_virtual || item.product_type == 'bundle') {\n                                    virtualFlag = true;\n                                } else {\n                                    virtualFlag = false;\n                                }\n                            }\n                        );\n                        if (!virtualFlag) {\n                            session.abort();\n                            alert($t(\"There are no shipping methods available for you right now. Please try again or use an alternative payment method.\"));\n                            return false;\n                        }\n                    }\n\n                    let shippingMethods = [];\n                    this.shippingMethods = {};\n\n                    // Format shipping methods array.\n                    for (let i = 0; i < result.length; i++) {\n                        if (typeof result[i].method_code !== 'string') {\n                            continue;\n                        }\n\n                        let method = {\n                            identifier: result[i].method_code,\n                            label: result[i].method_title,\n                            detail: result[i].carrier_title ? result[i].carrier_title : \"\",\n                            amount: parseFloat(result[i].amount).toFixed(2)\n                        };\n\n                        // Add method object to array.\n                        shippingMethods.push(method);\n\n                        this.shippingMethods[result[i].method_code] = result[i];\n\n                        if (!this.shippingMethod) {\n                            this.shippingMethod = result[i].method_code;\n                        }\n                    }\n\n                    // Create payload to get totals\n                    let totalsPayload = {\n                        \"addressInformation\": {\n                            \"address\": {\n                                \"countryId\": this.shippingAddress.country_id,\n                                \"region\": this.shippingAddress.region,\n                                \"regionId\": this.getRegionId(this.shippingAddress.country_id, this.shippingAddress.region),\n                                \"postcode\": this.shippingAddress.postcode\n                            },\n                            \"shipping_method_code\": virtualFlag ? null : this.shippingMethods[shippingMethods[0].identifier].method_code,\n                            \"shipping_carrier_code\": virtualFlag ? null : this.shippingMethods[shippingMethods[0].identifier].carrier_code\n                        }\n                    };\n\n                    // POST to endpoint to get totals, using 1st shipping method\n                    storage.post(\n                        this.getApiUrl(\"totals-information\"),\n                        JSON.stringify(totalsPayload)\n                    ).done(function (result) {\n                        // Set total\n                        this.setGrandTotalAmount(result.base_grand_total);\n\n                        // Pass shipping methods back\n                        session.completeShippingContactSelection(\n                            ApplePaySession.STATUS_SUCCESS,\n                            shippingMethods,\n                            {\n                                label: this.getDisplayName(),\n                                amount: this.getGrandTotalAmount()\n                            },\n                            [{\n                                type: 'final',\n                                label: $t('Shipping'),\n                                amount: virtualFlag ? 0 : shippingMethods[0].amount\n                            }]\n                        );\n                    }.bind(this)).fail(function (result) {\n                        session.abort();\n                        alert($t(\"We're unable to fetch the cart totals for you. Please try an alternative payment method.\"));\n                        console.error(\"Braintree ApplePay: Unable to get totals\", result);\n                        return false;\n                    });\n\n                }.bind(this)).fail(function (result) {\n                    session.abort();\n                    alert($t(\"We're unable to find any shipping methods for you. Please try an alternative payment method.\"));\n                    console.error(\"Braintree ApplePay: Unable to find shipping methods for estimate-shipping-methods\", result);\n                    return false;\n                });\n            },\n\n            /**\n             * Record which shipping method has been selected & Updated totals\n             */\n            onShippingMethodSelect: function (event, session) {\n                let shippingMethod = event.shippingMethod;\n                this.shippingMethod = shippingMethod.identifier;\n\n                let payload = {\n                    \"addressInformation\": {\n                        \"address\": {\n                            \"countryId\": this.shippingAddress.country_id,\n                            \"region\": this.shippingAddress.region,\n                            \"regionId\": this.getRegionId(this.shippingAddress.country_id, this.shippingAddress.region),\n                            \"postcode\": this.shippingAddress.postcode\n                        },\n                        \"shipping_method_code\": this.shippingMethods[this.shippingMethod].method_code,\n                        \"shipping_carrier_code\": this.shippingMethods[this.shippingMethod].carrier_code\n                    }\n                };\n\n                storage.post(\n                    this.getApiUrl(\"totals-information\"),\n                    JSON.stringify(payload)\n                ).done(function (r) {\n                    this.setGrandTotalAmount(r.base_grand_total);\n\n                    session.completeShippingMethodSelection(\n                        ApplePaySession.STATUS_SUCCESS,\n                        {\n                            label: this.getDisplayName(),\n                            amount: this.getGrandTotalAmount()\n                        },\n                        [{\n                            type: 'final',\n                            label: $t('Shipping'),\n                            amount: shippingMethod.amount\n                        }]\n                    );\n                }.bind(this));\n            },\n\n            /**\n             * Place the order\n             */\n            startPlaceOrder: function (nonce, event, session, device_data) {\n                let shippingContact = event.payment.shippingContact,\n                    billingContact = event.payment.billingContact,\n                    payload = {\n                        \"addressInformation\": {\n                            \"shipping_address\": {\n                                \"email\": shippingContact.emailAddress,\n                                \"telephone\": shippingContact.phoneNumber,\n                                \"firstname\": shippingContact.givenName,\n                                \"lastname\": shippingContact.familyName,\n                                \"street\": shippingContact.addressLines,\n                                \"city\": shippingContact.locality,\n                                \"region\": shippingContact.administrativeArea,\n                                \"region_id\": this.getRegionId(shippingContact.countryCode.toUpperCase(), shippingContact.administrativeArea),\n                                \"region_code\": null,\n                                \"country_id\": shippingContact.countryCode.toUpperCase(),\n                                \"postcode\": shippingContact.postalCode,\n                                \"same_as_billing\": 0,\n                                \"customer_address_id\": 0,\n                                \"save_in_address_book\": 0\n                            },\n                            \"billing_address\": {\n                                \"email\": shippingContact.emailAddress,\n                                \"telephone\": shippingContact.phoneNumber,\n                                \"firstname\": billingContact.givenName,\n                                \"lastname\": billingContact.familyName,\n                                \"street\": billingContact.addressLines,\n                                \"city\": billingContact.locality,\n                                \"region\": billingContact.administrativeArea,\n                                \"region_id\": this.getRegionId(billingContact.countryCode.toUpperCase(), billingContact.administrativeArea),\n                                \"region_code\": null,\n                                \"country_id\": billingContact.countryCode.toUpperCase(),\n                                \"postcode\": billingContact.postalCode,\n                                \"same_as_billing\": 0,\n                                \"customer_address_id\": 0,\n                                \"save_in_address_book\": 0\n                            },\n                            \"shipping_method_code\": this.shippingMethod ? this.shippingMethods[this.shippingMethod].method_code : '' ,\n                            \"shipping_carrier_code\": this.shippingMethod ? this.shippingMethods[this.shippingMethod].carrier_code : ''\n                        }\n                    };\n\n                // Set addresses\n                storage.post(\n                    this.getApiUrl(\"shipping-information\"),\n                    JSON.stringify(payload)\n                ).done(function () {\n                    // Submit payment information\n                    let paymentInformation = {\n                            \"email\": shippingContact.emailAddress,\n                            \"paymentMethod\": {\n                                \"method\": \"braintree_applepay\",\n                                \"additional_data\": {\n                                    \"payment_method_nonce\": nonce,\n                                    \"device_data\": device_data\n                                }\n                            }\n                        };\n                    if (window.checkout && window.checkout.agreementIds) {\n                        paymentInformation.paymentMethod.extension_attributes = {\n                            \"agreement_ids\": window.checkout.agreementIds\n                        };\n                    }\n                    storage.post(\n                        this.getApiUrl(\"payment-information\"),\n                        JSON.stringify(paymentInformation)\n                    ).done(function (r) {\n                        document.location = this.getActionSuccess();\n                        session.completePayment(ApplePaySession.STATUS_SUCCESS);\n                    }.bind(this)).fail(function (r) {\n                        session.completePayment(ApplePaySession.STATUS_FAILURE);\n                        session.abort();\n                        alert($t(\"We're unable to take your payment through Apple Pay. Please try an again or use an alternative payment method.\"));\n                        console.error(\"Braintree ApplePay Unable to take payment\", r);\n                        return false;\n                    });\n\n                }.bind(this)).fail(function (r) {\n                    console.error(\"Braintree ApplePay Unable to set shipping information\", r);\n                    session.completePayment(ApplePaySession.STATUS_INVALID_BILLING_POSTAL_ADDRESS);\n                });\n            }\n        });\n    });\n","PayPal_Braintree/js/applepay/button.js":"/**\n * Braintree Apple Pay button\n **/\ndefine(\n    [\n        'uiComponent',\n        \"knockout\",\n        \"jquery\",\n        'braintree',\n        'braintreeDataCollector',\n        'braintreeApplePay',\n        'mage/translate',\n        'Magento_Checkout/js/model/payment/additional-validators',\n        ],\n    function (\n        Component,\n        ko,\n        jQuery,\n        braintree,\n        dataCollector,\n        applePay,\n        $t,\n        additionalValidators\n    ) {\n        'use strict';\n\n        var that;\n\n        return {\n            init: function (element, context) {\n                // No element or context\n                if (!element || !context) {\n                    return;\n                }\n\n                // Context must implement these methods\n                if (typeof context.getClientToken !== 'function') {\n                    console.error(\"Braintree ApplePay Context passed does not provide a getClientToken method\", context);\n                    return;\n                }\n                if (typeof context.getPaymentRequest !== 'function') {\n                    console.error(\"Braintree ApplePay Context passed does not provide a getPaymentRequest method\", context);\n                    return;\n                }\n                if (typeof context.startPlaceOrder !== 'function') {\n                    console.error(\"Braintree ApplePay Context passed does not provide a startPlaceOrder method\", context);\n                    return;\n                }\n\n                if (this.deviceSupported() === false) {\n                    return;\n                }\n\n                // init braintree api\n                braintree.create({\n                    authorization: context.getClientToken()\n                }, function (clientErr, clientInstance) {\n                    if (clientErr) {\n                        console.error('Error creating client:', clientErr);\n                        return;\n                    }\n\n                        dataCollector.create({\n                            client: clientInstance\n                        }, function (dataCollectorErr, dataCollectorInstance) {\n                            if (dataCollectorErr) {\n                                return;\n                            }\n\n                            applePay.create({\n                                client: clientInstance\n                            }, function (applePayErr, applePayInstance) {\n                                // No instance\n                                if (applePayErr) {\n                                    console.error('Braintree ApplePay Error creating applePayInstance:', applePayErr);\n                                    return;\n                                }\n\n                                // Create a button within the KO element, as apple pay can only be instantiated through\n                                // a valid on click event (ko onclick bind interferes with this).\n                                var el = document.createElement('div');\n                                el.className = \"braintree-apple-pay-button\";\n                                el.title = $t(\"Pay with Apple Pay\");\n                                el.alt = $t(\"Pay with Apple Pay\");\n                                el.addEventListener('click', function (e) {\n                                    e.preventDefault();\n\n                                    if (!additionalValidators.validate()) {\n                                        return false;\n                                    }\n                                    // Payment request object\n                                    var paymentRequest = applePayInstance.createPaymentRequest(context.getPaymentRequest());\n                                    if (!paymentRequest) {\n                                        alert($t(\"We're unable to take payments through Apple Pay at the moment. Please try an alternative payment method.\"));\n                                        console.error('Braintree ApplePay Unable to create paymentRequest', paymentRequest);\n                                        return;\n                                    }\n\n                                    // Show the loader\n                                    jQuery(\"body\").loader('show');\n\n                                    // Init apple pay session\n                                    try {\n                                        var session = new ApplePaySession(1, paymentRequest);\n                                    } catch (err) {\n                                        jQuery(\"body\").loader('hide');\n                                        console.error('Braintree ApplePay Unable to create ApplePaySession', err);\n                                        alert($t(\"We're unable to take payments through Apple Pay at the moment. Please try an alternative payment method.\"));\n                                        return false;\n                                    }\n\n                                    // Handle invalid merchant\n                                    session.onvalidatemerchant = function (event) {\n                                        applePayInstance.performValidation({\n                                            validationURL: event.validationURL,\n                                            displayName: context.getDisplayName()\n                                        }, function (validationErr, merchantSession) {\n                                            if (validationErr) {\n                                                session.abort();\n                                                console.error('Braintree ApplePay Error validating merchant:', validationErr);\n                                                alert($t(\"We're unable to take payments through Apple Pay at the moment. Please try an alternative payment method.\"));\n                                                return;\n                                            }\n\n                                            session.completeMerchantValidation(merchantSession);\n                                        });\n                                    };\n\n                                    // Attach payment auth event\n                                    session.onpaymentauthorized = function (event) {\n                                        applePayInstance.tokenize({\n                                            token: event.payment.token\n                                        }, function (tokenizeErr, payload) {\n                                            if (tokenizeErr) {\n                                                console.error('Error tokenizing Apple Pay:', tokenizeErr);\n                                                session.completePayment(ApplePaySession.STATUS_FAILURE);\n                                                return;\n                                            }\n\n                                            // Pass the nonce back to the payment method\n                                            context.startPlaceOrder(payload.nonce, event, session, dataCollectorInstance.deviceData);\n                                        });\n                                    };\n\n                                    // Attach onShippingContactSelect method\n                                    if (typeof context.onShippingContactSelect === 'function') {\n                                        session.onshippingcontactselected = function (event) {\n                                            return context.onShippingContactSelect(event, session);\n                                        };\n                                    }\n\n                                    // Attach onShippingMethodSelect method\n                                    if (typeof context.onShippingMethodSelect === 'function') {\n                                        session.onshippingmethodselected = function (event) {\n                                            return context.onShippingMethodSelect(event, session);\n                                        };\n                                    }\n\n                                    // Hook\n                                    if (typeof context.onButtonClick === 'function') {\n                                        context.onButtonClick(session, this, e);\n                                    } else {\n                                        jQuery(\"body\").loader('hide');\n                                        session.begin();\n                                    }\n                                });\n                                element.appendChild(el);\n                            });\n                        });\n\n                });\n            },\n\n            /**\n             * Check the site is using HTTPS & apple pay is supported on this device.\n             * @return boolean\n             */\n            deviceSupported: function () {\n                if (location.protocol != 'https:') {\n                    console.warn(\"Braintree Apple Pay requires your checkout be served over HTTPS\");\n                    return false;\n                }\n\n                if ((window.ApplePaySession && ApplePaySession.canMakePayments()) !== true) {\n                    console.warn(\"Braintree Apple Pay is not supported on this device/browser\");\n                    return false;\n                }\n\n                return true;\n            }\n        };\n    }\n);\n","PayPal_Braintree/js/applepay/implementations/shortcut.js":"/**\n * Braintree Apple Pay mini cart payment method integration.\n **/\ndefine(\n    [\n        'uiComponent',\n        'PayPal_Braintree/js/applepay/button',\n        'PayPal_Braintree/js/applepay/api',\n        'mage/translate',\n        'domReady!'\n    ],\n    function (\n        Component,\n        button,\n        buttonApi,\n        $t\n    ) {\n        'use strict';\n\n        return Component.extend({\n\n            defaults: {\n                id: null,\n                clientToken: null,\n                quoteId: 0,\n                displayName: null,\n                actionSuccess: null,\n                grandTotalAmount: 0,\n                isLoggedIn: false,\n                storeCode: \"default\"\n            },\n\n            /**\n             * @returns {Object}\n             */\n            initialize: function () {\n                this._super();\n                if (!this.displayName) {\n                    this.displayName = $t('Store');\n                }\n\n                var api = new buttonApi();\n                api.setGrandTotalAmount(parseFloat(this.grandTotalAmount).toFixed(2));\n                api.setClientToken(this.clientToken);\n                api.setDisplayName(this.displayName);\n                api.setQuoteId(this.quoteId);\n                api.setActionSuccess(this.actionSuccess);\n                api.setIsLoggedIn(this.isLoggedIn);\n                api.setStoreCode(this.storeCode);\n\n                // Attach the button\n                button.init(\n                    document.getElementById(this.id),\n                    api\n                );\n\n                return this;\n            }\n        });\n    }\n);\n","PayPal_Braintree/js/applepay/implementations/core-checkout/method-applepay.js":"define([\n    'uiComponent',\n    'Magento_Checkout/js/model/payment/renderer-list'\n], function (Component, rendererList) {\n    'use strict';\n\n    let config = window.checkoutConfig.payment;\n\n    if (config['braintree_applepay'].clientToken) {\n        rendererList.push({\n            type: 'braintree_applepay',\n            component: 'PayPal_Braintree/js/applepay/implementations/core-checkout/method-renderer/applepay'\n        });\n    }\n\n    return Component.extend({});\n});\n","PayPal_Braintree/js/applepay/implementations/core-checkout/method-renderer/applepay.js":"/**\n * Braintree Apple Pay payment method integration.\n **/\ndefine([\n    'Magento_Checkout/js/view/payment/default',\n    'Magento_Checkout/js/model/quote',\n    'PayPal_Braintree/js/applepay/button'\n], function (\n    Component,\n    quote,\n    button\n) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: 'PayPal_Braintree/applepay/core-checkout',\n            paymentMethodNonce: null,\n            deviceData: null,\n            grandTotalAmount: 0,\n            deviceSupported: button.deviceSupported()\n        },\n\n        /**\n         * Inject the apple pay button into the target element\n         */\n        getApplePayBtn: function (id) {\n            button.init(\n                document.getElementById(id),\n                this\n            );\n        },\n\n        /**\n         * Subscribe to grand totals\n         */\n        initObservable: function () {\n            this._super();\n            this.grandTotalAmount = parseFloat(quote.totals()['base_grand_total']).toFixed(2);\n\n            quote.totals.subscribe(function () {\n                if (this.grandTotalAmount !== quote.totals()['base_grand_total']) {\n                    this.grandTotalAmount = parseFloat(quote.totals()['base_grand_total']).toFixed(2);\n                }\n            }.bind(this));\n\n            return this;\n        },\n\n        /**\n         * Apple pay place order method\n         */\n        startPlaceOrder: function (nonce, event, session, device_data) {\n            this.setPaymentMethodNonce(nonce);\n            this.setDeviceData(device_data);\n            this.placeOrder();\n\n            session.completePayment(ApplePaySession.STATUS_SUCCESS);\n        },\n\n        /**\n         * Save nonce\n         */\n        setPaymentMethodNonce: function (nonce) {\n            this.paymentMethodNonce = nonce;\n        },\n\n        /**\n         * Save nonce\n         */\n        setDeviceData: function (device_data) {\n            this.deviceData = device_data;\n        },\n\n        /**\n         * Retrieve the client token\n         * @returns null|string\n         */\n        getClientToken: function () {\n            return window.checkoutConfig.payment[this.getCode()].clientToken;\n        },\n\n        /**\n         * Payment request data\n         */\n        getPaymentRequest: function () {\n            return {\n                total: {\n                    label: this.getDisplayName(),\n                    amount: this.grandTotalAmount\n                }\n            };\n        },\n\n        /**\n         * Merchant display name\n         */\n        getDisplayName: function () {\n            return window.checkoutConfig.payment[this.getCode()].merchantName;\n        },\n\n        /**\n         * Get data\n         * @returns {Object}\n         */\n        getData: function () {\n            var data = {\n                'method': this.getCode(),\n                'additional_data': {\n                    'payment_method_nonce': this.paymentMethodNonce,\n                    'device_data': this.deviceData\n                }\n            };\n            return data;\n        },\n\n        /**\n         * Return image url for the apple pay mark\n         */\n        getPaymentMarkSrc: function () {\n            return window.checkoutConfig.payment[this.getCode()].paymentMarkSrc;\n        }\n    });\n});\n","PayPal_Braintree/js/view/product-page.js":"define(\n    ['uiComponent'],\n    function (Component) {\n        'use strict';\n\n        return Component.extend({\n\n        });\n    }\n);","PayPal_Braintree/js/view/payment/adapter.js":"/**\n * Copyright 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'braintree',\n    'braintreeDataCollector',\n    'braintreeHostedFields',\n    'Magento_Checkout/js/model/full-screen-loader',\n    'Magento_Ui/js/model/messageList',\n    'mage/translate'\n], function ($, client, dataCollector, hostedFields, fullScreenLoader, globalMessageList, $t) {\n    'use strict';\n\n    return {\n        apiClient: null,\n        config: {},\n        checkout: null,\n        deviceData: null,\n        clientInstance: null,\n        hostedFieldsInstance: null,\n        paypalInstance: null,\n        code: 'braintree',\n\n        /**\n         * {Object}\n         */\n        events: {\n            onClick: null,\n            onCancel: null,\n            onError: null\n        },\n\n        /**\n         * Get Braintree api client\n         * @returns {Object}\n         */\n        getApiClient: function () {\n            return this.clientInstance;\n        },\n\n        /**\n         * Set configuration\n         * @param {Object} config\n         */\n        setConfig: function (config) {\n            this.config = config;\n        },\n\n        /**\n         * Get payment name\n         * @returns {String}\n         */\n        getCode: function () {\n            if (window.checkoutConfig.payment[this.code]) {\n                return this.code;\n            } else {\n                return 'braintree_paypal';\n            }\n        },\n\n        /**\n         * Get client token\n         * @returns {String|*}\n         */\n        getClientToken: function () {\n            return window.checkoutConfig.payment[this.getCode()].clientToken;\n        },\n\n        /**\n         * @returns {String}\n         */\n        getEnvironment: function () {\n            return window.checkoutConfig.payment[this.getCode()].environment;\n        },\n\n        getCurrentCode: function (paypalType = null) {\n            var code = 'braintree_paypal';\n            if (paypalType !== 'paypal') {\n                code = code + '_' + paypalType;\n            }\n            return code;\n        },\n\n        /**\n         * @returns {String}\n         */\n        getColor: function (paypalType = null) {\n            return window.checkoutConfig.payment[this.getCurrentCode(paypalType)].style.color;\n        },\n\n        /**\n         * @returns {String}\n         */\n        getShape: function (paypalType = null) {\n            return window.checkoutConfig.payment[this.getCurrentCode(paypalType)].style.shape;\n        },\n\n        /**\n         * @returns {String}\n         */\n        getSize: function (paypalType = null) {\n            return window.checkoutConfig.payment[this.getCurrentCode(paypalType)].style.size;\n        },\n\n        /**\n         * @returns {String}\n         */\n        getLabel: function (paypalType = null) {\n            return window.checkoutConfig.payment[this.getCurrentCode(paypalType)].style.label;\n        },\n\n        /**\n         * @returns {String}\n         */\n        getBranding: function () {\n            return null;\n        },\n\n        /**\n         * @returns {String}\n         */\n        getFundingIcons: function () {\n            return null;\n        },\n\n        /**\n         * @returns {String}\n         */\n        getDisabledFunding: function () {\n            return window.checkoutConfig.payment[this.getCode()].disabledFunding;\n        },\n\n        /**\n         * Show error message\n         *\n         * @param {String} errorMessage\n         */\n        showError: function (errorMessage) {\n            globalMessageList.addErrorMessage({\n                message: errorMessage\n            });\n            fullScreenLoader.stopLoader(true);\n        },\n\n        /**\n         * Disable submit button\n         */\n        disableButton: function () {\n            // stop any previous shown loaders\n            fullScreenLoader.stopLoader(true);\n            fullScreenLoader.startLoader();\n            $('[data-button=\"place\"]').attr('disabled', 'disabled');\n        },\n\n        /**\n         * Enable submit button\n         */\n        enableButton: function () {\n            $('[data-button=\"place\"]').removeAttr('disabled');\n            fullScreenLoader.stopLoader();\n        },\n\n        /**\n         * Has PayPal been init'd already\n         */\n        getPayPalInstance: function() {\n            if (typeof this.config.paypalInstance !== 'undefined' && this.config.paypalInstance) {\n                return this.config.paypalInstance;\n            }\n\n            return null;\n        },\n\n        setPayPalInstance: function(val) {\n            this.config.paypalInstance = val;\n        },\n\n        /**\n         * Setup Braintree SDK\n         */\n        setup: function (callback) {\n            if (!this.getClientToken()) {\n                this.showError($t('Sorry, but something went wrong.'));\n                return;\n            }\n\n            if (this.clientInstance) {\n                if (typeof this.config.onReady === 'function') {\n                    this.config.onReady(this);\n                }\n\n                if (typeof callback === \"function\") {\n                    callback(this.clientInstance);\n                }\n                return;\n            }\n\n            client.create({\n                authorization: this.getClientToken()\n            }, function (clientErr, clientInstance) {\n                if (clientErr) {\n                    console.error('Braintree Setup Error', clientErr);\n                    return this.showError(\"Sorry, but something went wrong. Please contact the store owner.\");\n                }\n\n                var options = {\n                    client: clientInstance\n                };\n\n                if (typeof this.config.dataCollector === 'object' && typeof this.config.dataCollector.paypal === 'boolean') {\n                    options.paypal = true;\n                }\n\n                dataCollector.create(options, function (err, dataCollectorInstance) {\n                    if (err) {\n                        return console.log(err);\n                    }\n\n                    this.deviceData = dataCollectorInstance.deviceData;\n                    this.config.onDeviceDataReceived(this.deviceData);\n                }.bind(this));\n\n                this.clientInstance = clientInstance;\n\n                if (typeof this.config.onReady === 'function') {\n                    this.config.onReady(this);\n                }\n\n                if (typeof callback === \"function\") {\n                    callback(this.clientInstance);\n                }\n            }.bind(this));\n        },\n\n        /**\n         * Setup hosted fields instance\n         */\n        setupHostedFields: function () {\n            var self = this;\n\n            if (this.hostedFieldsInstance) {\n                this.hostedFieldsInstance.teardown(function () {\n                    this.hostedFieldsInstance = null;\n                    this.setupHostedFields();\n                }.bind(this));\n                return;\n            }\n\n            hostedFields.create({\n                client: this.clientInstance,\n                fields: this.config.hostedFields,\n                styles: {\n                    \"input\": {\n                        \"font-size\": \"14pt\",\n                        \"color\": \"#3A3A3A\"\n                    },\n                    \":focus\": {\n                        \"color\": \"black\"\n                    },\n                    \".valid\": {\n                        \"color\": \"green\"\n                    },\n                    \".invalid\": {\n                        \"color\": \"red\"\n                    }\n                }\n            }, function (createErr, hostedFieldsInstance) {\n                if (createErr) {\n                    self.showError($t(\"Braintree hosted fields could not be initialized. Please contact the store owner.\"));\n                    console.error('Braintree hosted fields error', createErr);\n                    return;\n                }\n\n                this.config.onInstanceReady(hostedFieldsInstance);\n                this.hostedFieldsInstance = hostedFieldsInstance;\n            }.bind(this));\n        },\n\n        tokenizeHostedFields: function () {\n            this.hostedFieldsInstance.tokenize({}, function (tokenizeErr, payload) {\n                if (tokenizeErr) {\n                    switch (tokenizeErr.code) {\n                        case 'HOSTED_FIELDS_FIELDS_EMPTY':\n                            // occurs when none of the fields are filled in\n                            console.error('All fields are empty! Please fill out the form.');\n                            break;\n                        case 'HOSTED_FIELDS_FIELDS_INVALID':\n                            // occurs when certain fields do not pass client side validation\n                            console.error('Some fields are invalid:', tokenizeErr.details.invalidFieldKeys);\n                            break;\n                        case 'HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE':\n                            // occurs when:\n                            //   * the client token used for client authorization was generated\n                            //     with a customer ID and the fail on duplicate payment method\n                            //     option is set to true\n                            //   * the card being tokenized has previously been vaulted (with any customer)\n                            // See: https://developers.braintreepayments.com/reference/request/client-token/generate/#options.fail_on_duplicate_payment_method\n                            console.error('This payment method already exists in your vault.');\n                            break;\n                        case 'HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED':\n                            // occurs when:\n                            //   * the client token used for client authorization was generated\n                            //     with a customer ID and the verify card option is set to true\n                            //     and you have credit card verification turned on in the Braintree\n                            //     control panel\n                            //   * the cvv does not pass verfication (https://developers.braintreepayments.com/reference/general/testing/#avs-and-cvv/cid-responses)\n                            // See: https://developers.braintreepayments.com/reference/request/client-token/generate/#options.verify_card\n                            console.error('CVV did not pass verification');\n                            break;\n                        case 'HOSTED_FIELDS_FAILED_TOKENIZATION':\n                            // occurs for any other tokenization error on the server\n                            console.error('Tokenization failed server side. Is the card valid?');\n                            break;\n                        case 'HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR':\n                            // occurs when the Braintree gateway cannot be contacted\n                            console.error('Network error occurred when tokenizing.');\n                            break;\n                        default:\n                            console.error('Something bad happened!', tokenizeErr);\n                    }\n                } else {\n                    this.config.onPaymentMethodReceived(payload);\n                }\n            }.bind(this));\n        }\n    };\n});\n\n","PayPal_Braintree/js/view/payment/lpm.js":"define(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/payment/renderer-list'\n    ],\n    function (\n        Component,\n        rendererList\n    ) {\n        'use strict';\n\n        rendererList.push(\n            {\n                type: 'braintree_local_payment',\n                component: 'PayPal_Braintree/js/view/payment/method-renderer/lpm'\n            }\n        );\n\n        return Component.extend({});\n    }\n);\n","PayPal_Braintree/js/view/payment/braintree.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'uiComponent',\n    'Magento_Checkout/js/model/payment/renderer-list'\n], function (Component, rendererList) {\n    'use strict';\n\n    let config = window.checkoutConfig.payment,\n        braintreeType = 'braintree',\n        payPalType = 'braintree_paypal',\n        braintreeAchDirectDebit = 'braintree_ach_direct_debit',\n        braintreeVenmo = 'braintree_venmo',\n        braintreeLocalPayment = 'braintree_local_payment';\n\n    if (config[braintreeType] && config[braintreeType].isActive && config[braintreeType].clientToken) {\n        rendererList.push({\n            type: braintreeType,\n            component: 'PayPal_Braintree/js/view/payment/method-renderer/hosted-fields'\n        });\n    }\n\n    if (config[payPalType] && config[payPalType].isActive) {\n        rendererList.push({\n            type: payPalType,\n            component: 'PayPal_Braintree/js/view/payment/method-renderer/paypal'\n        });\n    }\n\n    if (config[braintreeVenmo] && config[braintreeVenmo].isAllowed && config[braintreeVenmo].clientToken) {\n        rendererList.push({\n            type: braintreeVenmo,\n            component: 'PayPal_Braintree/js/view/payment/method-renderer/venmo'\n        });\n    }\n\n    if (config[braintreeAchDirectDebit] && config[braintreeAchDirectDebit].isActive && config[braintreeAchDirectDebit].clientToken) {\n        rendererList.push({\n            type: braintreeAchDirectDebit,\n            component: 'PayPal_Braintree/js/view/payment/method-renderer/ach'\n        });\n    }\n\n    if (config[braintreeLocalPayment] && config[braintreeLocalPayment].clientToken) {\n        rendererList.push({\n            type: braintreeLocalPayment,\n            component: 'PayPal_Braintree/js/view/payment/method-renderer/lpm'\n        });\n    }\n\n    /** Add view logic here if needed */\n    return Component.extend({});\n});\n","PayPal_Braintree/js/view/payment/validator-handler.js":"/**\n * Copyright 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\n\ndefine([\n    'jquery',\n    'Magento_Ui/js/model/messageList',\n    'PayPal_Braintree/js/view/payment/3d-secure',\n    'Magento_Checkout/js/model/full-screen-loader'\n], function ($, globalMessageList, verify3DSecure, fullScreenLoader) {\n    'use strict';\n\n    return {\n        validators: [],\n\n        /**\n         * Get payment config\n         * @returns {Object}\n         */\n        getConfig: function () {\n            return window.checkoutConfig.payment;\n        },\n\n        /**\n         * Init list of validators\n         */\n        initialize: function () {\n            var config = this.getConfig();\n\n            if (config[verify3DSecure.getCode()].enabled) {\n                verify3DSecure.setConfig(config[verify3DSecure.getCode()]);\n                this.add(verify3DSecure);\n            }\n        },\n\n        /**\n         * Add new validator\n         * @param {Object} validator\n         */\n        add: function (validator) {\n            this.validators.push(validator);\n        },\n\n        /**\n         * Run pull of validators\n         * @param {Object} context\n         * @param {Function} callback\n         */\n        validate: function (context, callback, errorCallback) {\n            var self = this,\n                deferred;\n\n            // no available validators\n            if (!self.validators.length) {\n                callback();\n\n                return;\n            }\n\n            // get list of deferred validators\n            deferred = $.map(self.validators, function (current) {\n                return current.validate(context);\n            });\n\n            $.when.apply($, deferred)\n                .done(function () {\n                    callback();\n                }).fail(function (error) {\n                    errorCallback();\n                    self.showError(error);\n                });\n        },\n\n        /**\n         * Show error message\n         * @param {String} errorMessage\n         */\n        showError: function (errorMessage) {\n            globalMessageList.addErrorMessage({\n                message: errorMessage\n            });\n            fullScreenLoader.stopLoader(true);\n        }\n    };\n});\n","PayPal_Braintree/js/view/payment/ach.js":"define(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/payment/renderer-list'\n    ],\n    function (\n        Component,\n        rendererList\n    ) {\n        'use strict';\n\n        rendererList.push(\n            {\n                type: 'braintree_ach_direct_debit',\n                component: 'PayPal_Braintree/js/view/payment/method-renderer/ach'\n            }\n        );\n\n        return Component.extend({});\n    }\n);\n","PayPal_Braintree/js/view/payment/3d-secure.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\n\ndefine([\n    'jquery',\n    'PayPal_Braintree/js/view/payment/adapter',\n    'Magento_Checkout/js/model/quote',\n    'mage/translate',\n    'braintreeThreeDSecure',\n    'Magento_Checkout/js/model/full-screen-loader'\n], function ($, braintree, quote, $t, threeDSecure, fullScreenLoader) {\n    'use strict';\n\n    return {\n        config: null,\n\n        /**\n         * Set 3d secure config\n         * @param {Object} config\n         */\n        setConfig: function (config) {\n            this.config = config;\n            this.config.thresholdAmount = parseFloat(config.thresholdAmount);\n        },\n\n        /**\n         * Get code\n         * @returns {String}\n         */\n        getCode: function () {\n            return 'three_d_secure';\n        },\n\n        /**\n         * convert Non-ASCII characters into unicode\n         * @param str\n         * @returns {string}\n         */\n        escapeNonAsciiCharacters: function (str) {\n            return str.split(\"\").map(function (c) { return /[^\\x00-\\x7F]$/.test(c) ? c : c.split(\"\").map(function (a) { return \"\\\\u00\" + a.charCodeAt().toString(16)}).join(\"\")}).join(\"\");\n        },\n\n        /**\n         * Validate Braintree payment nonce\n         * @param {Object} context\n         * @returns {Object}\n         */\n        validate: function (context) {\n            let clientInstance = braintree.getApiClient(),\n                state = $.Deferred(),\n                totalAmount = parseFloat(quote.totals()['base_grand_total']).toFixed(2),\n                billingAddress = quote.billingAddress();\n\n            if (billingAddress.regionCode == null) {\n                billingAddress.regionCode = undefined;\n            }\n\n            if (billingAddress.regionCode !== undefined && billingAddress.regionCode.length > 2) {\n                billingAddress.regionCode = undefined;\n            }\n\n            // No 3d secure if using CVV verification on vaulted cards\n            if (quote.paymentMethod().method.indexOf('braintree_cc_vault_') !== -1) {\n                if (this.config.useCvvVault === true) {\n                    state.resolve();\n                    return state.promise();\n                }\n            }\n\n            if (!this.isAmountAvailable(totalAmount) || !this.isCountryAvailable(billingAddress.countryId)) {\n                state.resolve();\n                return state.promise();\n            }\n\n            let firstName = this.escapeNonAsciiCharacters(billingAddress.firstname);\n            let lastName = this.escapeNonAsciiCharacters(billingAddress.lastname);\n\n            let challengeRequested = this.getChallengeRequested();\n\n            fullScreenLoader.startLoader();\n\n            let setup3d = function(clientInstance) {\n                threeDSecure.create({\n                    version: 2,\n                    client: clientInstance\n                }, function (threeDSecureErr, threeDSecureInstance) {\n                    if (threeDSecureErr) {\n                        fullScreenLoader.stopLoader();\n                        return state.reject($t('Please try again with another form of payment.'));\n                    }\n\n                    let threeDSContainer = document.createElement('div'),\n                        tdMask = document.createElement('div'),\n                        tdFrame = document.createElement('div'),\n                        tdBody = document.createElement('div');\n\n                    threeDSContainer.id = 'braintree-three-d-modal';\n                    tdMask.className =\"bt-mask\";\n                    tdFrame.className =\"bt-modal-frame\";\n                    tdBody.className =\"bt-modal-body\";\n\n                    tdFrame.appendChild(tdBody);\n                    threeDSContainer.appendChild(tdMask);\n                    threeDSContainer.appendChild(tdFrame);\n\n                    threeDSecureInstance.verifyCard({\n                        amount: totalAmount,\n                        nonce: context.paymentMethodNonce,\n                        bin: context.creditCardBin,\n                        challengeRequested: challengeRequested,\n                        billingAddress: {\n                            givenName: firstName,\n                            surname: lastName,\n                            phoneNumber: billingAddress.telephone,\n                            streetAddress: billingAddress.street[0],\n                            extendedAddress: billingAddress.street[1],\n                            locality: billingAddress.city,\n                            region: billingAddress.regionCode,\n                            postalCode: billingAddress.postcode,\n                            countryCodeAlpha2: billingAddress.countryId\n                        },\n                        onLookupComplete: function (data, next) {\n                            next();\n                        },\n                        addFrame: function (err, iframe) {\n                            fullScreenLoader.stopLoader();\n\n                            if (err) {\n                                console.log(\"Unable to verify card over 3D Secure\", err);\n                                return state.reject($t('Please try again with another form of payment.'));\n                            }\n\n                            tdBody.appendChild(iframe);\n                            document.body.appendChild(threeDSContainer);\n                        },\n                        removeFrame: function () {\n                            fullScreenLoader.startLoader();\n                            document.body.removeChild(threeDSContainer);\n                        }\n                    }, function (err, response) {\n                        fullScreenLoader.stopLoader();\n\n                        if (err) {\n                            console.error(\"3DSecure validation failed\", err);\n                            if (err.code === 'THREEDS_LOOKUP_VALIDATION_ERROR') {\n                                let errorMessage = err.details.originalError.details.originalError.error.message;\n                                if (errorMessage === 'Billing line1 format is invalid.' && billingAddress.street[0].length > 50) {\n                                    return state.reject(\n                                      $t('Billing line1 must be string and less than 50 characters. Please update the address and try again.')\n                                    );\n\n                                } else if (errorMessage === 'Billing line2 format is invalid.' && billingAddress.street[1].length > 50) {\n                                    return state.reject(\n                                      $t('Billing line2 must be string and less than 50 characters. Please update the address and try again.')\n                                    );\n                                }\n                                return state.reject($t(errorMessage));\n                            } else {\n                                return state.reject($t('Please try again with another form of payment.'));\n                            }\n                        }\n\n                        let liability = {\n                            shifted: response.liabilityShifted,\n                            shiftPossible: response.liabilityShiftPossible\n                        };\n\n                        if (liability.shifted || !liability.shifted && !liability.shiftPossible) {\n                            context.paymentMethodNonce = response.nonce;\n                            state.resolve();\n                        } else {\n                            state.reject($t('Please try again with another form of payment.'));\n                        }\n                    });\n                });\n            };\n\n            if (!clientInstance) {\n                require(['PayPal_Braintree/js/view/payment/method-renderer/cc-form'], function(c) {\n                    let config = c.extend({\n                        defaults: {\n                            clientConfig: {\n                                onReady: function() {}\n                            }\n                        }\n                    });\n                    braintree.setConfig(config.defaults.clientConfig);\n                    braintree.setup(setup3d);\n                });\n            } else {\n                setup3d(clientInstance);\n            }\n\n            return state.promise();\n        },\n\n        /**\n         * Check minimal amount for 3d secure activation\n         * @param {Number} amount\n         * @returns {Boolean}\n         */\n        isAmountAvailable: function (amount) {\n            amount = parseFloat(amount.toString());\n\n            return amount >= this.config.thresholdAmount;\n        },\n\n        /**\n         * Check if current country is available for 3d secure\n         * @param {String} countryId\n         * @returns {Boolean}\n         */\n        isCountryAvailable: function (countryId) {\n            let key,\n                specificCountries = this.config.specificCountries;\n\n            // all countries are available\n            if (!specificCountries.length) {\n                return true;\n            }\n\n            for (key in specificCountries) {\n                if (countryId === specificCountries[key]) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        /**\n         * @returns {Boolean}\n         */\n        getChallengeRequested: function () {\n            return this.config.challengeRequested;\n        }\n    };\n});\n","PayPal_Braintree/js/view/payment/venmo.js":"define(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/payment/renderer-list'\n    ],\n    function (\n        Component,\n        rendererList\n    ) {\n        'use strict';\n\n        rendererList.push(\n            {\n                type: 'braintree_venmo',\n                component: 'PayPal_Braintree/js/view/payment/method-renderer/venmo'\n            }\n        );\n\n        return Component.extend({});\n    }\n);\n","PayPal_Braintree/js/view/payment/method-renderer/lpm.js":"define(\n    [\n        'Magento_Checkout/js/view/payment/default',\n        'ko',\n        'jquery',\n        'braintree',\n        'braintreeLpm',\n        'PayPal_Braintree/js/form-builder',\n        'Magento_Ui/js/model/messageList',\n        'Magento_Checkout/js/action/select-billing-address',\n        'Magento_Checkout/js/model/full-screen-loader',\n        'Magento_Checkout/js/model/quote',\n        'Magento_Checkout/js/model/payment/additional-validators',\n        'mage/url',\n        'mage/translate'\n    ],\n    function (\n        Component,\n        ko,\n        $,\n        braintree,\n        lpm,\n        formBuilder,\n        messageList,\n        selectBillingAddress,\n        fullScreenLoader,\n        quote,\n        additionalValidators,\n        url,\n        $t\n    ) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                code: 'braintree_local_payment',\n                paymentMethodsAvailable: ko.observable(false),\n                paymentMethodNonce: null,\n                template: 'PayPal_Braintree/payment/lpm'\n            },\n\n            clickPaymentBtn: function (method) {\n                var self = this;\n\n                if (additionalValidators.validate()) {\n                    fullScreenLoader.startLoader();\n\n                    braintree.create({\n                        authorization: self.getClientToken()\n                    }, function (clientError, clientInstance) {\n                        if (clientError) {\n                            self.setErrorMsg($t('Unable to initialize Braintree Client.'));\n                            fullScreenLoader.stopLoader();\n                            return;\n                        }\n\n                        lpm.create({\n                            client: clientInstance,\n                            merchantAccountId: self.getMerchantAccountId()\n                        }, function (lpmError, lpmInstance) {\n                            if (lpmError) {\n                                self.setErrorMsg(lpmError);\n                                fullScreenLoader.stopLoader();\n                                return;\n                            }\n\n                            lpmInstance.startPayment({\n                                amount: self.getAmount(),\n                                currencyCode: self.getCurrencyCode(),\n                                email: self.getCustomerDetails().email,\n                                phone: self.getCustomerDetails().phone,\n                                givenName: self.getCustomerDetails().firstName,\n                                surname: self.getCustomerDetails().lastName,\n                                shippingAddressRequired: !quote.isVirtual(),\n                                address: self.getAddress(),\n                                paymentType: method,\n                                onPaymentStart: function (data, start) {\n                                    start();\n                                },\n                                // This is a required option, however it will apparently never be used in the current payment flow.\n                                // Therefore, both values are set to allow the payment flow to continute, rather than erroring out.\n                                fallback: {\n                                    url: 'N/A',\n                                    buttonText: 'N/A'\n                                }\n                            }, function (startPaymentError, payload) {\n                                fullScreenLoader.stopLoader();\n                                if (startPaymentError) {\n                                    switch (startPaymentError.code) {\n                                        case 'LOCAL_PAYMENT_POPUP_CLOSED':\n                                            self.setErrorMsg($t('Local Payment popup was closed unexpectedly.'));\n                                            break;\n                                        case 'LOCAL_PAYMENT_WINDOW_OPEN_FAILED':\n                                            self.setErrorMsg($t('Local Payment popup failed to open.'));\n                                            break;\n                                        case 'LOCAL_PAYMENT_WINDOW_CLOSED':\n                                            self.setErrorMsg($t('Local Payment popup was closed. Payment cancelled.'));\n                                            break;\n                                        default:\n                                            self.setErrorMsg('Error! ' + startPaymentError);\n                                            break;\n                                    }\n                                } else {\n                                    // Send the nonce to your server to create a transaction\n                                    self.setPaymentMethodNonce(payload.nonce);\n                                    self.placeOrder();\n                                }\n                            });\n                        });\n                    });\n                }\n            },\n\n            getAddress: function () {\n                var shippingAddress = quote.shippingAddress();\n\n                if (quote.isVirtual()) {\n                    return {\n                        countryCode: shippingAddress.countryId\n                    }\n                }\n\n                return {\n                    streetAddress: shippingAddress.street[0],\n                    extendedAddress: shippingAddress.street[1],\n                    locality: shippingAddress.city,\n                    postalCode: shippingAddress.postcode,\n                    region: shippingAddress.region,\n                    countryCode: shippingAddress.countryId\n                }\n            },\n\n            getAmount: function () {\n                return quote.totals()['base_grand_total'].toString();\n            },\n\n            getBillingAddress: function () {\n                return quote.billingAddress();\n            },\n\n            getClientToken: function () {\n                return window.checkoutConfig.payment[this.getCode()].clientToken;\n            },\n\n            getCode: function () {\n                return this.code;\n            },\n\n            getCurrencyCode: function () {\n                return quote.totals()['base_currency_code'];\n            },\n\n            getCustomerDetails: function () {\n                var billingAddress = quote.billingAddress();\n                return {\n                    firstName: billingAddress.firstname,\n                    lastName: billingAddress.lastname,\n                    phone: billingAddress.telephone,\n                    email: typeof quote.guestEmail === 'string' ? quote.guestEmail : window.checkoutConfig.customerData.email\n                }\n            },\n\n            getData: function () {\n                let data = {\n                    'method': this.getCode(),\n                    'additional_data': {\n                        'payment_method_nonce': this.paymentMethodNonce,\n                    }\n                };\n\n                data['additional_data'] = _.extend(data['additional_data'], this.additionalData);\n\n                return data;\n            },\n\n            getMerchantAccountId: function () {\n                return window.checkoutConfig.payment[this.getCode()].merchantAccountId;\n            },\n\n            getPaymentMethod: function (method) {\n                var methods = this.getPaymentMethods();\n\n                for (var i = 0; i < methods.length; i++) {\n                    if (methods[i].method === method) {\n                        return methods[i]\n                    }\n                }\n            },\n\n            getPaymentMethods: function () {\n                return window.checkoutConfig.payment[this.getCode()].allowedMethods;\n            },\n\n            getPaymentMarkSrc: function () {\n                return window.checkoutConfig.payment[this.getCode()].paymentIcons;\n            },\n\n            getTitle: function () {\n                return window.checkoutConfig.payment[this.getCode()].title;\n            },\n\n            initialize: function () {\n                this._super();\n                return this;\n            },\n\n            isActive: function () {\n                var address = quote.billingAddress() || quote.shippingAddress();\n                var methods = this.getPaymentMethods();\n\n                for (var i = 0; i < methods.length; i++) {\n                    if (methods[i].countries.includes(address.countryId)) {\n                        return true;\n                    }\n                }\n\n                return false;\n            },\n\n            isValidCountryAndCurrency: function (method) {\n                var address = quote.billingAddress();\n\n                if (!address) {\n                    this.paymentMethodsAvailable(false);\n                    return false;\n                }\n\n                var countryId = address.countryId;\n                var quoteCurrency = quote.totals()['base_currency_code'];\n                var paymentMethodDetails = this.getPaymentMethod(method);\n\n                if ((countryId !== 'GB' && paymentMethodDetails.countries.includes(countryId) && (quoteCurrency === 'EUR' || quoteCurrency === 'PLN')) || (countryId === 'GB' && paymentMethodDetails.countries.includes(countryId) && quoteCurrency === 'GBP')) {\n                    this.paymentMethodsAvailable(true);\n                    return true;\n                }\n\n                return false;\n            },\n\n            setErrorMsg: function (message) {\n                messageList.addErrorMessage({\n                    message: message\n                });\n            },\n\n            setPaymentMethodNonce: function (nonce) {\n                this.paymentMethodNonce = nonce;\n            },\n\n            validateForm: function (form) {\n                return $(form).validation() && $(form).validation('isValid');\n            }\n        });\n    }\n);\n","PayPal_Braintree/js/view/payment/method-renderer/cc-form.js":"/**\n * Copyright 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'underscore',\n        'jquery',\n        'Magento_Payment/js/view/payment/cc-form',\n        'Magento_Checkout/js/model/quote',\n        'PayPal_Braintree/js/view/payment/adapter',\n        'mage/translate',\n        'PayPal_Braintree/js/validator',\n        'PayPal_Braintree/js/view/payment/validator-handler',\n        'Magento_Checkout/js/model/full-screen-loader'\n    ],\n    function (\n        _,\n        $,\n        Component,\n        quote,\n        braintree,\n        $t,\n        validator,\n        validatorManager,\n        fullScreenLoader\n    ) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                active: false,\n                braintreeClient: null,\n                braintreeDeviceData: null,\n                paymentMethodNonce: null,\n                lastBillingAddress: null,\n                validatorManager: validatorManager,\n                code: 'braintree',\n                isProcessing: false,\n                creditCardBin: null,\n\n                /**\n                 * Additional payment data\n                 *\n                 * {Object}\n                 */\n                additionalData: {},\n\n                /**\n                 * Braintree client configuration\n                 *\n                 * {Object}\n                 */\n                clientConfig: {\n                    onReady: function (context) {\n                        context.setupHostedFields();\n                    },\n\n                    /**\n                     * Triggers on payment nonce receive\n                     * @param {Object} response\n                     */\n                    onPaymentMethodReceived: function (response) {\n                        this.handleNonce(response);\n                        this.isProcessing = false;\n                    },\n\n                    /**\n                     * Allow a new nonce to be generated\n                     */\n                    onPaymentMethodError: function() {\n                        this.isProcessing = false;\n                    },\n\n                    /**\n                     * Device data initialization\n                     * @param {String} deviceData\n                     */\n                    onDeviceDataReceived: function (deviceData) {\n                        this.additionalData['device_data'] = deviceData;\n                    },\n\n                    /**\n                     * After Braintree instance initialization\n                     */\n                    onInstanceReady: function () {},\n\n                    /**\n                     * Triggers on any Braintree error\n                     * @param {Object} response\n                     */\n                    onError: function (response) {\n                        this.isProcessing = false;\n                        braintree.showError($t('Payment ' + this.getTitle() + ' can\\'t be initialized'));\n                        throw response.message;\n                    },\n\n                    /**\n                     * Triggers when customer click \"Cancel\"\n                     */\n                    onCancelled: function () {\n                        this.paymentMethodNonce = null;\n                        this.isProcessing = false;\n                    }\n                },\n                imports: {\n                    onActiveChange: 'active'\n                }\n            },\n\n            /**\n             * Set list of observable attributes\n             *\n             * @returns {exports.initObservable}\n             */\n            initObservable: function () {\n                validator.setConfig(window.checkoutConfig.payment[this.getCode()]);\n                this._super()\n                    .observe(['active']);\n                this.validatorManager.initialize();\n                this.initClientConfig();\n\n                return this;\n            },\n\n            /**\n             * Get payment name\n             *\n             * @returns {String}\n             */\n            getCode: function () {\n                return this.code;\n            },\n\n            /**\n             * Check if payment is active\n             *\n             * @returns {Boolean}\n             */\n            isActive: function () {\n                let active = this.getCode() === this.isChecked();\n                this.active(active);\n\n                return active;\n            },\n\n            /**\n             * Triggers when payment method change\n             * @param {Boolean} isActive\n             */\n            onActiveChange: function (isActive) {\n                if (!isActive) {\n                    return;\n                }\n\n                this.initBraintree();\n            },\n\n            /**\n             * Init config\n             */\n            initClientConfig: function () {\n                _.each(this.clientConfig, function (fn, name) {\n                    if (typeof fn === 'function') {\n                        this.clientConfig[name] = fn.bind(this);\n                    }\n                }, this);\n            },\n\n            /**\n             * Init Braintree configuration\n             */\n            initBraintree: function () {\n                let intervalId = setInterval(function () {\n                    // stop loader when frame will be loaded\n                    if ($('#braintree-hosted-field-number').length) {\n                        clearInterval(intervalId);\n                        fullScreenLoader.stopLoader(true);\n                    }\n                }, 500);\n\n                if (braintree.checkout) {\n                    braintree.checkout.teardown(function () {\n                        braintree.checkout = null;\n                    });\n                }\n\n                fullScreenLoader.startLoader();\n                braintree.setConfig(this.clientConfig);\n                braintree.setup();\n            },\n\n            /**\n             * Get full selector name\n             *\n             * @param {String} field\n             * @returns {String}\n             */\n            getSelector: function (field) {\n                return '#' + this.getCode() + '_' + field;\n            },\n\n            /**\n             * Get list of available CC types\n             *\n             * @returns {Object}\n             */\n            getCcAvailableTypes: function () {\n                let availableTypes = validator.getAvailableCardTypes(),\n                    billingAddress = quote.billingAddress(),\n                    billingCountryId;\n\n                this.lastBillingAddress = quote.shippingAddress();\n\n                if (!billingAddress) {\n                    billingAddress = this.lastBillingAddress;\n                }\n\n                billingCountryId = billingAddress.countryId;\n\n                if (billingCountryId && validator.getCountrySpecificCardTypes(billingCountryId)) {\n                    return validator.collectTypes(\n                        availableTypes,\n                        validator.getCountrySpecificCardTypes(billingCountryId)\n                    );\n                }\n\n                return availableTypes;\n            },\n\n            /**\n             * @returns {String}\n             */\n            getEnvironment: function () {\n                return window.checkoutConfig.payment[this.getCode()].environment;\n            },\n\n            /**\n             * Get data\n             *\n             * @returns {Object}\n             */\n            getData: function () {\n                let data = {\n                    'method': this.getCode(),\n                    'additional_data': {\n                        'payment_method_nonce': this.paymentMethodNonce,\n                        'g-recaptcha-response' : $(\"#token-grecaptcha-braintree\").val()\n                    }\n                };\n\n                data['additional_data'] = _.extend(data['additional_data'], this.additionalData);\n\n                return data;\n            },\n\n            /**\n             * Set payment nonce\n             * @param {String} paymentMethodNonce\n             */\n            setPaymentMethodNonce: function (paymentMethodNonce) {\n                this.paymentMethodNonce = paymentMethodNonce;\n            },\n\n            /**\n             * Set credit card bin\n             * @param creditCardBin\n             */\n            setCreditCardBin: function (creditCardBin) {\n                this.creditCardBin = creditCardBin;\n            },\n\n            /**\n             * Prepare payload to place order\n             * @param {Object} payload\n             */\n            handleNonce: function (payload) {\n                let self = this;\n\n                this.setPaymentMethodNonce(payload.nonce);\n                this.setCreditCardBin(payload.details.bin);\n\n                // place order on success validation\n                self.validatorManager.validate(self, function () {\n                    return self.placeOrder('parent');\n                }, function() {\n                    self.isProcessing = false;\n                    self.paymentMethodNonce = null;\n                    self.creditCardBin = null;\n                });\n            },\n\n            /**\n             * Action to place order\n             * @param {String} key\n             */\n            placeOrder: function (key) {\n                if (key) {\n                    return this._super();\n                }\n\n                if (this.isProcessing) {\n                    return false;\n                } else {\n                    this.isProcessing = true;\n                }\n\n                braintree.tokenizeHostedFields();\n                return false;\n            },\n\n            /**\n             * Get payment icons\n             * @param {String} type\n             * @returns {Boolean}\n             */\n            getIcons: function (type) {\n                return window.checkoutConfig.payment.braintree.icons.hasOwnProperty(type) ?\n                    window.checkoutConfig.payment.braintree.icons[type]\n                    : false;\n            },\n        });\n    }\n);\n","PayPal_Braintree/js/view/payment/method-renderer/paypal.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'underscore',\n    'Magento_Checkout/js/view/payment/default',\n    'braintree',\n    'braintreeCheckoutPayPalAdapter',\n    'braintreePayPalCheckout',\n    'Magento_Checkout/js/model/quote',\n    'Magento_Checkout/js/model/full-screen-loader',\n    'Magento_Checkout/js/model/payment/additional-validators',\n    'Magento_Checkout/js/model/step-navigator',\n    'Magento_Vault/js/view/payment/vault-enabler',\n    'Magento_Checkout/js/action/create-billing-address',\n    'Magento_Checkout/js/action/select-billing-address',\n    'Magento_CheckoutAgreements/js/view/checkout-agreements',\n    'mage/translate'\n], function (\n    $,\n    _,\n    Component,\n    braintree,\n    Braintree,\n    paypalCheckout,\n    quote,\n    fullScreenLoader,\n    additionalValidators,\n    stepNavigator,\n    VaultEnabler,\n    createBillingAddress,\n    selectBillingAddress,\n    checkoutAgreements,\n    $t\n) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: 'PayPal_Braintree/payment/paypal',\n            code: 'braintree_paypal',\n            active: false,\n            paypalInstance: null,\n            paymentMethodNonce: null,\n            grandTotalAmount: null,\n            isReviewRequired: false,\n            customerEmail: null,\n\n            /**\n             * Additional payment data\n             *\n             * {Object}\n             */\n            additionalData: {},\n\n            /**\n             * {Array}\n             */\n            lineItemsArray: [\n                'name',\n                'kind',\n                'quantity',\n                'unitAmount',\n                'unitTaxAmount',\n                'productCode',\n                'description'\n            ],\n\n            /**\n             * PayPal client configuration\n             * {Object}\n             */\n            clientConfig: {\n                offerCredit: false,\n                offerCreditOnly: false,\n                dataCollector: {\n                    paypal: true\n                },\n\n                buttonPayPalId: 'braintree_paypal_placeholder',\n                buttonCreditId: 'braintree_paypal_credit_placeholder',\n                buttonPaylaterId: 'braintree_paypal_paylater_placeholder',\n\n                onDeviceDataReceived: function (deviceData) {\n                    this.additionalData['device_data'] = deviceData;\n                },\n\n                /**\n                 * Triggers when widget is loaded\n                 * @param {Object} context\n                 */\n                onReady: function (context) {\n                    this.setupPayPal();\n                },\n\n                /**\n                 * Triggers on payment nonce receive\n                 * @param {Object} response\n                 */\n                onPaymentMethodReceived: function (response) {\n                    this.beforePlaceOrder(response);\n                }\n            },\n            imports: {\n                onActiveChange: 'active'\n            }\n        },\n\n        /**\n         * Set list of observable attributes\n         * @returns {exports.initObservable}\n         */\n        initObservable: function () {\n            var self = this;\n\n            this._super()\n                .observe(['active', 'isReviewRequired', 'customerEmail']);\n\n            window.addEventListener('hashchange', function (e) {\n                var methodCode = quote.paymentMethod();\n\n                if (methodCode === 'braintree_paypal' || methodCode === 'braintree_paypal_vault') {\n                    if (e.newURL.indexOf('payment') > 0 && self.grandTotalAmount !== null) {\n                        self.reInitPayPal();\n                    }\n                }\n            });\n\n            quote.paymentMethod.subscribe(function (value) {\n                var methodCode = value;\n\n                if (methodCode === 'braintree_paypal' || methodCode === 'braintree_paypal_vault') {\n                    self.reInitPayPal();\n                }\n            });\n\n            this.vaultEnabler = new VaultEnabler();\n            this.vaultEnabler.setPaymentCode(this.getVaultCode());\n            this.vaultEnabler.isActivePaymentTokenEnabler.subscribe(function () {\n                self.onVaultPaymentTokenEnablerChange();\n            });\n\n            this.grandTotalAmount = quote.totals()['base_grand_total'];\n\n            quote.totals.subscribe(function () {\n                if (self.grandTotalAmount !== quote.totals()['base_grand_total']) {\n                    self.grandTotalAmount = quote.totals()['base_grand_total'];\n                    var methodCode = quote.paymentMethod();\n\n                    if (methodCode && (methodCode.method === 'braintree_paypal' || methodCode.method === 'braintree_paypal_vault')) {\n                        self.reInitPayPal();\n                    }\n                }\n            });\n\n            // for each component initialization need update property\n            this.isReviewRequired(false);\n            this.initClientConfig();\n\n            return this;\n        },\n\n        /**\n         * Get payment name\n         *\n         * @returns {String}\n         */\n        getCode: function () {\n            return this.code;\n        },\n\n        /**\n         * Get payment title\n         *\n         * @returns {String}\n         */\n        getTitle: function () {\n            return window.checkoutConfig.payment[this.getCode()].title;\n        },\n\n        /**\n         * Check if payment is active\n         *\n         * @returns {Boolean}\n         */\n        isActive: function () {\n            var active = this.getCode() === this.isChecked();\n\n            this.active(active);\n\n            return active;\n        },\n\n        /**\n         * Triggers when payment method change\n         * @param {Boolean} isActive\n         */\n        onActiveChange: function (isActive) {\n            if (!isActive) {\n                return;\n            }\n\n            // need always re-init Braintree with PayPal configuration\n            this.reInitPayPal();\n        },\n\n        /**\n         * Init config\n         */\n        initClientConfig: function () {\n            this.clientConfig = _.extend(this.clientConfig, this.getPayPalConfig());\n\n            _.each(this.clientConfig, function (fn, name) {\n                if (typeof fn === 'function') {\n                    this.clientConfig[name] = fn.bind(this);\n                }\n            }, this);\n        },\n\n        /**\n         * Set payment nonce\n         * @param {String} paymentMethodNonce\n         */\n        setPaymentMethodNonce: function (paymentMethodNonce) {\n            this.paymentMethodNonce = paymentMethodNonce;\n        },\n\n        /**\n         * Update quote billing address\n         * @param {Object}customer\n         * @param {Object}address\n         */\n        setBillingAddress: function (customer, address) {\n            var billingAddress = {\n                street: [address.line1],\n                city: address.city,\n                postcode: address.postalCode,\n                countryId: address.countryCode,\n                email: customer.email,\n                firstname: customer.firstName,\n                lastname: customer.lastName,\n                telephone: typeof customer.phone !== 'undefined' ? customer.phone : '00000000000'\n            };\n\n            billingAddress['region_code'] = typeof address.state === 'string' ? address.state : '';\n            billingAddress = createBillingAddress(billingAddress);\n            quote.billingAddress(billingAddress);\n        },\n\n        /**\n         * Prepare data to place order\n         * @param {Object} data\n         */\n        beforePlaceOrder: function (data) {\n            this.setPaymentMethodNonce(data.nonce);\n            this.customerEmail(data.details.email);\n            if (quote.isVirtual()) {\n                this.isReviewRequired(true);\n            } else {\n                if (this.isRequiredBillingAddress() === '1' || quote.billingAddress() === null) {\n                    if (typeof data.details.billingAddress !== 'undefined') {\n                        this.setBillingAddress(data.details, data.details.billingAddress);\n                    } else {\n                        this.setBillingAddress(data.details, data.details.shippingAddress);\n                    }\n                } else {\n                    if (quote.shippingAddress() === quote.billingAddress()) {\n                        selectBillingAddress(quote.shippingAddress());\n                    } else {\n                        selectBillingAddress(quote.billingAddress());\n                    }\n                }\n            }\n            this.placeOrder();\n        },\n\n        /**\n         * Re-init PayPal Auth Flow\n         */\n        reInitPayPal: function () {\n            this.disableButton();\n            this.clientConfig.paypal.amount = parseFloat(this.grandTotalAmount).toFixed(2);\n\n            if (!quote.isVirtual()) {\n                this.clientConfig.paypal.enableShippingAddress = true;\n                this.clientConfig.paypal.shippingAddressEditable = false;\n                this.clientConfig.paypal.shippingAddressOverride = this.getShippingAddress();\n            }\n            // Send Line Items\n            this.clientConfig.paypal.lineItems = this.getLineItems();\n\n            Braintree.setConfig(this.clientConfig);\n\n            if (Braintree.getPayPalInstance()) {\n                Braintree.getPayPalInstance().teardown(function () {\n                    Braintree.setup();\n                }.bind(this));\n                Braintree.setPayPalInstance(null);\n            } else {\n                Braintree.setup();\n                this.enableButton();\n            }\n        },\n\n        /**\n         * Setup PayPal instance\n         */\n        setupPayPal: function () {\n            var self = this;\n\n            if (Braintree.config.paypalInstance) {\n                fullScreenLoader.stopLoader(true);\n                return;\n            }\n\n            paypalCheckout.create({\n                client: Braintree.clientInstance\n            }, function (createErr, paypalCheckoutInstance) {\n                if (createErr) {\n                    Braintree.showError($t(\"PayPal Checkout could not be initialized. Please contact the store owner.\"));\n                    console.error('paypalCheckout error', createErr);\n                    return;\n                }\n                let quoteObj = quote.totals();\n\n                var configSDK = {\n                    components: 'buttons,messages,funding-eligibility',\n                    \"enable-funding\": \"paylater\",\n                    currency: quoteObj['base_currency_code']\n                };\n                var merchantCountry = window.checkoutConfig.payment['braintree_paypal'].merchantCountry;\n                if (Braintree.getEnvironment() == 'sandbox' && merchantCountry != null) {\n                    configSDK[\"buyer-country\"] = merchantCountry;\n                }\n                paypalCheckoutInstance.loadPayPalSDK(configSDK, function () {\n                    this.loadPayPalButton(paypalCheckoutInstance, 'paypal');\n                    if (this.isCreditEnabled()) {\n                        this.loadPayPalButton(paypalCheckoutInstance, 'credit');\n                    }\n                    if (this.isPaylaterEnabled()) {\n                        this.loadPayPalButton(paypalCheckoutInstance, 'paylater');\n                    }\n\n                }.bind(this));\n            }.bind(this));\n        },\n\n        loadPayPalButton: function (paypalCheckoutInstance, funding) {\n            var paypalPayment = Braintree.config.paypal,\n                onPaymentMethodReceived = Braintree.config.onPaymentMethodReceived;\n            var style = {\n                color: Braintree.getColor(funding),\n                shape: Braintree.getShape(funding),\n                size: Braintree.getSize(funding),\n                label: Braintree.getLabel(funding)\n            };\n\n            if (Braintree.getBranding()) {\n                style.branding = Braintree.getBranding();\n            }\n            if (Braintree.getFundingIcons()) {\n                style.fundingicons = Braintree.getFundingIcons();\n            }\n\n            if (funding === 'credit') {\n                Braintree.config.buttonId = this.clientConfig.buttonCreditId;\n            } else if (funding === 'paylater') {\n                Braintree.config.buttonId = this.clientConfig.buttonPaylaterId;\n            } else {\n                Braintree.config.buttonId = this.clientConfig.buttonPayPalId;\n            }\n            // Render\n            Braintree.config.paypalInstance = paypalCheckoutInstance;\n            var events = Braintree.events;\n            $('#' + Braintree.config.buttonId).html('');\n\n            var button = paypal.Buttons({\n                fundingSource: funding,\n                env: Braintree.getEnvironment(),\n                style: style,\n                commit: true,\n                locale: Braintree.config.paypal.locale,\n\n                onInit: function (data, actions) {\n                    var agreements = checkoutAgreements().agreements,\n                        shouldDisableActions = false;\n\n                    actions.disable();\n\n                    _.each(agreements, function (item, index) {\n                        if (checkoutAgreements().isAgreementRequired(item)) {\n                            var paymentMethodCode = quote.paymentMethod().method,\n                                inputId = '#agreement_' + paymentMethodCode + '_' + item.agreementId,\n                                inputEl = document.querySelector(inputId);\n\n\n                            if (!inputEl.checked) {\n                                shouldDisableActions = true;\n                            }\n\n                            inputEl.addEventListener('change', function (event) {\n                                if (additionalValidators.validate()) {\n                                    actions.enable();\n                                } else {\n                                    actions.disable();\n                                }\n                            });\n                        }\n                    });\n\n                    if (!shouldDisableActions) {\n                        actions.enable();\n                    }\n                },\n\n                createOrder: function () {\n                    return paypalCheckoutInstance.createPayment(paypalPayment).catch(function (err) {\n                        throw err.details.originalError.details.originalError.paymentResource;\n                    });\n                },\n\n                onCancel: function (data) {\n                    console.log('checkout.js payment cancelled', JSON.stringify(data, 0, 2));\n\n                    if (typeof events.onCancel === 'function') {\n                        events.onCancel();\n                    }\n                },\n\n                onError: function (err) {\n                    if (err.errorName === 'VALIDATION_ERROR' && err.errorMessage.indexOf('Value is invalid') !== -1) {\n                        Braintree.showError($t('Address failed validation. Please check and confirm your City, State, and Postal Code'));\n                    } else {\n                        Braintree.showError($t(\"PayPal Checkout could not be initialized. Please contact the store owner.\"));\n                    }\n                    Braintree.config.paypalInstance = null;\n                    console.error('Paypal checkout.js error', err);\n\n                    if (typeof events.onError === 'function') {\n                        events.onError(err);\n                    }\n                }.bind(this),\n\n                onClick: function (data) {\n                    if (!quote.isVirtual()) {\n                        this.clientConfig.paypal.enableShippingAddress = true;\n                        this.clientConfig.paypal.shippingAddressEditable = false;\n                        this.clientConfig.paypal.shippingAddressOverride = this.getShippingAddress();\n                    }\n\n                    // To check term & conditions input checked - validate additional validators.\n                    if (!additionalValidators.validate()) {\n                        return false;\n                    }\n\n                    if (typeof events.onClick === 'function') {\n                        events.onClick(data);\n                    }\n                }.bind(this),\n\n                onApprove: function (data, actions) {\n                    return paypalCheckoutInstance.tokenizePayment(data)\n                        .then(function (payload) {\n                            onPaymentMethodReceived(payload);\n                        });\n                }\n\n            });\n            if (button.isEligible() && $('#' + Braintree.config.buttonId).length) {\n                button.render('#' + Braintree.config.buttonId).then(function () {\n                    Braintree.enableButton();\n                    if (typeof Braintree.config.onPaymentMethodError === 'function') {\n                        Braintree.config.onPaymentMethodError();\n                    }\n                }.bind(this)).then(function (data) {\n                    if (typeof events.onRender === 'function') {\n                        events.onRender(data);\n                    }\n                });\n            }\n        },\n\n        /**\n         * Get locale\n         * @returns {String}\n         */\n        getLocale: function () {\n            return window.checkoutConfig.payment[this.getCode()].locale;\n        },\n\n        /**\n         * Is Billing Address required from PayPal side\n         * @returns {exports.isRequiredBillingAddress|(function())|boolean}\n         */\n        isRequiredBillingAddress: function () {\n            return window.checkoutConfig.payment[this.getCode()].isRequiredBillingAddress;\n        },\n\n        /**\n         * Get configuration for PayPal\n         * @returns {Object}\n         */\n        getPayPalConfig: function () {\n            var totals = quote.totals(),\n                config = {},\n                isActiveVaultEnabler = this.isActiveVault();\n\n            config.paypal = {\n                flow: 'checkout',\n                amount: parseFloat(this.grandTotalAmount).toFixed(2),\n                currency: totals['base_currency_code'],\n                locale: this.getLocale(),\n\n                /**\n                 * Triggers on any Braintree error\n                 */\n                onError: function () {\n                    this.paymentMethodNonce = null;\n                },\n\n                /**\n                 * Triggers if browser doesn't support PayPal Checkout\n                 */\n                onUnsupported: function () {\n                    this.paymentMethodNonce = null;\n                }\n            };\n\n            if (isActiveVaultEnabler) {\n                config.paypal.requestBillingAgreement = true;\n            }\n\n            if (!quote.isVirtual()) {\n                config.paypal.enableShippingAddress = true;\n                config.paypal.shippingAddressEditable = false;\n                config.paypal.shippingAddressOverride = this.getShippingAddress();\n            }\n\n            if (this.getMerchantName()) {\n                config.paypal.displayName = this.getMerchantName();\n            }\n\n            return config;\n        },\n\n        /**\n         * Get shipping address\n         * @returns {Object}\n         */\n        getShippingAddress: function () {\n            var address = quote.shippingAddress();\n\n            return {\n                recipientName: address.firstname + ' ' + address.lastname,\n                line1: address.street[0],\n                line2: typeof address.street[2] === 'undefined' ? address.street[1] : address.street[1] + ' ' + address.street[2],\n                city: address.city,\n                countryCode: address.countryId,\n                postalCode: address.postcode,\n                state: address.regionCode\n            };\n        },\n\n        /**\n         * Get merchant name\n         * @returns {String}\n         */\n        getMerchantName: function () {\n            return window.checkoutConfig.payment[this.getCode()].merchantName;\n        },\n\n        /**\n         * Get data\n         * @returns {Object}\n         */\n        getData: function () {\n            var data = {\n                'method': this.getCode(),\n                'additional_data': {\n                    'payment_method_nonce': this.paymentMethodNonce\n                }\n            };\n\n            data['additional_data'] = _.extend(data['additional_data'], this.additionalData);\n\n            this.vaultEnabler.visitAdditionalData(data);\n\n            return data;\n        },\n\n        /**\n         * Returns payment acceptance mark image path\n         * @returns {String}\n         */\n        getPaymentAcceptanceMarkSrc: function () {\n            return window.checkoutConfig.payment[this.getCode()].paymentAcceptanceMarkSrc;\n        },\n\n        /**\n         * @returns {String}\n         */\n        getVaultCode: function () {\n            return window.checkoutConfig.payment[this.getCode()].vaultCode;\n        },\n\n        /**\n         * Check if need to skip order review\n         * @returns {Boolean}\n         */\n        isSkipOrderReview: function () {\n            return window.checkoutConfig.payment[this.getCode()].skipOrderReview;\n        },\n\n        /**\n         * Checks if vault is active\n         * @returns {Boolean}\n         */\n        isActiveVault: function () {\n            return this.vaultEnabler.isVaultEnabled() && this.vaultEnabler.isActivePaymentTokenEnabler();\n        },\n\n        /**\n         * Re-init PayPal Auth flow to use Vault\n         */\n        onVaultPaymentTokenEnablerChange: function () {\n            this.clientConfig.paypal.singleUse = !this.isActiveVault();\n            this.reInitPayPal();\n        },\n\n        /**\n         * Disable submit button\n         */\n        disableButton: function () {\n            // stop any previous shown loaders\n            fullScreenLoader.stopLoader(true);\n            fullScreenLoader.startLoader();\n            $('[data-button=\"place\"]').attr('disabled', 'disabled');\n        },\n\n        /**\n         * Enable submit button\n         */\n        enableButton: function () {\n            $('[data-button=\"place\"]').removeAttr('disabled');\n            fullScreenLoader.stopLoader(true);\n        },\n\n        /**\n         * Triggers when customer click \"Continue to PayPal\" button\n         */\n        payWithPayPal: function () {\n            if (additionalValidators.validate()) {\n                Braintree.checkout.paypal.initAuthFlow();\n            }\n        },\n\n        /**\n         * Get button id\n         * @returns {String}\n         */\n        getPayPalButtonId: function () {\n            return this.clientConfig.buttonPayPalId;\n        },\n\n        /**\n         * Get button id\n         * @returns {String}\n         */\n        getCreditButtonId: function () {\n            return this.clientConfig.buttonCreditId;\n        },\n\n        /**\n         * Get button id\n         * @returns {String}\n         */\n        getPaylaterButtonId: function () {\n            return this.clientConfig.buttonPaylaterId;\n        },\n\n        isPaylaterEnabled: function () {\n            return window.checkoutConfig.payment['braintree_paypal_paylater']['isActive'];\n        },\n\n        isPaylaterMessageEnabled: function () {\n            return window.checkoutConfig.payment['braintree_paypal_paylater']['isMessageActive'];\n        },\n\n        getGrandTotalAmount: function () {\n            return parseFloat(this.grandTotalAmount).toFixed(2);\n        },\n\n        isCreditEnabled: function () {\n            return window.checkoutConfig.payment['braintree_paypal_credit']['isActive'];\n        },\n\n        /**\n         * Get Message Layout\n         * @returns {*}\n         */\n        getMessagingLayout: function () {\n            return window.checkoutConfig.payment['braintree_paypal_paylater']['message']['layout'];\n        },\n\n        /**\n         * Get Message Logo\n         * @returns {*}\n         */\n        getMessagingLogo: function () {\n            return window.checkoutConfig.payment['braintree_paypal_paylater']['message']['logo'];\n        },\n\n        /**\n         * Get Message Logo position\n         * @returns {*}\n         */\n        getMessagingLogoPosition: function () {\n            return window.checkoutConfig.payment['braintree_paypal_paylater']['message']['logo_position'];\n        },\n\n        /**\n         * Get Message Text Color\n         * @returns {*}\n         */\n        getMessagingTextColor: function () {\n            return window.checkoutConfig.payment['braintree_paypal_paylater']['message']['text_color'];\n        },\n\n        /**\n         * Get line items\n         * @returns {Array}\n         */\n        getLineItems: function () {\n            let self = this;\n            let lineItems = [], storeCredit = 0, giftCardAccount = 0;\n            let giftWrappingItems = 0, giftWrappingOrder = 0;\n            $.each(quote.totals()['total_segments'], function(segmentsKey, segmentsItem) {\n                if (segmentsItem['code'] === 'customerbalance') {\n                    storeCredit = parseFloat(Math.abs(segmentsItem['value']).toString()).toFixed(2);\n                }\n                if (segmentsItem['code'] === 'giftcardaccount') {\n                    giftCardAccount = parseFloat(Math.abs(segmentsItem['value']).toString()).toFixed(2);\n                }\n                if (segmentsItem['code'] === 'giftwrapping') {\n                    let extensionAttributes = segmentsItem['extension_attributes'];\n                    giftWrappingOrder = extensionAttributes['gw_base_price'];\n                    giftWrappingItems = extensionAttributes['gw_items_base_price'];\n                }\n            });\n            if (this.canSendLineItems()) {\n                $.each(quote.getItems(), function(quoteItemKey, quoteItem) {\n                    if (quoteItem.parent_item_id !== null || 0.0 === quoteItem.price) {\n                        return true;\n                    }\n\n                    let itemName = self.replaceUnsupportedCharacters(quoteItem.name);\n                    let itemSku = self.replaceUnsupportedCharacters(quoteItem.sku);\n\n                    let description = '';\n                    let itemQty = parseFloat(quoteItem.qty);\n                    let itemUnitAmount = parseFloat(quoteItem.price);\n                    if (itemQty > Math.floor(itemQty) && itemQty < Math.ceil(itemQty)) {\n                        description = 'Item quantity is ' + itemQty.toFixed(2) + ' and per unit amount is ' + itemUnitAmount.toFixed(2);\n                        itemUnitAmount = parseFloat(itemQty * itemUnitAmount);\n                        itemQty = parseFloat('1');\n                    }\n\n                    let lineItemValues = [\n                        itemName,\n                        'debit',\n                        itemQty.toFixed(2),\n                        itemUnitAmount.toFixed(2),\n                        parseFloat(quoteItem.base_tax_amount).toFixed(2),\n                        itemSku,\n                        description\n                    ];\n\n                    let mappedLineItems = $.map(self.lineItemsArray, function(itemElement, itemIndex) {\n                        return [[\n                            self.lineItemsArray[itemIndex],\n                            lineItemValues[itemIndex]\n                        ]]\n                    });\n\n                    lineItems[quoteItemKey] = Object.fromEntries(mappedLineItems);\n                });\n\n                /**\n                 * Adds credit (refund or discount) kind as LineItems for the\n                 * PayPal transaction if discount amount is greater than 0(Zero)\n                 * as discountAmount lineItem field is not being used by PayPal.\n                 *\n                 * https://developer.paypal.com/braintree/docs/reference/response/transaction-line-item/php#discount_amount\n                 */\n                let baseDiscountAmount = parseFloat(Math.abs(quote.totals()['base_discount_amount']).toString()).toFixed(2);\n                if (baseDiscountAmount > 0) {\n                    let discountLineItem = {\n                        'name': 'Discount',\n                        'kind': 'credit',\n                        'quantity': 1.00,\n                        'unitAmount': baseDiscountAmount\n                    };\n\n                    lineItems = $.merge(lineItems, [discountLineItem]);\n                }\n\n                /**\n                 * Adds shipping as LineItems for the PayPal transaction\n                 * if shipping amount is greater than 0(Zero) to manage\n                 * the totals with client-side implementation as there is\n                 * no any field exist in the client-side implementation\n                 * to send the shipping amount to the Braintree.\n                 */\n                if (quote.totals()['base_shipping_amount'] > 0) {\n                    let shippingLineItem = {\n                        'name': 'Shipping',\n                        'kind': 'debit',\n                        'quantity': 1.00,\n                        'unitAmount': quote.totals()['base_shipping_amount']\n                    };\n\n                    lineItems = $.merge(lineItems, [shippingLineItem]);\n                }\n\n                /**\n                 * Adds credit (Store Credit) kind as LineItems for the\n                 * PayPal transaction if store credit is greater than 0(Zero)\n                 * to manage the totals with client-side implementation\n                 */\n                if (storeCredit > 0) {\n                    let storeCreditItem = {\n                        'name': 'Store Credit',\n                        'kind': 'credit',\n                        'quantity': 1.00,\n                        'unitAmount': storeCredit\n                    };\n\n                    lineItems = $.merge(lineItems, [storeCreditItem]);\n                }\n\n                /**\n                 * Adds Gift Wrapping for items as LineItems for the PayPal\n                 * transaction if it is greater than 0(Zero) to manage\n                 * the totals with client-side implementation\n                 */\n                if (giftWrappingItems > 0) {\n                    let gwItems = {\n                        'name': 'Gift Wrapping for Items',\n                        'kind': 'debit',\n                        'quantity': 1.00,\n                        'unitAmount': giftWrappingItems\n                    };\n\n                    lineItems = $.merge(lineItems, [gwItems]);\n                }\n\n                /**\n                 * Adds Gift Wrapping for order as LineItems for the PayPal\n                 * transaction if it is greater than 0(Zero) to manage\n                 * the totals with client-side implementation\n                 */\n                if (giftWrappingOrder > 0) {\n                    let gwOrderItem = {\n                        'name': 'Gift Wrapping for Order',\n                        'kind': 'debit',\n                        'quantity': 1.00,\n                        'unitAmount': giftWrappingOrder\n                    };\n\n                    lineItems = $.merge(lineItems, [gwOrderItem]);\n                }\n\n                /**\n                 * Adds Gift Cards as credit LineItems for the PayPal\n                 * transaction if it is greater than 0(Zero) to manage\n                 * the totals with client-side implementation\n                 */\n                if (giftCardAccount > 0) {\n                    let giftCardItem = {\n                        'name': 'Gift Cards',\n                        'kind': 'credit',\n                        'quantity': 1.00,\n                        'unitAmount': giftCardAccount\n                    };\n\n                    lineItems = $.merge(lineItems, [giftCardItem]);\n                }\n\n                if (lineItems.length >= 250) {\n                    lineItems = [];\n                }\n            }\n            return lineItems;\n        },\n\n        /**\n         * Regex to replace all unsupported characters.\n         *\n         * @param str\n         */\n        replaceUnsupportedCharacters: function (str) {\n            str.replace('/[^a-zA-Z0-9\\s\\-.\\']/', '');\n            return str.substr(0, 127);\n        },\n\n        /**\n         * Can send line items\n         *\n         * @returns {Boolean}\n         */\n        canSendLineItems: function () {\n            return window.checkoutConfig.payment[this.getCode()].canSendLineItems;\n        }\n    });\n});\n","PayPal_Braintree/js/view/payment/method-renderer/ach.js":"define(\n    [\n        'Magento_Checkout/js/view/payment/default',\n        'ko',\n        'jquery',\n        'braintree',\n        'braintreeDataCollector',\n        'braintreeAch',\n        'PayPal_Braintree/js/form-builder',\n        'Magento_Ui/js/model/messageList',\n        'Magento_Checkout/js/action/select-billing-address',\n        'Magento_Checkout/js/model/full-screen-loader',\n        'Magento_Checkout/js/model/quote',\n        'mage/translate'\n    ],\n    function (\n        Component,\n        ko,\n        $,\n        braintree,\n        dataCollector,\n        ach,\n        formBuilder,\n        messageList,\n        selectBillingAddress,\n        fullScreenLoader,\n        quote,\n        $t\n    ) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                deviceData: null,\n                paymentMethodNonce: null,\n                template: 'PayPal_Braintree/payment/ach',\n                achInstance: null,\n                routingNumber: ko.observable(\"\"),\n                accountNumber: ko.observable(\"\"),\n                accountType: ko.observable(\"checking\"),\n                ownershipType: ko.observable(\"personal\"),\n                firstName: ko.observable(\"\"),\n                lastName: ko.observable(\"\"),\n                businessName: ko.observable(\"\"),\n                hasAuthorization: ko.observable(false),\n                business: ko.observable(false), // for ownership type\n                personal: ko.observable(true) // for ownership type\n            },\n\n            clickAchBtn: function () {\n                if (!this.validateForm('#' + this.getCode() + '-form')) {\n                    return;\n                }\n\n                fullScreenLoader.startLoader();\n\n                var self = this;\n\n                var billingAddress = quote.billingAddress();\n\n                let regionCode;\n\n                let bankDetails = {\n                    routingNumber: self.routingNumber(),\n                    accountNumber: self.accountNumber(),\n                    accountType: self.accountType(),\n                    ownershipType: self.ownershipType(),\n                    billingAddress: {\n                        streetAddress: billingAddress.street[0],\n                        extendedAddress: billingAddress.street[1],\n                        locality: billingAddress.city,\n                        region: billingAddress.regionCode,\n                        postalCode: billingAddress.postcode,\n                    }\n                };\n\n                if (bankDetails.ownershipType === 'personal') {\n                    bankDetails.firstName = self.firstName();\n                    bankDetails.lastName = self.lastName();\n                } else {\n                    bankDetails.businessName = self.businessName();\n                }\n\n                var mandateText = document.getElementById('braintree-ach-mandate').textContent;\n\n                // if no region code is available, lets find one!\n                if (typeof billingAddress.regionCode === 'undefined') {\n                    $.get('/rest/V1/directory/countries/' + billingAddress.countryId).done(function (data) {\n                        if (typeof data.available_regions !== 'undefined') {\n                            for (var i = 0; i < data.available_regions.length; ++i) {\n                                if (data.available_regions[i].id === billingAddress.regionId) {\n                                    regionCode = data.available_regions[i].code;\n                                    bankDetails.billingAddress.region = regionCode;\n                                    self.tokenizeAch(bankDetails, mandateText);\n                                }\n                            }\n                        } else {\n                            fullScreenLoader.stopLoader();\n                            self.tokenizeAch(bankDetails, mandateText);\n                        }\n                    }).fail(function() {\n                        fullScreenLoader.stopLoader();\n                    });\n                } else {\n                    self.tokenizeAch(bankDetails, mandateText);\n                }\n            },\n\n            tokenizeAch: function (bankDetails, mandateText) {\n                var self = this;\n                this.achInstance.tokenize({\n                    bankDetails: bankDetails,\n                    mandateText: mandateText\n                }, function (tokenizeErr, tokenizedPayload) {\n                    if (tokenizeErr) {\n                        self.setErrorMsg($t('There was an error with the provided bank details. Please check and try again.'));\n                        self.hasAuthorization(false);\n                    } else {\n                        fullScreenLoader.stopLoader();\n                        self.handleAchSuccess(tokenizedPayload);\n                    }\n                });\n            },\n\n            getClientToken: function () {\n                return window.checkoutConfig.payment[this.getCode()].clientToken;\n            },\n\n            getCode: function () {\n                return 'braintree_ach_direct_debit';\n            },\n\n            getStoreName: function () {\n                return window.checkoutConfig.payment[this.getCode()].storeName;\n            },\n\n            getData: function () {\n                let data = {\n                    'method': this.getCode(),\n                    'additional_data': {\n                        'payment_method_nonce': this.paymentMethodNonce,\n                    }\n                };\n\n                data['additional_data'] = _.extend(data['additional_data'], this.additionalData);\n\n                return data;\n            },\n\n            getTitle: function() {\n                return 'ACH Direct Debit';\n            },\n\n            handleAchSuccess: function (payload) {\n                this.setPaymentMethodNonce(payload.nonce);\n                this.placeOrder();\n            },\n\n            initialize: function () {\n                this._super();\n\n                var self = this;\n\n                braintree.create({\n                    authorization: self.getClientToken()\n                }, function (clientError, clientInstance) {\n                    if (clientError) {\n                        this.setErrorMsg($t('Unable to initialize Braintree Client.'));\n                        return;\n                    }\n\n                    ach.create({\n                        client: clientInstance\n                    }, function (achErr, achInstance) {\n                        if (achErr) {\n                            self.setErrorMsg($t('Error initializing ACH: %1').replace('%1', achErr));\n                            return;\n                        }\n\n                        self.setAchInstance(achInstance);\n                    });\n                });\n\n                return this;\n            },\n\n            isAllowed: function () {\n                return window.checkoutConfig.payment[this.getCode()].isAllowed;\n            },\n\n            changeOwnershipType: function (data, event) {\n                var self = this;\n                if (event.currentTarget.value === 'business') {\n                    self.business(true);\n                    self.personal(false);\n                } else {\n                    self.business(false);\n                    self.personal(true);\n                }\n            },\n\n            isBusiness: function () {\n                return this.business;\n            },\n\n            isPersonal: function () {\n                return this.personal;\n            },\n\n            setErrorMsg: function (message) {\n                messageList.addErrorMessage({\n                    message: message\n                });\n            },\n\n            setPaymentMethodNonce: function (nonce) {\n                this.paymentMethodNonce = nonce;\n            },\n\n            setAchInstance: function (instance) {\n                this.achInstance = instance;\n            },\n\n            validateForm: function (form) {\n                return $(form).validation() && $(form).validation('isValid');\n            }\n        });\n    }\n);\n","PayPal_Braintree/js/view/payment/method-renderer/hosted-fields.js":"/**\n * Copyright 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\n\ndefine([\n    'jquery',\n    'PayPal_Braintree/js/view/payment/method-renderer/cc-form',\n    'PayPal_Braintree/js/validator',\n    'Magento_Vault/js/view/payment/vault-enabler',\n    'Magento_Checkout/js/model/payment/additional-validators',\n    'mage/translate'\n], function ($, Component, validator, VaultEnabler, additionalValidators, $t) {\n    'use strict';\n\n    return Component.extend({\n\n        defaults: {\n            template: 'PayPal_Braintree/payment/form',\n            clientConfig: {\n\n                /**\n                 * {String}\n                 */\n                id: 'co-transparent-form-braintree'\n            },\n            isValidCardNumber: false,\n            isValidExpirationDate: false,\n            isValidCvvNumber: false,\n\n            onInstanceReady: function (instance) {\n                instance.on('validityChange', this.onValidityChange.bind(this));\n                instance.on('cardTypeChange', this.onCardTypeChange.bind(this));\n            }\n        },\n\n        /**\n         * @returns {exports.initialize}\n         */\n        initialize: function () {\n            this._super();\n            this.vaultEnabler = new VaultEnabler();\n            this.vaultEnabler.setPaymentCode(this.getVaultCode());\n\n            return this;\n        },\n\n        /**\n         * Init config\n         */\n        initClientConfig: function () {\n            this._super();\n\n            this.clientConfig.hostedFields = this.getHostedFields();\n            this.clientConfig.onInstanceReady = this.onInstanceReady.bind(this);\n        },\n\n        /**\n         * @returns {Object}\n         */\n        getData: function () {\n            var data = this._super();\n\n            this.vaultEnabler.visitAdditionalData(data);\n\n            return data;\n        },\n\n        /**\n         * @returns {Bool}\n         */\n        isVaultEnabled: function () {\n            return this.vaultEnabler.isVaultEnabled();\n        },\n\n        /**\n         * Get Braintree Hosted Fields\n         * @returns {Object}\n         */\n        getHostedFields: function () {\n            var self = this,\n                fields = {\n                    number: {\n                        selector: self.getSelector('cc_number'),\n                        placeholder: $t('4111 1111 1111 1111')\n                    },\n                    expirationDate: {\n                        selector: self.getSelector('expirationDate'),\n                        placeholder: $t('MM/YYYY')\n                    }\n                };\n\n            if (self.hasVerification()) {\n                fields.cvv = {\n                    selector: self.getSelector('cc_cid'),\n                    placeholder: $t('123')\n                };\n            }\n\n            return fields;\n        },\n\n        /**\n         * Triggers on Hosted Field changes\n         * @param {Object} event\n         * @returns {Boolean}\n         */\n        onValidityChange: function (event) {\n            // Handle a change in validation or card type\n            if (event.emittedBy === 'number') {\n                this.selectedCardType(null);\n\n                if (event.cards.length === 1) {\n                    this.isValidCardNumber = event.fields.number.isValid;\n                    this.selectedCardType(\n                        validator.getMageCardType(event.cards[0].type, this.getCcAvailableTypes())\n                    );\n                    this.validateCardType();\n                } else {\n                    this.isValidCardNumber = event.fields.number.isValid;\n                    this.validateCardType();\n                }\n            }\n\n            // Other field validations\n            if (event.emittedBy === 'expirationDate') {\n                this.isValidExpirationDate = event.fields.expirationDate.isValid;\n            }\n            if (event.emittedBy === 'cvv') {\n                this.isValidCvvNumber = event.fields.cvv.isValid;\n            }\n        },\n\n        /**\n         * Triggers on Hosted Field card type changes\n         * @param {Object} event\n         * @returns {Boolean}\n         */\n        onCardTypeChange: function (event) {\n            if (event.cards.length === 1) {\n                this.selectedCardType(\n                    validator.getMageCardType(event.cards[0].type, this.getCcAvailableTypes())\n                );\n            } else {\n                this.selectedCardType(null);\n            }\n        },\n\n        /**\n         * Toggle invalid class on selector\n         * @param selector\n         * @param state\n         * @returns {boolean}\n         */\n        validateField: function (selector, state) {\n            var $selector = $(this.getSelector(selector)),\n                invalidClass = 'braintree-hosted-fields-invalid';\n\n            if (state === true) {\n                $selector.removeClass(invalidClass);\n                return true;\n            }\n\n            $selector.addClass(invalidClass);\n            return false;\n        },\n\n        /**\n         * Validate current credit card type\n         * @returns {Boolean}\n         */\n        validateCardType: function () {\n            return this.validateField(\n                'cc_number',\n                (this.isValidCardNumber)\n            );\n        },\n\n        /**\n         * Validate current expiry date\n         * @returns {boolean}\n         */\n        validateExpirationDate: function () {\n            return this.validateField(\n                'expirationDate',\n                (this.isValidExpirationDate === true)\n            );\n        },\n\n        /**\n         * Validate current CVV field\n         * @returns {boolean}\n         */\n        validateCvvNumber: function () {\n            var self = this;\n\n            if (self.hasVerification() === false) {\n                return true;\n            }\n\n            return this.validateField(\n                'cc_cid',\n                (this.isValidCvvNumber === true)\n            );\n        },\n\n        /**\n         * Validate all fields\n         * @returns {boolean}\n         */\n        validateFormFields: function () {\n            return (this.validateCardType() && this.validateExpirationDate() && this.validateCvvNumber()) === true;\n        },\n\n        /**\n         * Trigger order placing\n         */\n        placeOrderClick: function () {\n            if (this.validateFormFields() && additionalValidators.validate()) {\n                this.placeOrder();\n            }\n        },\n        /**\n         * @returns {String}\n         */\n        getVaultCode: function () {\n            return window.checkoutConfig.payment[this.getCode()].ccVaultCode;\n        }\n    });\n});\n","PayPal_Braintree/js/view/payment/method-renderer/paypal-vault.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'underscore',\n    'Magento_Vault/js/view/payment/method-renderer/vault',\n    'Magento_Ui/js/model/messageList',\n    'Magento_Checkout/js/model/full-screen-loader'\n], function ($, _, VaultComponent, globalMessageList, fullScreenLoader) {\n    'use strict';\n\n    return VaultComponent.extend({\n        defaults: {\n            template: 'PayPal_Braintree/payment/paypal/vault',\n            additionalData: {}\n        },\n\n        /**\n         * Get PayPal payer email\n         * @returns {String}\n         */\n        getPayerEmail: function () {\n            return this.details.payerEmail;\n        },\n\n        /**\n         * Get type of payment\n         * @returns {String}\n         */\n        getPaymentIcon: function () {\n            return window.checkoutConfig.payment['braintree_paypal'].paymentIcon;\n        },\n\n        /**\n         * Place order\n         */\n        beforePlaceOrder: function () {\n            this.getPaymentMethodNonce();\n        },\n\n        /**\n         * Send request to get payment method nonce\n         */\n        getPaymentMethodNonce: function () {\n            var self = this;\n\n            fullScreenLoader.startLoader();\n            $.getJSON(self.nonceUrl, {\n                'public_hash': self.publicHash\n            })\n                .done(function (response) {\n                    fullScreenLoader.stopLoader();\n                    self.additionalData['payment_method_nonce'] = response.paymentMethodNonce;\n                    self.placeOrder();\n                })\n                .fail(function (response) {\n                    var error = JSON.parse(response.responseText);\n\n                    fullScreenLoader.stopLoader();\n                    globalMessageList.addErrorMessage({\n                        message: error.message\n                    });\n                });\n        },\n\n        /**\n         * Get payment method data\n         * @returns {Object}\n         */\n        getData: function () {\n            var data = {\n                'method': this.code,\n                'additional_data': {\n                    'public_hash': this.publicHash\n                }\n            };\n\n            data['additional_data'] = _.extend(data['additional_data'], this.additionalData);\n\n            return data;\n        }\n    });\n});\n","PayPal_Braintree/js/view/payment/method-renderer/venmo.js":"define(\n    [\n        'Magento_Checkout/js/view/payment/default',\n        'braintree',\n        'braintreeDataCollector',\n        'braintreeVenmo',\n        'PayPal_Braintree/js/form-builder',\n        'Magento_Ui/js/model/messageList',\n        'Magento_Checkout/js/model/full-screen-loader',\n        'Magento_Checkout/js/model/payment/additional-validators',\n        'mage/translate'\n    ],\n    function (\n        Component,\n        braintree,\n        dataCollector,\n        venmo,\n        formBuilder,\n        messageList,\n        fullScreenLoader,\n        additionalValidators,\n        $t\n    ) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                deviceData: null,\n                paymentMethodNonce: null,\n                template: 'PayPal_Braintree/payment/venmo',\n                venmoInstance: null\n            },\n\n            clickVenmoBtn: function () {\n                let self = this;\n\n                if (!additionalValidators.validate()) {\n                    return false;\n                }\n\n                if (!this.venmoInstance) {\n                    this.setErrorMsg($t('Venmo not initialized, please try reloading.'));\n                    return;\n                }\n\n                this.venmoInstance.tokenize(function (tokenizeErr, payload) {\n                    if (tokenizeErr) {\n                        if (tokenizeErr.code === 'VENMO_CANCELED') {\n                            self.setErrorMsg($t('Venmo app is not available or the payment flow was cancelled.'));\n                        } else if (tokenizeErr.code === 'VENMO_APP_CANCELED') {\n                            self.setErrorMsg($t('Venmo payment flow cancelled.'));\n                        } else {\n                            self.setErrorMsg(tokenizeErr.message);\n                        }\n                    } else {\n                        self.handleVenmoSuccess(payload);\n                    }\n                });\n            },\n\n            collectDeviceData: function (clientInstance, callback) {\n                let self = this;\n                dataCollector.create({\n                    client: clientInstance,\n                    paypal: true\n                }, function (dataCollectorErr, dataCollectorInstance) {\n                    if (dataCollectorErr) {\n                        return;\n                    }\n                    self.deviceData = dataCollectorInstance.deviceData;\n                    callback();\n                });\n            },\n\n            getClientToken: function () {\n                return window.checkoutConfig.payment[this.getCode()].clientToken;\n            },\n\n            getCode: function() {\n                return 'braintree_venmo';\n            },\n\n            getData: function () {\n                let data = {\n                    'method': this.getCode(),\n                    'additional_data': {\n                        'payment_method_nonce': this.paymentMethodNonce,\n                        'device_data': this.deviceData\n                    }\n                };\n\n                data['additional_data'] = _.extend(data['additional_data'], this.additionalData);\n\n                return data;\n            },\n\n            getPaymentMarkSrc: function () {\n                return window.checkoutConfig.payment[this.getCode()].paymentMarkSrc;\n            },\n\n            getTitle: function() {\n                return 'Venmo';\n            },\n\n            handleVenmoSuccess: function (payload) {\n                this.setPaymentMethodNonce(payload.nonce);\n                this.placeOrder();\n            },\n\n            initialize: function () {\n                this._super();\n\n                let self = this;\n\n                braintree.create({\n                    authorization: self.getClientToken()\n                }, function (clientError, clientInstance) {\n                    if (clientError) {\n                        this.setErrorMsg($t('Unable to initialize Braintree Client.'));\n                        return;\n                    }\n\n                    // Collect device data\n                    self.collectDeviceData(clientInstance, function () {\n                        // callback from collectDeviceData\n                        venmo.create({\n                            client: clientInstance,\n                            allowDesktop: true,\n                            allowDesktopWebLogin: true,\n                            mobileWebFallBack: true,\n                            paymentMethodUsage: 'single_use',\n                            allowNewBrowserTab: false\n                        }, function (venmoErr, venmoInstance) {\n                            if (venmoErr) {\n                                self.setErrorMsg($t('Error initializing Venmo: %1').replace('%1', venmoErr));\n                                return;\n                            }\n\n                            if (!venmoInstance.isBrowserSupported()) {\n                                console.log('Browser does not support Venmo');\n                                return;\n                            }\n\n                            self.setVenmoInstance(venmoInstance);\n                        });\n                    });\n                });\n\n                return this;\n            },\n\n            isAllowed: function () {\n                return window.checkoutConfig.payment[this.getCode()].isAllowed;\n            },\n\n            setErrorMsg: function (message) {\n                messageList.addErrorMessage({\n                    message: message\n                });\n            },\n\n            setPaymentMethodNonce: function (nonce) {\n                this.paymentMethodNonce = nonce;\n            },\n\n            setVenmoInstance: function (instance) {\n                this.venmoInstance = instance;\n            }\n        });\n    }\n);\n","PayPal_Braintree/js/view/payment/method-renderer/vault.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'ko',\n    'jquery',\n    'Magento_Vault/js/view/payment/method-renderer/vault',\n    'PayPal_Braintree/js/view/payment/adapter',\n    'Magento_Ui/js/model/messageList',\n    'PayPal_Braintree/js/view/payment/validator-handler',\n    'Magento_Checkout/js/model/payment/additional-validators',\n    'Magento_Checkout/js/model/full-screen-loader',\n    'braintree',\n    'braintreeHostedFields',\n    'mage/url'\n], function (\n    ko,\n    $,\n    VaultComponent,\n    Braintree,\n    globalMessageList,\n    validatorManager,\n    additionalValidators,\n    fullScreenLoader,\n    client,\n    hostedFields,\n    url\n) {\n    'use strict';\n\n    return VaultComponent.extend({\n        defaults: {\n            active: false,\n            hostedFieldsInstance: null,\n            imports: {\n                onActiveChange: 'active'\n            },\n            modules: {\n                hostedFields: '${ $.parentName }.braintree'\n            },\n            template: 'PayPal_Braintree/payment/cc/vault',\n            updatePaymentUrl: url.build('braintree/payment/updatepaymentmethod'),\n            vaultedCVV: ko.observable(\"\"),\n            validatorManager: validatorManager,\n            isValidCvv: false,\n            onInstanceReady: function (instance) {\n                instance.on('validityChange', this.onValidityChange.bind(this));\n            }\n        },\n\n        /**\n         * Event fired by Braintree SDK whenever input value length matches the validation length.\n         * In the case of a CVV, this is 3, or 4 for AMEX.\n         * @param event\n         */\n        onValidityChange: function (event) {\n            if (event.emittedBy === 'cvv') {\n                this.isValidCvv = event.fields.cvv.isValid;\n            }\n        },\n\n        /**\n         * @returns {exports}\n         */\n        initObservable: function () {\n            this._super().observe(['active']);\n            this.validatorManager.initialize();\n            return this;\n        },\n\n        /**\n         * Is payment option active?\n         * @returns {boolean}\n         */\n        isActive: function () {\n            let active = this.getId() === this.isChecked();\n            this.active(active);\n            return active;\n        },\n\n        /**\n         * Fired whenever a payment option is changed.\n         * @param isActive\n         */\n        onActiveChange: function (isActive) {\n            let self = this;\n\n            if (!isActive) {\n                return;\n            }\n\n            if (self.showCvvVerify()) {\n                if (self.hostedFieldsInstance) {\n                    self.hostedFieldsInstance.teardown(function (teardownError) {\n                        if (teardownError) {\n                            globalMessageList.addErrorMessage({\n                                message: teardownError.message\n                            });\n                        }\n                        self.hostedFieldsInstance = null;\n                        self.initHostedCvvField();\n                    });\n                    return;\n                }\n                self.initHostedCvvField();\n            }\n        },\n\n        /**\n         * Initialize the CVV input field with the Braintree Hosted Fields SDK.\n         */\n        initHostedCvvField: function () {\n            let self = this;\n            client.create({\n                authorization: Braintree.getClientToken()\n            }, function (clientError, clientInstance) {\n                if (clientError) {\n                    globalMessageList.addErrorMessage({\n                        message: clientError.message\n                    });\n                }\n                hostedFields.create({\n                    client: clientInstance,\n                    fields: {\n                        cvv: {\n                            selector: '#' + self.getId() + '_cid',\n                            placeholder: '123'\n                        }\n                    }\n                }, function (hostedError, hostedFieldsInstance) {\n                    if (hostedError) {\n                        globalMessageList.addErrorMessage({\n                            message: hostedError.message\n                        });\n                        return;\n                    }\n\n                    self.hostedFieldsInstance = hostedFieldsInstance;\n                    self.onInstanceReady(self.hostedFieldsInstance);\n                });\n            });\n        },\n\n        /**\n         * Return the payment method code.\n         * @returns {string}\n         */\n        getCode: function () {\n            return 'braintree_cc_vault';\n        },\n\n        /**\n         * Get last 4 digits of card\n         * @returns {String}\n         */\n        getMaskedCard: function () {\n            return this.details.maskedCC;\n        },\n\n        /**\n         * Get expiration date\n         * @returns {String}\n         */\n        getExpirationDate: function () {\n            return this.details.expirationDate;\n        },\n\n        /**\n         * Get card type\n         * @returns {String}\n         */\n        getCardType: function () {\n            return this.details.type;\n        },\n\n        /**\n         * Get show CVV Field\n         * @returns {Boolean}\n         */\n        showCvvVerify: function () {\n            return window.checkoutConfig.payment[this.code].cvvVerify;\n        },\n\n        /**\n         * Show or hide the error message.\n         * @param selector\n         * @param state\n         * @returns {boolean}\n         */\n        validateCvv: function (selector, state) {\n            let $selector = $(selector),\n                invalidClass = 'braintree-hosted-fields-invalid';\n\n            if (state === true) {\n                $selector.removeClass(invalidClass);\n                return true;\n            }\n\n            $selector.addClass(invalidClass);\n            return false;\n        },\n\n        /**\n         * Place order\n         */\n        placeOrder: function () {\n            let self = this;\n\n            if (self.showCvvVerify()) {\n                if (!self.validateCvv('#' + self.getId() + '_cid', self.isValidCvv) || !additionalValidators.validate()) {\n                    return;\n                }\n            } else {\n                if (!additionalValidators.validate()) {\n                    return;\n                }\n            }\n\n            fullScreenLoader.startLoader();\n\n            if (self.showCvvVerify() && typeof self.hostedFieldsInstance !== 'undefined') {\n                self.hostedFieldsInstance.tokenize({}, function (error, payload) {\n                    if (error) {\n                        fullScreenLoader.stopLoader();\n                        globalMessageList.addErrorMessage({\n                            message: error.message\n                        });\n                        return;\n                    }\n                    $.getJSON(self.updatePaymentUrl, {\n                        'nonce': payload.nonce,\n                        'public_hash': self.publicHash\n                    }).done(function (response) {\n                        if (response.success === false) {\n                            fullScreenLoader.stopLoader();\n                            globalMessageList.addErrorMessage({\n                                message: 'CVV verification failed.'\n                            });\n                            return;\n                        }\n                        self.getPaymentMethodNonce();\n                    })\n                });\n            } else {\n                self.getPaymentMethodNonce();\n            }\n        },\n\n        /**\n         * Send request to get payment method nonce\n         */\n        getPaymentMethodNonce: function () {\n            let self = this;\n\n            fullScreenLoader.startLoader();\n            $.getJSON(self.nonceUrl, {\n                'public_hash': self.publicHash,\n                'cvv': self.vaultedCVV()\n            }).done(function (response) {\n                fullScreenLoader.stopLoader();\n                self.hostedFields(function (formComponent) {\n                    formComponent.setPaymentMethodNonce(response.paymentMethodNonce);\n                    formComponent.setCreditCardBin(response.details.bin);\n                    formComponent.additionalData['public_hash'] = self.publicHash;\n                    formComponent.code = self.code;\n                    if (self.vaultedCVV()) {\n                        formComponent.additionalData['cvv'] = self.vaultedCVV();\n                    }\n\n                    self.validatorManager.validate(formComponent, function () {\n                        fullScreenLoader.stopLoader();\n                        return formComponent.placeOrder('parent');\n                    }, function() {\n                        // No teardown actions required.\n                        fullScreenLoader.stopLoader();\n                        formComponent.setPaymentMethodNonce(null);\n                        formComponent.setCreditCardBin(null);\n                    });\n\n                });\n            }).fail(function (response) {\n                let error = JSON.parse(response.responseText);\n\n                fullScreenLoader.stopLoader();\n                globalMessageList.addErrorMessage({\n                    message: error.message\n                });\n            });\n        }\n    });\n});\n","PayPal_Braintree/js/view/payment/method-renderer/multishipping/paypal.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'underscore',\n    'braintreeCheckoutPayPalAdapter',\n    'Magento_Checkout/js/model/quote',\n    'PayPal_Braintree/js/view/payment/method-renderer/paypal',\n    'Magento_Checkout/js/action/set-payment-information',\n    'Magento_Checkout/js/model/payment/additional-validators',\n    'Magento_Checkout/js/model/full-screen-loader',\n    'mage/translate'\n], function (\n    $,\n    _,\n    Braintree,\n    quote,\n    Component,\n    setPaymentInformationAction,\n    additionalValidators,\n    fullScreenLoader,\n    $t\n) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: 'PayPal_Braintree/payment/multishipping/paypal',\n            submitButtonSelector: '[id=\"parent-payment-continue\"]',\n            reviewButtonHtml: ''\n        },\n\n        /**\n         * @override\n         */\n        initObservable: function () {\n            this.reviewButtonHtml = $(this.submitButtonSelector).html();\n            return this._super();\n        },\n\n        initClientConfig: function () {\n            this.clientConfig = _.extend(this.clientConfig, this.getPayPalConfig());\n            this.clientConfig.paypal.enableShippingAddress = false;\n\n            _.each(this.clientConfig, function (fn, name) {\n                if (typeof fn === 'function') {\n                    this.clientConfig[name] = fn.bind(this);\n                }\n            }, this);\n            this.clientConfig.buttonPayPalId = 'parent-payment-continue';\n\n        },\n\n        /**\n         * @override\n         */\n        onActiveChange: function (isActive) {\n            this.updateSubmitButtonHtml(isActive);\n            this._super(isActive);\n        },\n\n        /**\n         * @override\n         */\n        beforePlaceOrder: function (data) {\n            this._super(data);\n        },\n\n        /**\n         * Re-init PayPal Auth Flow\n         */\n        reInitPayPal: function () {\n            this.disableButton();\n            this.clientConfig.paypal.amount = parseFloat(this.grandTotalAmount).toFixed(2);\n\n            if (!quote.isVirtual()) {\n                this.clientConfig.paypal.enableShippingAddress = false;\n                this.clientConfig.paypal.shippingAddressEditable = false;\n            }\n\n            Braintree.setConfig(this.clientConfig);\n\n            if (Braintree.getPayPalInstance()) {\n                Braintree.getPayPalInstance().teardown(function () {\n                    Braintree.setup();\n                }.bind(this));\n                Braintree.setPayPalInstance(null);\n            } else {\n                Braintree.setup();\n                this.enableButton();\n            }\n        },\n\n        loadPayPalButton: function (paypalCheckoutInstance, funding) {\n            let paypalPayment = Braintree.config.paypal,\n                onPaymentMethodReceived = Braintree.config.onPaymentMethodReceived;\n            let style = {\n                color: Braintree.getColor(funding),\n                shape: Braintree.getShape(funding),\n                size: Braintree.getSize(funding),\n                label: Braintree.getLabel(funding)\n            };\n\n            if (Braintree.getBranding()) {\n                style.branding = Braintree.getBranding();\n            }\n            if (Braintree.getFundingIcons()) {\n                style.fundingicons = Braintree.getFundingIcons();\n            }\n\n            if (funding === 'credit') {\n                Braintree.config.buttonId = this.clientConfig.buttonCreditId;\n            } else if (funding === 'paylater') {\n                Braintree.config.buttonId = this.clientConfig.buttonPaylaterId;\n            } else {\n                Braintree.config.buttonId = this.clientConfig.buttonPayPalId;\n            }\n\n            // Render\n            Braintree.config.paypalInstance = paypalCheckoutInstance;\n            var events = Braintree.events;\n            $('#' + Braintree.config.buttonId).html('');\n\n            var button = paypal.Buttons({\n                fundingSource: funding,\n                env: Braintree.getEnvironment(),\n                style: style,\n                commit: true,\n                locale: Braintree.config.paypal.locale,\n\n                createOrder: function () {\n                    return paypalCheckoutInstance.createPayment(paypalPayment);\n                },\n\n                onCancel: function (data) {\n                    console.log('checkout.js payment cancelled', JSON.stringify(data, 0, 2));\n\n                    if (typeof events.onCancel === 'function') {\n                        events.onCancel();\n                    }\n                },\n\n                onError: function (err) {\n                    Braintree.showError($t(\"PayPal Checkout could not be initialized. Please contact the store owner.\"));\n                    Braintree.config.paypalInstance = null;\n                    console.error('Paypal checkout.js error', err);\n\n                    if (typeof events.onError === 'function') {\n                        events.onError(err);\n                    }\n                }.bind(this),\n\n                onClick: function (data) {\n                    // To check term & conditions input checked - validate additional validators.\n                    if (!additionalValidators.validate()) {\n                        return false;\n                    }\n\n                    if (typeof events.onClick === 'function') {\n                        events.onClick(data);\n                    }\n                }.bind(this),\n\n                onApprove: function (data, actions) {\n                    return paypalCheckoutInstance.tokenizePayment(data)\n                        .then(function (payload) {\n                            onPaymentMethodReceived(payload);\n                        });\n                }\n\n            });\n            if (button.isEligible() && $('#' + Braintree.config.buttonId).length) {\n\n                button.render('#' + Braintree.config.buttonId).then(function () {\n                    Braintree.enableButton();\n                    if (typeof Braintree.config.onPaymentMethodError === 'function') {\n                        Braintree.config.onPaymentMethodError();\n                    }\n                }.bind(this)).then(function (data) {\n                    if (typeof events.onRender === 'function') {\n                        events.onRender(data);\n                    }\n                });\n            }\n        },\n\n        /**\n         * Get configuration for PayPal\n         * @returns {Object}\n         */\n        getPayPalConfig: function () {\n            var totals = quote.totals(),\n                config = {},\n                isActiveVaultEnabler = this.isActiveVault();\n\n            config.paypal = {\n                flow: 'checkout',\n                amount: parseFloat(this.grandTotalAmount).toFixed(2),\n                currency: totals['base_currency_code'],\n                locale: this.getLocale(),\n                requestBillingAgreement: true,\n                /**\n                 * Triggers on any Braintree error\n                 */\n                onError: function () {\n                    this.paymentMethodNonce = null;\n                },\n\n                /**\n                 * Triggers if browser doesn't support PayPal Checkout\n                 */\n                onUnsupported: function () {\n                    this.paymentMethodNonce = null;\n                }\n            };\n\n            if (!quote.isVirtual()) {\n                config.paypal.enableShippingAddress = false;\n                config.paypal.shippingAddressEditable = false;\n            }\n\n            if (this.getMerchantName()) {\n                config.paypal.displayName = this.getMerchantName();\n            }\n\n            return config;\n        },\n\n        getShippingAddress: function () {\n\n            return {};\n        },\n\n        /**\n         * @override\n         */\n        getData: function () {\n            var data = this._super();\n\n            data['additional_data']['is_active_payment_token_enabler'] = true;\n\n            return data;\n        },\n\n        /**\n         * @override\n         */\n        isActiveVault: function () {\n            return true;\n        },\n\n        /**\n         * Skipping order review step on checkout with multiple addresses is not allowed.\n         *\n         * @returns {Boolean}\n         */\n        isSkipOrderReview: function () {\n            return false;\n        },\n\n        /**\n         * Checks if payment method nonce is already received.\n         *\n         * @returns {Boolean}\n         */\n        isPaymentMethodNonceReceived: function () {\n            return this.paymentMethodNonce !== null;\n        },\n\n        /**\n         * Update submit button on multi-addresses checkout billing form.\n         *\n         * @param {Boolean} isActive\n         */\n        updateSubmitButtonHtml: function (isActive) {\n            $(this.submitButtonSelector).removeClass(\"primary\");\n            if (this.isPaymentMethodNonceReceived() || !isActive) {\n                $(this.submitButtonSelector).addClass(\"primary\");\n                $(this.submitButtonSelector).html(this.reviewButtonHtml);\n            }\n        },\n\n        /**\n         * @override\n         */\n        placeOrder: function () {\n            if (!this.isPaymentMethodNonceReceived()) {\n                this.payWithPayPal();\n            } else {\n                fullScreenLoader.startLoader();\n\n                $.when(\n                    setPaymentInformationAction(\n                        this.messageContainer,\n                        this.getData()\n                    )\n                ).done(this.done.bind(this))\n                    .fail(this.fail.bind(this));\n            }\n        },\n\n        /**\n         * {Function}\n         */\n        fail: function () {\n            fullScreenLoader.stopLoader();\n\n            return this;\n        },\n\n        /**\n         * {Function}\n         */\n        done: function () {\n            fullScreenLoader.stopLoader();\n            $('#multishipping-billing-form').submit();\n\n            return this;\n        }\n    });\n});\n","PayPal_Braintree/js/view/payment/method-renderer/multishipping/hosted-fields.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\n\ndefine([\n    'jquery',\n    'PayPal_Braintree/js/view/payment/method-renderer/hosted-fields',\n    'PayPal_Braintree/js/validator',\n    'Magento_Ui/js/model/messageList',\n    'mage/translate',\n    'Magento_Checkout/js/model/full-screen-loader',\n    'Magento_Checkout/js/action/set-payment-information',\n    'Magento_Checkout/js/model/payment/additional-validators',\n    'PayPal_Braintree/js/view/payment/adapter'\n], function (\n    $,\n    Component,\n    validator,\n    messageList,\n    $t,\n    fullScreenLoader,\n    setPaymentInformationAction,\n    additionalValidators,\n    braintree\n) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: 'PayPal_Braintree/payment/multishipping/form'\n        },\n\n        /**\n         * Get list of available CC types\n         *\n         * @returns {Object}\n         */\n        getCcAvailableTypes: function () {\n            let availableTypes = validator.getAvailableCardTypes(),\n                billingCountryId;\n\n            billingCountryId = $('#multishipping_billing_country_id').val();\n\n            if (billingCountryId && validator.getCountrySpecificCardTypes(billingCountryId)) {\n                return validator.collectTypes(\n                    availableTypes, validator.getCountrySpecificCardTypes(billingCountryId)\n                );\n            }\n\n            return availableTypes;\n        },\n\n        /**\n         * @override\n         */\n        handleNonce: function (payload) {\n            let self = this;\n            this.setPaymentMethodNonce(payload.nonce);\n            this.setCreditCardBin(payload.details.bin);\n\n            // place order on success validation\n            self.validatorManager.validate(self, function () {\n                return self.setPaymentInformation();\n            }, function() {\n                self.isProcessing = false;\n                self.paymentMethodNonce = null;\n                self.creditCardBin = null;\n            });\n        },\n\n        /**\n         * @override\n         */\n        placeOrder: function () {\n            if (this.isProcessing) {\n                return false;\n            } else {\n                this.isProcessing = true;\n            }\n\n            braintree.tokenizeHostedFields();\n            return false;\n        },\n\n        /**\n         * @override\n         */\n        setPaymentInformation: function () {\n            if (additionalValidators.validate()) {\n                fullScreenLoader.startLoader();\n                $.when(\n                    setPaymentInformationAction(\n                        this.messageContainer,\n                        this.getData()\n                    )\n                ).done(this.done.bind(this))\n                    .fail(this.fail.bind(this));\n            }\n        },\n\n        /**\n         * {Function}\n         */\n        fail: function () {\n            fullScreenLoader.stopLoader();\n\n            return this;\n        },\n\n        /**\n         * {Function}\n         */\n        done: function () {\n            fullScreenLoader.stopLoader();\n            $('#multishipping-billing-form').submit();\n\n            return this;\n        }\n    });\n});\n","Smartwave_Filterproducts/js/packery.pkgd.js":"/*!\r\n * Packery PACKAGED v1.4.3\r\n * bin-packing layout library\r\n *\r\n * Licensed GPLv3 for open source use\r\n * or Flickity Commercial License for commercial use\r\n *\r\n * http://packery.metafizzy.co\r\n * Copyright 2015 Metafizzy\r\n */\r\n\r\n/**\r\n * Bridget makes jQuery widgets\r\n * v1.1.0\r\n * MIT license\r\n */\r\n\r\n( function( window ) {\r\n\r\n\r\n\r\n// -------------------------- utils -------------------------- //\r\n\r\nvar slice = Array.prototype.slice;\r\n\r\nfunction noop() {}\r\n\r\n// -------------------------- definition -------------------------- //\r\n\r\nfunction defineBridget( $ ) {\r\n\r\n// bail if no jQuery\r\nif ( !$ ) {\r\n  return;\r\n}\r\n\r\n// -------------------------- addOptionMethod -------------------------- //\r\n\r\n/**\r\n * adds option method -> $().plugin('option', {...})\r\n * @param {Function} PluginClass - constructor class\r\n */\r\nfunction addOptionMethod( PluginClass ) {\r\n  // don't overwrite original option method\r\n  if ( PluginClass.prototype.option ) {\r\n    return;\r\n  }\r\n\r\n  // option setter\r\n  PluginClass.prototype.option = function( opts ) {\r\n    // bail out if not an object\r\n    if ( !$.isPlainObject( opts ) ){\r\n      return;\r\n    }\r\n    this.options = $.extend( true, this.options, opts );\r\n  };\r\n}\r\n\r\n// -------------------------- plugin bridge -------------------------- //\r\n\r\n// helper function for logging errors\r\n// $.error breaks jQuery chaining\r\nvar logError = typeof console === 'undefined' ? noop :\r\n  function( message ) {\r\n    console.error( message );\r\n  };\r\n\r\n/**\r\n * jQuery plugin bridge, access methods like $elem.plugin('method')\r\n * @param {String} namespace - plugin name\r\n * @param {Function} PluginClass - constructor class\r\n */\r\nfunction bridge( namespace, PluginClass ) {\r\n  // add to jQuery fn namespace\r\n  $.fn[ namespace ] = function( options ) {\r\n    if ( typeof options === 'string' ) {\r\n      // call plugin method when first argument is a string\r\n      // get arguments for method\r\n      var args = slice.call( arguments, 1 );\r\n\r\n      for ( var i=0, len = this.length; i < len; i++ ) {\r\n        var elem = this[i];\r\n        var instance = $.data( elem, namespace );\r\n        if ( !instance ) {\r\n          logError( \"cannot call methods on \" + namespace + \" prior to initialization; \" +\r\n            \"attempted to call '\" + options + \"'\" );\r\n          continue;\r\n        }\r\n        if ( !$.isFunction( instance[options] ) || options.charAt(0) === '_' ) {\r\n          logError( \"no such method '\" + options + \"' for \" + namespace + \" instance\" );\r\n          continue;\r\n        }\r\n\r\n        // trigger method with arguments\r\n        var returnValue = instance[ options ].apply( instance, args );\r\n\r\n        // break look and return first value if provided\r\n        if ( returnValue !== undefined ) {\r\n          return returnValue;\r\n        }\r\n      }\r\n      // return this if no return value\r\n      return this;\r\n    } else {\r\n      return this.each( function() {\r\n        var instance = $.data( this, namespace );\r\n        if ( instance ) {\r\n          // apply options & init\r\n          instance.option( options );\r\n          instance._init();\r\n        } else {\r\n          // initialize new instance\r\n          instance = new PluginClass( this, options );\r\n          $.data( this, namespace, instance );\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n}\r\n\r\n// -------------------------- bridget -------------------------- //\r\n\r\n/**\r\n * converts a Prototypical class into a proper jQuery plugin\r\n *   the class must have a ._init method\r\n * @param {String} namespace - plugin name, used in $().pluginName\r\n * @param {Function} PluginClass - constructor class\r\n */\r\n$.bridget = function( namespace, PluginClass ) {\r\n  addOptionMethod( PluginClass );\r\n  bridge( namespace, PluginClass );\r\n};\r\n\r\nreturn $.bridget;\r\n\r\n}\r\n\r\n// transport\r\nif ( typeof define === 'function' && define.amd ) {\r\n  // AMD\r\n  define( 'jquery-bridget/jquery.bridget',[ 'jquery' ], defineBridget );\r\n} else if ( typeof exports === 'object' ) {\r\n  defineBridget( require('jquery') );\r\n} else {\r\n  // get jquery from browser global\r\n  defineBridget( window.jQuery );\r\n}\r\ndefineBridget( window.jQuery );\r\n})( window );\r\n\r\n/*!\r\n * classie v1.0.1\r\n * class helper functions\r\n * from bonzo https://github.com/ded/bonzo\r\n * MIT license\r\n * \r\n * classie.has( elem, 'my-class' ) -> true/false\r\n * classie.add( elem, 'my-new-class' )\r\n * classie.remove( elem, 'my-unwanted-class' )\r\n * classie.toggle( elem, 'my-class' )\r\n */\r\n\r\n/*jshint browser: true, strict: true, undef: true, unused: true */\r\n/*global define: false, module: false */\r\n\r\n( function( window ) {\r\n\r\n\r\n\r\n// class helper functions from bonzo https://github.com/ded/bonzo\r\n\r\nfunction classReg( className ) {\r\n  return new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\");\r\n}\r\n\r\n// classList support for class management\r\n// altho to be fair, the api sucks because it won't accept multiple classes at once\r\nvar hasClass, addClass, removeClass;\r\n\r\nif ( 'classList' in document.documentElement ) {\r\n  hasClass = function( elem, c ) {\r\n    return elem.classList.contains( c );\r\n  };\r\n  addClass = function( elem, c ) {\r\n    elem.classList.add( c );\r\n  };\r\n  removeClass = function( elem, c ) {\r\n    elem.classList.remove( c );\r\n  };\r\n}\r\nelse {\r\n  hasClass = function( elem, c ) {\r\n    return classReg( c ).test( elem.className );\r\n  };\r\n  addClass = function( elem, c ) {\r\n    if ( !hasClass( elem, c ) ) {\r\n      elem.className = elem.className + ' ' + c;\r\n    }\r\n  };\r\n  removeClass = function( elem, c ) {\r\n    elem.className = elem.className.replace( classReg( c ), ' ' );\r\n  };\r\n}\r\n\r\nfunction toggleClass( elem, c ) {\r\n  var fn = hasClass( elem, c ) ? removeClass : addClass;\r\n  fn( elem, c );\r\n}\r\n\r\nvar classie = {\r\n  // full names\r\n  hasClass: hasClass,\r\n  addClass: addClass,\r\n  removeClass: removeClass,\r\n  toggleClass: toggleClass,\r\n  // short names\r\n  has: hasClass,\r\n  add: addClass,\r\n  remove: removeClass,\r\n  toggle: toggleClass\r\n};\r\n\r\n// transport\r\nif ( typeof define === 'function' && define.amd ) {\r\n  // AMD\r\n  define( 'classie/classie',classie );\r\n} else if ( typeof exports === 'object' ) {\r\n  // CommonJS\r\n  module.exports = classie;\r\n} else {\r\n  // browser global\r\n  window.classie = classie;\r\n}\r\n\r\n})( window );\r\n\r\n/*!\r\n * getStyleProperty v1.0.4\r\n * original by kangax\r\n * http://perfectionkills.com/feature-testing-css-properties/\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, strict: true, undef: true */\r\n/*global define: false, exports: false, module: false */\r\n\r\n( function( window ) {\r\n\r\n\r\n\r\nvar prefixes = 'Webkit Moz ms Ms O'.split(' ');\r\nvar docElemStyle = document.documentElement.style;\r\n\r\nfunction getStyleProperty( propName ) {\r\n  if ( !propName ) {\r\n    return;\r\n  }\r\n\r\n  // test standard property first\r\n  if ( typeof docElemStyle[ propName ] === 'string' ) {\r\n    return propName;\r\n  }\r\n\r\n  // capitalize\r\n  propName = propName.charAt(0).toUpperCase() + propName.slice(1);\r\n\r\n  // test vendor specific properties\r\n  var prefixed;\r\n  for ( var i=0, len = prefixes.length; i < len; i++ ) {\r\n    prefixed = prefixes[i] + propName;\r\n    if ( typeof docElemStyle[ prefixed ] === 'string' ) {\r\n      return prefixed;\r\n    }\r\n  }\r\n}\r\n\r\n// transport\r\nif ( typeof define === 'function' && define.amd ) {\r\n  // AMD\r\n  define( 'get-style-property/get-style-property',[],function() {\r\n    return getStyleProperty;\r\n  });\r\n} else if ( typeof exports === 'object' ) {\r\n  // CommonJS for Component\r\n  module.exports = getStyleProperty;\r\n} else {\r\n  // browser global\r\n  window.getStyleProperty = getStyleProperty;\r\n}\r\n\r\n})( window );\r\n\r\n/*!\r\n * getSize v1.2.2\r\n * measure size of elements\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, strict: true, undef: true, unused: true */\r\n/*global define: false, exports: false, require: false, module: false, console: false */\r\n\r\n( function( window, undefined ) {\r\n\r\n\r\n\r\n// -------------------------- helpers -------------------------- //\r\n\r\n// get a number from a string, not a percentage\r\nfunction getStyleSize( value ) {\r\n  var num = parseFloat( value );\r\n  // not a percent like '100%', and a number\r\n  var isValid = value.indexOf('%') === -1 && !isNaN( num );\r\n  return isValid && num;\r\n}\r\n\r\nfunction noop() {}\r\n\r\nvar logError = typeof console === 'undefined' ? noop :\r\n  function( message ) {\r\n    console.error( message );\r\n  };\r\n\r\n// -------------------------- measurements -------------------------- //\r\n\r\nvar measurements = [\r\n  'paddingLeft',\r\n  'paddingRight',\r\n  'paddingTop',\r\n  'paddingBottom',\r\n  'marginLeft',\r\n  'marginRight',\r\n  'marginTop',\r\n  'marginBottom',\r\n  'borderLeftWidth',\r\n  'borderRightWidth',\r\n  'borderTopWidth',\r\n  'borderBottomWidth'\r\n];\r\n\r\nfunction getZeroSize() {\r\n  var size = {\r\n    width: 0,\r\n    height: 0,\r\n    innerWidth: 0,\r\n    innerHeight: 0,\r\n    outerWidth: 0,\r\n    outerHeight: 0\r\n  };\r\n  for ( var i=0, len = measurements.length; i < len; i++ ) {\r\n    var measurement = measurements[i];\r\n    size[ measurement ] = 0;\r\n  }\r\n  return size;\r\n}\r\n\r\n\r\n\r\nfunction defineGetSize( getStyleProperty ) {\r\n\r\n// -------------------------- setup -------------------------- //\r\n\r\nvar isSetup = false;\r\n\r\nvar getStyle, boxSizingProp, isBoxSizeOuter;\r\n\r\n/**\r\n * setup vars and functions\r\n * do it on initial getSize(), rather than on script load\r\n * For Firefox bug https://bugzilla.mozilla.org/show_bug.cgi?id=548397\r\n */\r\nfunction setup() {\r\n  // setup once\r\n  if ( isSetup ) {\r\n    return;\r\n  }\r\n  isSetup = true;\r\n\r\n  var getComputedStyle = window.getComputedStyle;\r\n  getStyle = ( function() {\r\n    var getStyleFn = getComputedStyle ?\r\n      function( elem ) {\r\n        return getComputedStyle( elem, null );\r\n      } :\r\n      function( elem ) {\r\n        return elem.currentStyle;\r\n      };\r\n\r\n      return function getStyle( elem ) {\r\n        var style = getStyleFn( elem );\r\n        if ( !style ) {\r\n          logError( 'Style returned ' + style +\r\n            '. Are you running this code in a hidden iframe on Firefox? ' +\r\n            'See http://bit.ly/getsizebug1' );\r\n        }\r\n        return style;\r\n      };\r\n  })();\r\n\r\n  // -------------------------- box sizing -------------------------- //\r\n\r\n  boxSizingProp = getStyleProperty('boxSizing');\r\n\r\n  /**\r\n   * WebKit measures the outer-width on style.width on border-box elems\r\n   * IE & Firefox measures the inner-width\r\n   */\r\n  if ( boxSizingProp ) {\r\n    var div = document.createElement('div');\r\n    div.style.width = '200px';\r\n    div.style.padding = '1px 2px 3px 4px';\r\n    div.style.borderStyle = 'solid';\r\n    div.style.borderWidth = '1px 2px 3px 4px';\r\n    div.style[ boxSizingProp ] = 'border-box';\r\n\r\n    var body = document.body || document.documentElement;\r\n    body.appendChild( div );\r\n    var style = getStyle( div );\r\n\r\n    isBoxSizeOuter = getStyleSize( style.width ) === 200;\r\n    body.removeChild( div );\r\n  }\r\n\r\n}\r\n\r\n// -------------------------- getSize -------------------------- //\r\n\r\nfunction getSize( elem ) {\r\n  setup();\r\n\r\n  // use querySeletor if elem is string\r\n  if ( typeof elem === 'string' ) {\r\n    elem = document.querySelector( elem );\r\n  }\r\n\r\n  // do not proceed on non-objects\r\n  if ( !elem || typeof elem !== 'object' || !elem.nodeType ) {\r\n    return;\r\n  }\r\n\r\n  var style = getStyle( elem );\r\n\r\n  // if hidden, everything is 0\r\n  if ( style.display === 'none' ) {\r\n    return getZeroSize();\r\n  }\r\n\r\n  var size = {};\r\n  size.width = elem.offsetWidth;\r\n  size.height = elem.offsetHeight;\r\n\r\n  var isBorderBox = size.isBorderBox = !!( boxSizingProp &&\r\n    style[ boxSizingProp ] && style[ boxSizingProp ] === 'border-box' );\r\n\r\n  // get all measurements\r\n  for ( var i=0, len = measurements.length; i < len; i++ ) {\r\n    var measurement = measurements[i];\r\n    var value = style[ measurement ];\r\n    value = mungeNonPixel( elem, value );\r\n    var num = parseFloat( value );\r\n    // any 'auto', 'medium' value will be 0\r\n    size[ measurement ] = !isNaN( num ) ? num : 0;\r\n  }\r\n\r\n  var paddingWidth = size.paddingLeft + size.paddingRight;\r\n  var paddingHeight = size.paddingTop + size.paddingBottom;\r\n  var marginWidth = size.marginLeft + size.marginRight;\r\n  var marginHeight = size.marginTop + size.marginBottom;\r\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\r\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\r\n\r\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\r\n\r\n  // overwrite width and height if we can get it from style\r\n  var styleWidth = getStyleSize( style.width );\r\n  if ( styleWidth !== false ) {\r\n    size.width = styleWidth +\r\n      // add padding and border unless it's already including it\r\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\r\n  }\r\n\r\n  var styleHeight = getStyleSize( style.height );\r\n  if ( styleHeight !== false ) {\r\n    size.height = styleHeight +\r\n      // add padding and border unless it's already including it\r\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\r\n  }\r\n\r\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\r\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\r\n\r\n  size.outerWidth = size.width + marginWidth;\r\n  size.outerHeight = size.height + marginHeight;\r\n\r\n  return size;\r\n}\r\n\r\n// IE8 returns percent values, not pixels\r\n// taken from jQuery's curCSS\r\nfunction mungeNonPixel( elem, value ) {\r\n  // IE8 and has percent value\r\n  if ( window.getComputedStyle || value.indexOf('%') === -1 ) {\r\n    return value;\r\n  }\r\n  var style = elem.style;\r\n  // Remember the original values\r\n  var left = style.left;\r\n  var rs = elem.runtimeStyle;\r\n  var rsLeft = rs && rs.left;\r\n\r\n  // Put in the new values to get a computed value out\r\n  if ( rsLeft ) {\r\n    rs.left = elem.currentStyle.left;\r\n  }\r\n  style.left = value;\r\n  value = style.pixelLeft;\r\n\r\n  // Revert the changed values\r\n  style.left = left;\r\n  if ( rsLeft ) {\r\n    rs.left = rsLeft;\r\n  }\r\n\r\n  return value;\r\n}\r\n\r\nreturn getSize;\r\n\r\n}\r\n\r\n// transport\r\nif ( typeof define === 'function' && define.amd ) {\r\n  // AMD for RequireJS\r\n  define( 'get-size/get-size',[ 'get-style-property/get-style-property' ], defineGetSize );\r\n} else if ( typeof exports === 'object' ) {\r\n  // CommonJS for Component\r\n  module.exports = defineGetSize( require('desandro-get-style-property') );\r\n} else {\r\n  // browser global\r\n  window.getSize = defineGetSize( window.getStyleProperty );\r\n}\r\n\r\n})( window );\r\n\r\n/*!\r\n * eventie v1.0.6\r\n * event binding helper\r\n *   eventie.bind( elem, 'click', myFn )\r\n *   eventie.unbind( elem, 'click', myFn )\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, undef: true, unused: true */\r\n/*global define: false, module: false */\r\n\r\n( function( window ) {\r\n\r\n\r\n\r\nvar docElem = document.documentElement;\r\n\r\nvar bind = function() {};\r\n\r\nfunction getIEEvent( obj ) {\r\n  var event = window.event;\r\n  // add event.target\r\n  event.target = event.target || event.srcElement || obj;\r\n  return event;\r\n}\r\n\r\nif ( docElem.addEventListener ) {\r\n  bind = function( obj, type, fn ) {\r\n    obj.addEventListener( type, fn, false );\r\n  };\r\n} else if ( docElem.attachEvent ) {\r\n  bind = function( obj, type, fn ) {\r\n    obj[ type + fn ] = fn.handleEvent ?\r\n      function() {\r\n        var event = getIEEvent( obj );\r\n        fn.handleEvent.call( fn, event );\r\n      } :\r\n      function() {\r\n        var event = getIEEvent( obj );\r\n        fn.call( obj, event );\r\n      };\r\n    obj.attachEvent( \"on\" + type, obj[ type + fn ] );\r\n  };\r\n}\r\n\r\nvar unbind = function() {};\r\n\r\nif ( docElem.removeEventListener ) {\r\n  unbind = function( obj, type, fn ) {\r\n    obj.removeEventListener( type, fn, false );\r\n  };\r\n} else if ( docElem.detachEvent ) {\r\n  unbind = function( obj, type, fn ) {\r\n    obj.detachEvent( \"on\" + type, obj[ type + fn ] );\r\n    try {\r\n      delete obj[ type + fn ];\r\n    } catch ( err ) {\r\n      // can't delete window object properties\r\n      obj[ type + fn ] = undefined;\r\n    }\r\n  };\r\n}\r\n\r\nvar eventie = {\r\n  bind: bind,\r\n  unbind: unbind\r\n};\r\n\r\n// ----- module definition ----- //\r\n\r\nif ( typeof define === 'function' && define.amd ) {\r\n  // AMD\r\n  define( 'eventie/eventie',eventie );\r\n} else if ( typeof exports === 'object' ) {\r\n  // CommonJS\r\n  module.exports = eventie;\r\n} else {\r\n  // browser global\r\n  window.eventie = eventie;\r\n}\r\nwindow.eventie = eventie;\r\n})( window );\r\n\r\n/*!\r\n * EventEmitter v4.2.11 - git.io/ee\r\n * Unlicense - http://unlicense.org/\r\n * Oliver Caldwell - http://oli.me.uk/\r\n * @preserve\r\n */\r\n\r\n;(function () {\r\n    \r\n\r\n    /**\r\n     * Class for managing events.\r\n     * Can be extended to provide event functionality in other classes.\r\n     *\r\n     * @class EventEmitter Manages event registering and emitting.\r\n     */\r\n    function EventEmitter() {}\r\n\r\n    // Shortcuts to improve speed and size\r\n    var proto = EventEmitter.prototype;\r\n    var exports = this;\r\n    var originalGlobalValue = exports.EventEmitter;\r\n\r\n    /**\r\n     * Finds the index of the listener for the event in its storage array.\r\n     *\r\n     * @param {Function[]} listeners Array of listeners to search through.\r\n     * @param {Function} listener Method to look for.\r\n     * @return {Number} Index of the specified listener, -1 if not found\r\n     * @api private\r\n     */\r\n    function indexOfListener(listeners, listener) {\r\n        var i = listeners.length;\r\n        while (i--) {\r\n            if (listeners[i].listener === listener) {\r\n                return i;\r\n            }\r\n        }\r\n\r\n        return -1;\r\n    }\r\n\r\n    /**\r\n     * Alias a method while keeping the context correct, to allow for overwriting of target method.\r\n     *\r\n     * @param {String} name The name of the target method.\r\n     * @return {Function} The aliased method\r\n     * @api private\r\n     */\r\n    function alias(name) {\r\n        return function aliasClosure() {\r\n            return this[name].apply(this, arguments);\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Returns the listener array for the specified event.\r\n     * Will initialise the event object and listener arrays if required.\r\n     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.\r\n     * Each property in the object response is an array of listener functions.\r\n     *\r\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\r\n     * @return {Function[]|Object} All listener functions for the event.\r\n     */\r\n    proto.getListeners = function getListeners(evt) {\r\n        var events = this._getEvents();\r\n        var response;\r\n        var key;\r\n\r\n        // Return a concatenated array of all matching events if\r\n        // the selector is a regular expression.\r\n        if (evt instanceof RegExp) {\r\n            response = {};\r\n            for (key in events) {\r\n                if (events.hasOwnProperty(key) && evt.test(key)) {\r\n                    response[key] = events[key];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            response = events[evt] || (events[evt] = []);\r\n        }\r\n\r\n        return response;\r\n    };\r\n\r\n    /**\r\n     * Takes a list of listener objects and flattens it into a list of listener functions.\r\n     *\r\n     * @param {Object[]} listeners Raw listener objects.\r\n     * @return {Function[]} Just the listener functions.\r\n     */\r\n    proto.flattenListeners = function flattenListeners(listeners) {\r\n        var flatListeners = [];\r\n        var i;\r\n\r\n        for (i = 0; i < listeners.length; i += 1) {\r\n            flatListeners.push(listeners[i].listener);\r\n        }\r\n\r\n        return flatListeners;\r\n    };\r\n\r\n    /**\r\n     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.\r\n     *\r\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\r\n     * @return {Object} All listener functions for an event in an object.\r\n     */\r\n    proto.getListenersAsObject = function getListenersAsObject(evt) {\r\n        var listeners = this.getListeners(evt);\r\n        var response;\r\n\r\n        if (listeners instanceof Array) {\r\n            response = {};\r\n            response[evt] = listeners;\r\n        }\r\n\r\n        return response || listeners;\r\n    };\r\n\r\n    /**\r\n     * Adds a listener function to the specified event.\r\n     * The listener will not be added if it is a duplicate.\r\n     * If the listener returns true then it will be removed after it is called.\r\n     * If you pass a regular expression as the event name then the listener will be added to all events that match it.\r\n     *\r\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\r\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\r\n     * @return {Object} Current instance of EventEmitter for chaining.\r\n     */\r\n    proto.addListener = function addListener(evt, listener) {\r\n        var listeners = this.getListenersAsObject(evt);\r\n        var listenerIsWrapped = typeof listener === 'object';\r\n        var key;\r\n\r\n        for (key in listeners) {\r\n            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {\r\n                listeners[key].push(listenerIsWrapped ? listener : {\r\n                    listener: listener,\r\n                    once: false\r\n                });\r\n            }\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Alias of addListener\r\n     */\r\n    proto.on = alias('addListener');\r\n\r\n    /**\r\n     * Semi-alias of addListener. It will add a listener that will be\r\n     * automatically removed after its first execution.\r\n     *\r\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\r\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\r\n     * @return {Object} Current instance of EventEmitter for chaining.\r\n     */\r\n    proto.addOnceListener = function addOnceListener(evt, listener) {\r\n        return this.addListener(evt, {\r\n            listener: listener,\r\n            once: true\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Alias of addOnceListener.\r\n     */\r\n    proto.once = alias('addOnceListener');\r\n\r\n    /**\r\n     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.\r\n     * You need to tell it what event names should be matched by a regex.\r\n     *\r\n     * @param {String} evt Name of the event to create.\r\n     * @return {Object} Current instance of EventEmitter for chaining.\r\n     */\r\n    proto.defineEvent = function defineEvent(evt) {\r\n        this.getListeners(evt);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Uses defineEvent to define multiple events.\r\n     *\r\n     * @param {String[]} evts An array of event names to define.\r\n     * @return {Object} Current instance of EventEmitter for chaining.\r\n     */\r\n    proto.defineEvents = function defineEvents(evts) {\r\n        for (var i = 0; i < evts.length; i += 1) {\r\n            this.defineEvent(evts[i]);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Removes a listener function from the specified event.\r\n     * When passed a regular expression as the event name, it will remove the listener from all events that match it.\r\n     *\r\n     * @param {String|RegExp} evt Name of the event to remove the listener from.\r\n     * @param {Function} listener Method to remove from the event.\r\n     * @return {Object} Current instance of EventEmitter for chaining.\r\n     */\r\n    proto.removeListener = function removeListener(evt, listener) {\r\n        var listeners = this.getListenersAsObject(evt);\r\n        var index;\r\n        var key;\r\n\r\n        for (key in listeners) {\r\n            if (listeners.hasOwnProperty(key)) {\r\n                index = indexOfListener(listeners[key], listener);\r\n\r\n                if (index !== -1) {\r\n                    listeners[key].splice(index, 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Alias of removeListener\r\n     */\r\n    proto.off = alias('removeListener');\r\n\r\n    /**\r\n     * Adds listeners in bulk using the manipulateListeners method.\r\n     * If you pass an object as the second argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.\r\n     * You can also pass it a regular expression to add the array of listeners to all events that match it.\r\n     * Yeah, this function does quite a bit. That's probably a bad thing.\r\n     *\r\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.\r\n     * @param {Function[]} [listeners] An optional array of listener functions to add.\r\n     * @return {Object} Current instance of EventEmitter for chaining.\r\n     */\r\n    proto.addListeners = function addListeners(evt, listeners) {\r\n        // Pass through to manipulateListeners\r\n        return this.manipulateListeners(false, evt, listeners);\r\n    };\r\n\r\n    /**\r\n     * Removes listeners in bulk using the manipulateListeners method.\r\n     * If you pass an object as the second argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\r\n     * You can also pass it an event name and an array of listeners to be removed.\r\n     * You can also pass it a regular expression to remove the listeners from all events that match it.\r\n     *\r\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.\r\n     * @param {Function[]} [listeners] An optional array of listener functions to remove.\r\n     * @return {Object} Current instance of EventEmitter for chaining.\r\n     */\r\n    proto.removeListeners = function removeListeners(evt, listeners) {\r\n        // Pass through to manipulateListeners\r\n        return this.manipulateListeners(true, evt, listeners);\r\n    };\r\n\r\n    /**\r\n     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.\r\n     * The first argument will determine if the listeners are removed (true) or added (false).\r\n     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\r\n     * You can also pass it an event name and an array of listeners to be added/removed.\r\n     * You can also pass it a regular expression to manipulate the listeners of all events that match it.\r\n     *\r\n     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.\r\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.\r\n     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.\r\n     * @return {Object} Current instance of EventEmitter for chaining.\r\n     */\r\n    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {\r\n        var i;\r\n        var value;\r\n        var single = remove ? this.removeListener : this.addListener;\r\n        var multiple = remove ? this.removeListeners : this.addListeners;\r\n\r\n        // If evt is an object then pass each of its properties to this method\r\n        if (typeof evt === 'object' && !(evt instanceof RegExp)) {\r\n            for (i in evt) {\r\n                if (evt.hasOwnProperty(i) && (value = evt[i])) {\r\n                    // Pass the single listener straight through to the singular method\r\n                    if (typeof value === 'function') {\r\n                        single.call(this, i, value);\r\n                    }\r\n                    else {\r\n                        // Otherwise pass back to the multiple function\r\n                        multiple.call(this, i, value);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // So evt must be a string\r\n            // And listeners must be an array of listeners\r\n            // Loop over it and pass each one to the multiple method\r\n            i = listeners.length;\r\n            while (i--) {\r\n                single.call(this, evt, listeners[i]);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Removes all listeners from a specified event.\r\n     * If you do not specify an event then all listeners will be removed.\r\n     * That means every event will be emptied.\r\n     * You can also pass a regex to remove all events that match it.\r\n     *\r\n     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.\r\n     * @return {Object} Current instance of EventEmitter for chaining.\r\n     */\r\n    proto.removeEvent = function removeEvent(evt) {\r\n        var type = typeof evt;\r\n        var events = this._getEvents();\r\n        var key;\r\n\r\n        // Remove different things depending on the state of evt\r\n        if (type === 'string') {\r\n            // Remove all listeners for the specified event\r\n            delete events[evt];\r\n        }\r\n        else if (evt instanceof RegExp) {\r\n            // Remove all events matching the regex.\r\n            for (key in events) {\r\n                if (events.hasOwnProperty(key) && evt.test(key)) {\r\n                    delete events[key];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // Remove all listeners in all events\r\n            delete this._events;\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Alias of removeEvent.\r\n     *\r\n     * Added to mirror the node API.\r\n     */\r\n    proto.removeAllListeners = alias('removeEvent');\r\n\r\n    /**\r\n     * Emits an event of your choice.\r\n     * When emitted, every listener attached to that event will be executed.\r\n     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.\r\n     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.\r\n     * So they will not arrive within the array on the other side, they will be separate.\r\n     * You can also pass a regular expression to emit to all events that match it.\r\n     *\r\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\r\n     * @param {Array} [args] Optional array of arguments to be passed to each listener.\r\n     * @return {Object} Current instance of EventEmitter for chaining.\r\n     */\r\n    proto.emitEvent = function emitEvent(evt, args) {\r\n        var listeners = this.getListenersAsObject(evt);\r\n        var listener;\r\n        var i;\r\n        var key;\r\n        var response;\r\n\r\n        for (key in listeners) {\r\n            if (listeners.hasOwnProperty(key)) {\r\n                i = listeners[key].length;\r\n\r\n                while (i--) {\r\n                    // If the listener returns true then it shall be removed from the event\r\n                    // The function is executed either with a basic call or an apply if there is an args array\r\n                    listener = listeners[key][i];\r\n\r\n                    if (listener.once === true) {\r\n                        this.removeListener(evt, listener.listener);\r\n                    }\r\n\r\n                    response = listener.listener.apply(this, args || []);\r\n\r\n                    if (response === this._getOnceReturnValue()) {\r\n                        this.removeListener(evt, listener.listener);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Alias of emitEvent\r\n     */\r\n    proto.trigger = alias('emitEvent');\r\n\r\n    /**\r\n     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.\r\n     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.\r\n     *\r\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\r\n     * @param {...*} Optional additional arguments to be passed to each listener.\r\n     * @return {Object} Current instance of EventEmitter for chaining.\r\n     */\r\n    proto.emit = function emit(evt) {\r\n        var args = Array.prototype.slice.call(arguments, 1);\r\n        return this.emitEvent(evt, args);\r\n    };\r\n\r\n    /**\r\n     * Sets the current value to check against when executing listeners. If a\r\n     * listeners return value matches the one set here then it will be removed\r\n     * after execution. This value defaults to true.\r\n     *\r\n     * @param {*} value The new value to check for when executing listeners.\r\n     * @return {Object} Current instance of EventEmitter for chaining.\r\n     */\r\n    proto.setOnceReturnValue = function setOnceReturnValue(value) {\r\n        this._onceReturnValue = value;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Fetches the current value to check against when executing listeners. If\r\n     * the listeners return value matches this one then it should be removed\r\n     * automatically. It will return true by default.\r\n     *\r\n     * @return {*|Boolean} The current value to check for or the default, true.\r\n     * @api private\r\n     */\r\n    proto._getOnceReturnValue = function _getOnceReturnValue() {\r\n        if (this.hasOwnProperty('_onceReturnValue')) {\r\n            return this._onceReturnValue;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Fetches the events object and creates one if required.\r\n     *\r\n     * @return {Object} The events storage object.\r\n     * @api private\r\n     */\r\n    proto._getEvents = function _getEvents() {\r\n        return this._events || (this._events = {});\r\n    };\r\n\r\n    /**\r\n     * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.\r\n     *\r\n     * @return {Function} Non conflicting EventEmitter class.\r\n     */\r\n    EventEmitter.noConflict = function noConflict() {\r\n        exports.EventEmitter = originalGlobalValue;\r\n        return EventEmitter;\r\n    };\r\n\r\n    // Expose the class either via AMD, CommonJS or the global object\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('eventEmitter/EventEmitter',[],function () {\r\n            return EventEmitter;\r\n        });\r\n    }\r\n    else if (typeof module === 'object' && module.exports){\r\n        module.exports = EventEmitter;\r\n    }\r\n    else {\r\n        exports.EventEmitter = EventEmitter;\r\n    }\r\n}.call(this));\r\n\r\n/*!\r\n * docReady v1.0.4\r\n * Cross browser DOMContentLoaded event emitter\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, strict: true, undef: true, unused: true*/\r\n/*global define: false, require: false, module: false */\r\n\r\n( function( window ) {\r\n\r\n\r\n\r\nvar document = window.document;\r\n// collection of functions to be triggered on ready\r\nvar queue = [];\r\n\r\nfunction docReady( fn ) {\r\n  // throw out non-functions\r\n  if ( typeof fn !== 'function' ) {\r\n    return;\r\n  }\r\n\r\n  if ( docReady.isReady ) {\r\n    // ready now, hit it\r\n    fn();\r\n  } else {\r\n    // queue function when ready\r\n    queue.push( fn );\r\n  }\r\n}\r\n\r\ndocReady.isReady = false;\r\n\r\n// triggered on various doc ready events\r\nfunction onReady( event ) {\r\n  // bail if already triggered or IE8 document is not ready just yet\r\n  var isIE8NotReady = event.type === 'readystatechange' && document.readyState !== 'complete';\r\n  if ( docReady.isReady || isIE8NotReady ) {\r\n    return;\r\n  }\r\n\r\n  trigger();\r\n}\r\n\r\nfunction trigger() {\r\n  docReady.isReady = true;\r\n  // process queue\r\n  for ( var i=0, len = queue.length; i < len; i++ ) {\r\n    var fn = queue[i];\r\n    fn();\r\n  }\r\n}\r\n\r\nfunction defineDocReady( eventie ) {\r\n  // trigger ready if page is ready\r\n  if ( document.readyState === 'complete' ) {\r\n    trigger();\r\n  } else {\r\n    // listen for events\r\n    window.eventie.bind( document, 'DOMContentLoaded', onReady );\r\n    window.eventie.bind( document, 'readystatechange', onReady );\r\n    window.eventie.bind( window, 'load', onReady );\r\n  }\r\n\r\n  return docReady;\r\n}\r\n\r\n// transport\r\nif ( typeof define === 'function' && define.amd ) {\r\n  // AMD\r\n  define( 'doc-ready/doc-ready',[ 'eventie/eventie' ], defineDocReady );\r\n} else if ( typeof exports === 'object' ) {\r\n  module.exports = defineDocReady( require('eventie') );\r\n} else {\r\n  // browser global\r\n  window.docReady = defineDocReady( window.eventie );\r\n}\r\n\r\n})( window );\r\n\r\n/**\r\n * matchesSelector v1.0.3\r\n * matchesSelector( element, '.selector' )\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, strict: true, undef: true, unused: true */\r\n/*global define: false, module: false */\r\n\r\n( function( ElemProto ) {\r\n\r\n  \r\n\r\n  var matchesMethod = ( function() {\r\n    // check for the standard method name first\r\n    if ( ElemProto.matches ) {\r\n      return 'matches';\r\n    }\r\n    // check un-prefixed\r\n    if ( ElemProto.matchesSelector ) {\r\n      return 'matchesSelector';\r\n    }\r\n    // check vendor prefixes\r\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\r\n\r\n    for ( var i=0, len = prefixes.length; i < len; i++ ) {\r\n      var prefix = prefixes[i];\r\n      var method = prefix + 'MatchesSelector';\r\n      if ( ElemProto[ method ] ) {\r\n        return method;\r\n      }\r\n    }\r\n  })();\r\n\r\n  // ----- match ----- //\r\n\r\n  function match( elem, selector ) {\r\n    return elem[ matchesMethod ]( selector );\r\n  }\r\n\r\n  // ----- appendToFragment ----- //\r\n\r\n  function checkParent( elem ) {\r\n    // not needed if already has parent\r\n    if ( elem.parentNode ) {\r\n      return;\r\n    }\r\n    var fragment = document.createDocumentFragment();\r\n    fragment.appendChild( elem );\r\n  }\r\n\r\n  // ----- query ----- //\r\n\r\n  // fall back to using QSA\r\n  // thx @jonathantneal https://gist.github.com/3062955\r\n  function query( elem, selector ) {\r\n    // append to fragment if no parent\r\n    checkParent( elem );\r\n\r\n    // match elem with all selected elems of parent\r\n    var elems = elem.parentNode.querySelectorAll( selector );\r\n    for ( var i=0, len = elems.length; i < len; i++ ) {\r\n      // return true if match\r\n      if ( elems[i] === elem ) {\r\n        return true;\r\n      }\r\n    }\r\n    // otherwise return false\r\n    return false;\r\n  }\r\n\r\n  // ----- matchChild ----- //\r\n\r\n  function matchChild( elem, selector ) {\r\n    checkParent( elem );\r\n    return match( elem, selector );\r\n  }\r\n\r\n  // ----- matchesSelector ----- //\r\n\r\n  var matchesSelector;\r\n\r\n  if ( matchesMethod ) {\r\n    // IE9 supports matchesSelector, but doesn't work on orphaned elems\r\n    // check for that\r\n    var div = document.createElement('div');\r\n    var supportsOrphans = match( div, 'div' );\r\n    matchesSelector = supportsOrphans ? match : matchChild;\r\n  } else {\r\n    matchesSelector = query;\r\n  }\r\n\r\n  // transport\r\n  if ( typeof define === 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'matches-selector/matches-selector',[],function() {\r\n      return matchesSelector;\r\n    });\r\n  } else if ( typeof exports === 'object' ) {\r\n    module.exports = matchesSelector;\r\n  }\r\n  else {\r\n    // browser global\r\n    window.matchesSelector = matchesSelector;\r\n  }\r\n\r\n})( Element.prototype );\r\n\r\n/**\r\n * Fizzy UI utils v1.0.1\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, undef: true, unused: true, strict: true */\r\n\r\n( function( window, factory ) {\r\n  /*global define: false, module: false, require: false */\r\n  \r\n  // universal module definition\r\n\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'fizzy-ui-utils/utils',[\r\n      'doc-ready/doc-ready',\r\n      'matches-selector/matches-selector'\r\n    ], function( docReady, matchesSelector ) {\r\n      return factory( window, docReady, matchesSelector );\r\n    });\r\n  } else if ( typeof exports == 'object' ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('doc-ready'),\r\n      require('desandro-matches-selector')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.fizzyUIUtils = factory(\r\n      window,\r\n      window.docReady,\r\n      window.matchesSelector\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, docReady, matchesSelector ) {\r\n\r\n\r\n\r\nvar utils = {};\r\n\r\n// ----- extend ----- //\r\n\r\n// extends objects\r\nutils.extend = function( a, b ) {\r\n  for ( var prop in b ) {\r\n    a[ prop ] = b[ prop ];\r\n  }\r\n  return a;\r\n};\r\n\r\n// ----- modulo ----- //\r\n\r\nutils.modulo = function( num, div ) {\r\n  return ( ( num % div ) + div ) % div;\r\n};\r\n\r\n// ----- isArray ----- //\r\n  \r\nvar objToString = Object.prototype.toString;\r\nutils.isArray = function( obj ) {\r\n  return objToString.call( obj ) == '[object Array]';\r\n};\r\n\r\n// ----- makeArray ----- //\r\n\r\n// turn element or nodeList into an array\r\nutils.makeArray = function( obj ) {\r\n  var ary = [];\r\n  if ( utils.isArray( obj ) ) {\r\n    // use object if already an array\r\n    ary = obj;\r\n  } else if ( obj && typeof obj.length == 'number' ) {\r\n    // convert nodeList to array\r\n    for ( var i=0, len = obj.length; i < len; i++ ) {\r\n      ary.push( obj[i] );\r\n    }\r\n  } else {\r\n    // array of single index\r\n    ary.push( obj );\r\n  }\r\n  return ary;\r\n};\r\n\r\n// ----- indexOf ----- //\r\n\r\n// index of helper cause IE8\r\nutils.indexOf = Array.prototype.indexOf ? function( ary, obj ) {\r\n    return ary.indexOf( obj );\r\n  } : function( ary, obj ) {\r\n    for ( var i=0, len = ary.length; i < len; i++ ) {\r\n      if ( ary[i] === obj ) {\r\n        return i;\r\n      }\r\n    }\r\n    return -1;\r\n  };\r\n\r\n// ----- removeFrom ----- //\r\n\r\nutils.removeFrom = function( ary, obj ) {\r\n  var index = utils.indexOf( ary, obj );\r\n  if ( index != -1 ) {\r\n    ary.splice( index, 1 );\r\n  }\r\n};\r\n\r\n// ----- isElement ----- //\r\n\r\n// http://stackoverflow.com/a/384380/182183\r\nutils.isElement = ( typeof HTMLElement == 'function' || typeof HTMLElement == 'object' ) ?\r\n  function isElementDOM2( obj ) {\r\n    return obj instanceof HTMLElement;\r\n  } :\r\n  function isElementQuirky( obj ) {\r\n    return obj && typeof obj == 'object' &&\r\n      obj.nodeType == 1 && typeof obj.nodeName == 'string';\r\n  };\r\n\r\n// ----- setText ----- //\r\n\r\nutils.setText = ( function() {\r\n  var setTextProperty;\r\n  function setText( elem, text ) {\r\n    // only check setTextProperty once\r\n    setTextProperty = setTextProperty || ( document.documentElement.textContent !== undefined ? 'textContent' : 'innerText' );\r\n    elem[ setTextProperty ] = text;\r\n  }\r\n  return setText;\r\n})();\r\n\r\n// ----- getParent ----- //\r\n\r\nutils.getParent = function( elem, selector ) {\r\n  while ( elem != document.body ) {\r\n    elem = elem.parentNode;\r\n    if ( matchesSelector( elem, selector ) ) {\r\n      return elem;\r\n    }\r\n  }\r\n};\r\n\r\n// ----- getQueryElement ----- //\r\n\r\n// use element as selector string\r\nutils.getQueryElement = function( elem ) {\r\n  if ( typeof elem == 'string' ) {\r\n    return document.querySelector( elem );\r\n  }\r\n  return elem;\r\n};\r\n\r\n// ----- handleEvent ----- //\r\n\r\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\r\nutils.handleEvent = function( event ) {\r\n  var method = 'on' + event.type;\r\n  if ( this[ method ] ) {\r\n    this[ method ]( event );\r\n  }\r\n};\r\n\r\n// ----- filterFindElements ----- //\r\n\r\nutils.filterFindElements = function( elems, selector ) {\r\n  // make array of elems\r\n  elems = utils.makeArray( elems );\r\n  var ffElems = [];\r\n\r\n  for ( var i=0, len = elems.length; i < len; i++ ) {\r\n    var elem = elems[i];\r\n    // check that elem is an actual element\r\n    if ( !utils.isElement( elem ) ) {\r\n      continue;\r\n    }\r\n    // filter & find items if we have a selector\r\n    if ( selector ) {\r\n      // filter siblings\r\n      if ( matchesSelector( elem, selector ) ) {\r\n        ffElems.push( elem );\r\n      }\r\n      // find children\r\n      var childElems = elem.querySelectorAll( selector );\r\n      // concat childElems to filterFound array\r\n      for ( var j=0, jLen = childElems.length; j < jLen; j++ ) {\r\n        ffElems.push( childElems[j] );\r\n      }\r\n    } else {\r\n      ffElems.push( elem );\r\n    }\r\n  }\r\n\r\n  return ffElems;\r\n};\r\n\r\n// ----- debounceMethod ----- //\r\n\r\nutils.debounceMethod = function( _class, methodName, threshold ) {\r\n  // original method\r\n  var method = _class.prototype[ methodName ];\r\n  var timeoutName = methodName + 'Timeout';\r\n\r\n  _class.prototype[ methodName ] = function() {\r\n    var timeout = this[ timeoutName ];\r\n    if ( timeout ) {\r\n      clearTimeout( timeout );\r\n    }\r\n    var args = arguments;\r\n\r\n    var _this = this;\r\n    this[ timeoutName ] = setTimeout( function() {\r\n      method.apply( _this, args );\r\n      delete _this[ timeoutName ];\r\n    }, threshold || 100 );\r\n  };\r\n};\r\n\r\n// ----- htmlInit ----- //\r\n\r\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\r\nutils.toDashed = function( str ) {\r\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\r\n    return $1 + '-' + $2;\r\n  }).toLowerCase();\r\n};\r\n\r\nvar console = window.console;\r\n/**\r\n * allow user to initialize classes via .js-namespace class\r\n * htmlInit( Widget, 'widgetName' )\r\n * options are parsed from data-namespace-option attribute\r\n */\r\nutils.htmlInit = function( WidgetClass, namespace ) {\r\n  docReady( function() {\r\n    var dashedNamespace = utils.toDashed( namespace );\r\n    var elems = document.querySelectorAll( '.js-' + dashedNamespace );\r\n    var dataAttr = 'data-' + dashedNamespace + '-options';\r\n\r\n    for ( var i=0, len = elems.length; i < len; i++ ) {\r\n      var elem = elems[i];\r\n      var attr = elem.getAttribute( dataAttr );\r\n      var options;\r\n      try {\r\n        options = attr && JSON.parse( attr );\r\n      } catch ( error ) {\r\n        // log error, do not initialize\r\n        if ( console ) {\r\n          console.error( 'Error parsing ' + dataAttr + ' on ' +\r\n            elem.nodeName.toLowerCase() + ( elem.id ? '#' + elem.id : '' ) + ': ' +\r\n            error );\r\n        }\r\n        continue;\r\n      }\r\n      // initialize\r\n      var instance = new WidgetClass( elem, options );\r\n      // make available via $().data('layoutname')\r\n      var jQuery = window.jQuery;\r\n      if ( jQuery ) {\r\n        jQuery.data( elem, namespace, instance );\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\n// -----  ----- //\r\n\r\nreturn utils;\r\n\r\n}));\r\n\r\n/**\r\n * Outlayer Item\r\n */\r\n\r\n( function( window, factory ) {\r\n  \r\n  // universal module definition\r\n  if ( typeof define === 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'outlayer/item',[\r\n        'eventEmitter/EventEmitter',\r\n        'get-size/get-size',\r\n        'get-style-property/get-style-property',\r\n        'fizzy-ui-utils/utils'\r\n      ],\r\n      function( EventEmitter, getSize, getStyleProperty, utils ) {\r\n        return factory( window, EventEmitter, getSize, getStyleProperty, utils );\r\n      }\r\n    );\r\n  } else if (typeof exports === 'object') {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('wolfy87-eventemitter'),\r\n      require('get-size'),\r\n      require('desandro-get-style-property'),\r\n      require('fizzy-ui-utils')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Outlayer = {};\r\n    window.Outlayer.Item = factory(\r\n      window,\r\n      window.EventEmitter,\r\n      window.getSize,\r\n      window.getStyleProperty,\r\n      window.fizzyUIUtils\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, EventEmitter, getSize, getStyleProperty, utils ) {\r\n\r\n\r\n// ----- helpers ----- //\r\n\r\nvar getComputedStyle = window.getComputedStyle;\r\nvar getStyle = getComputedStyle ?\r\n  function( elem ) {\r\n    return getComputedStyle( elem, null );\r\n  } :\r\n  function( elem ) {\r\n    return elem.currentStyle;\r\n  };\r\n\r\n\r\nfunction isEmptyObj( obj ) {\r\n  for ( var prop in obj ) {\r\n    return false;\r\n  }\r\n  prop = null;\r\n  return true;\r\n}\r\n\r\n// -------------------------- CSS3 support -------------------------- //\r\n\r\nvar transitionProperty = getStyleProperty('transition');\r\nvar transformProperty = getStyleProperty('transform');\r\nvar supportsCSS3 = transitionProperty && transformProperty;\r\nvar is3d = !!getStyleProperty('perspective');\r\n\r\nvar transitionEndEvent = {\r\n  WebkitTransition: 'webkitTransitionEnd',\r\n  MozTransition: 'transitionend',\r\n  OTransition: 'otransitionend',\r\n  transition: 'transitionend'\r\n}[ transitionProperty ];\r\n\r\n// properties that could have vendor prefix\r\nvar prefixableProperties = [\r\n  'transform',\r\n  'transition',\r\n  'transitionDuration',\r\n  'transitionProperty'\r\n];\r\n\r\n// cache all vendor properties\r\nvar vendorProperties = ( function() {\r\n  var cache = {};\r\n  for ( var i=0, len = prefixableProperties.length; i < len; i++ ) {\r\n    var prop = prefixableProperties[i];\r\n    var supportedProp = getStyleProperty( prop );\r\n    if ( supportedProp && supportedProp !== prop ) {\r\n      cache[ prop ] = supportedProp;\r\n    }\r\n  }\r\n  return cache;\r\n})();\r\n\r\n// -------------------------- Item -------------------------- //\r\n\r\nfunction Item( element, layout ) {\r\n  if ( !element ) {\r\n    return;\r\n  }\r\n\r\n  this.element = element;\r\n  // parent layout class, i.e. Masonry, Isotope, or Packery\r\n  this.layout = layout;\r\n  this.position = {\r\n    x: 0,\r\n    y: 0\r\n  };\r\n\r\n  this._create();\r\n}\r\n\r\n// inherit EventEmitter\r\nutils.extend( Item.prototype, EventEmitter.prototype );\r\n\r\nItem.prototype._create = function() {\r\n  // transition objects\r\n  this._transn = {\r\n    ingProperties: {},\r\n    clean: {},\r\n    onEnd: {}\r\n  };\r\n\r\n  this.css({\r\n    position: 'absolute'\r\n  });\r\n};\r\n\r\n// trigger specified handler for event type\r\nItem.prototype.handleEvent = function( event ) {\r\n  var method = 'on' + event.type;\r\n  if ( this[ method ] ) {\r\n    this[ method ]( event );\r\n  }\r\n};\r\n\r\nItem.prototype.getSize = function() {\r\n  this.size = getSize( this.element );\r\n};\r\n\r\n/**\r\n * apply CSS styles to element\r\n * @param {Object} style\r\n */\r\nItem.prototype.css = function( style ) {\r\n  var elemStyle = this.element.style;\r\n\r\n  for ( var prop in style ) {\r\n    // use vendor property if available\r\n    var supportedProp = vendorProperties[ prop ] || prop;\r\n    elemStyle[ supportedProp ] = style[ prop ];\r\n  }\r\n};\r\n\r\n // measure position, and sets it\r\nItem.prototype.getPosition = function() {\r\n  var style = getStyle( this.element );\r\n  var layoutOptions = this.layout.options;\r\n  var isOriginLeft = layoutOptions.isOriginLeft;\r\n  var isOriginTop = layoutOptions.isOriginTop;\r\n  var xValue = style[ isOriginLeft ? 'left' : 'right' ];\r\n  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\r\n  // convert percent to pixels\r\n  var layoutSize = this.layout.size;\r\n  var x = xValue.indexOf('%') != -1 ?\r\n    ( parseFloat( xValue ) / 100 ) * layoutSize.width : parseInt( xValue, 10 );\r\n  var y = yValue.indexOf('%') != -1 ?\r\n    ( parseFloat( yValue ) / 100 ) * layoutSize.height : parseInt( yValue, 10 );\r\n\r\n  // clean up 'auto' or other non-integer values\r\n  x = isNaN( x ) ? 0 : x;\r\n  y = isNaN( y ) ? 0 : y;\r\n  // remove padding from measurement\r\n  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\r\n  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\r\n\r\n  this.position.x = x;\r\n  this.position.y = y;\r\n};\r\n\r\n// set settled position, apply padding\r\nItem.prototype.layoutPosition = function() {\r\n  var layoutSize = this.layout.size;\r\n  var layoutOptions = this.layout.options;\r\n  var style = {};\r\n\r\n  // x\r\n  var xPadding = layoutOptions.isOriginLeft ? 'paddingLeft' : 'paddingRight';\r\n  var xProperty = layoutOptions.isOriginLeft ? 'left' : 'right';\r\n  var xResetProperty = layoutOptions.isOriginLeft ? 'right' : 'left';\r\n\r\n  var x = this.position.x + layoutSize[ xPadding ];\r\n  // set in percentage or pixels\r\n  style[ xProperty ] = this.getXValue( x );\r\n  // reset other property\r\n  style[ xResetProperty ] = '';\r\n\r\n  // y\r\n  var yPadding = layoutOptions.isOriginTop ? 'paddingTop' : 'paddingBottom';\r\n  var yProperty = layoutOptions.isOriginTop ? 'top' : 'bottom';\r\n  var yResetProperty = layoutOptions.isOriginTop ? 'bottom' : 'top';\r\n\r\n  var y = this.position.y + layoutSize[ yPadding ];\r\n  // set in percentage or pixels\r\n  style[ yProperty ] = this.getYValue( y );\r\n  // reset other property\r\n  style[ yResetProperty ] = '';\r\n\r\n  this.css( style );\r\n  this.emitEvent( 'layout', [ this ] );\r\n};\r\n\r\nItem.prototype.getXValue = function( x ) {\r\n  var layoutOptions = this.layout.options;\r\n  return layoutOptions.percentPosition && !layoutOptions.isHorizontal ?\r\n    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\r\n};\r\n\r\nItem.prototype.getYValue = function( y ) {\r\n  var layoutOptions = this.layout.options;\r\n  return layoutOptions.percentPosition && layoutOptions.isHorizontal ?\r\n    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\r\n};\r\n\r\n\r\nItem.prototype._transitionTo = function( x, y ) {\r\n  this.getPosition();\r\n  // get current x & y from top/left\r\n  var curX = this.position.x;\r\n  var curY = this.position.y;\r\n\r\n  var compareX = parseInt( x, 10 );\r\n  var compareY = parseInt( y, 10 );\r\n  var didNotMove = compareX === this.position.x && compareY === this.position.y;\r\n\r\n  // save end position\r\n  this.setPosition( x, y );\r\n\r\n  // if did not move and not transitioning, just go to layout\r\n  if ( didNotMove && !this.isTransitioning ) {\r\n    this.layoutPosition();\r\n    return;\r\n  }\r\n\r\n  var transX = x - curX;\r\n  var transY = y - curY;\r\n  var transitionStyle = {};\r\n  transitionStyle.transform = this.getTranslate( transX, transY );\r\n\r\n  this.transition({\r\n    to: transitionStyle,\r\n    onTransitionEnd: {\r\n      transform: this.layoutPosition\r\n    },\r\n    isCleaning: true\r\n  });\r\n};\r\n\r\nItem.prototype.getTranslate = function( x, y ) {\r\n  // flip cooridinates if origin on right or bottom\r\n  var layoutOptions = this.layout.options;\r\n  x = layoutOptions.isOriginLeft ? x : -x;\r\n  y = layoutOptions.isOriginTop ? y : -y;\r\n\r\n  if ( is3d ) {\r\n    return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\r\n  }\r\n\r\n  return 'translate(' + x + 'px, ' + y + 'px)';\r\n};\r\n\r\n// non transition + transform support\r\nItem.prototype.goTo = function( x, y ) {\r\n  this.setPosition( x, y );\r\n  this.layoutPosition();\r\n};\r\n\r\n// use transition and transforms if supported\r\nItem.prototype.moveTo = supportsCSS3 ?\r\n  Item.prototype._transitionTo : Item.prototype.goTo;\r\n\r\nItem.prototype.setPosition = function( x, y ) {\r\n  this.position.x = parseInt( x, 10 );\r\n  this.position.y = parseInt( y, 10 );\r\n};\r\n\r\n// ----- transition ----- //\r\n\r\n/**\r\n * @param {Object} style - CSS\r\n * @param {Function} onTransitionEnd\r\n */\r\n\r\n// non transition, just trigger callback\r\nItem.prototype._nonTransition = function( args ) {\r\n  this.css( args.to );\r\n  if ( args.isCleaning ) {\r\n    this._removeStyles( args.to );\r\n  }\r\n  for ( var prop in args.onTransitionEnd ) {\r\n    args.onTransitionEnd[ prop ].call( this );\r\n  }\r\n};\r\n\r\n/**\r\n * proper transition\r\n * @param {Object} args - arguments\r\n *   @param {Object} to - style to transition to\r\n *   @param {Object} from - style to start transition from\r\n *   @param {Boolean} isCleaning - removes transition styles after transition\r\n *   @param {Function} onTransitionEnd - callback\r\n */\r\nItem.prototype._transition = function( args ) {\r\n  // redirect to nonTransition if no transition duration\r\n  if ( !parseFloat( this.layout.options.transitionDuration ) ) {\r\n    this._nonTransition( args );\r\n    return;\r\n  }\r\n\r\n  var _transition = this._transn;\r\n  // keep track of onTransitionEnd callback by css property\r\n  for ( var prop in args.onTransitionEnd ) {\r\n    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\r\n  }\r\n  // keep track of properties that are transitioning\r\n  for ( prop in args.to ) {\r\n    _transition.ingProperties[ prop ] = true;\r\n    // keep track of properties to clean up when transition is done\r\n    if ( args.isCleaning ) {\r\n      _transition.clean[ prop ] = true;\r\n    }\r\n  }\r\n\r\n  // set from styles\r\n  if ( args.from ) {\r\n    this.css( args.from );\r\n    // force redraw. http://blog.alexmaccaw.com/css-transitions\r\n    var h = this.element.offsetHeight;\r\n    // hack for JSHint to hush about unused var\r\n    h = null;\r\n  }\r\n  // enable transition\r\n  this.enableTransition( args.to );\r\n  // set styles that are transitioning\r\n  this.css( args.to );\r\n\r\n  this.isTransitioning = true;\r\n\r\n};\r\n\r\n// dash before all cap letters, including first for\r\n// WebkitTransform => -webkit-transform\r\nfunction toDashedAll( str ) {\r\n  return str.replace( /([A-Z])/g, function( $1 ) {\r\n    return '-' + $1.toLowerCase();\r\n  });\r\n}\r\n\r\nvar transitionProps = 'opacity,' +\r\n  toDashedAll( vendorProperties.transform || 'transform' );\r\n\r\nItem.prototype.enableTransition = function(/* style */) {\r\n  // HACK changing transitionProperty during a transition\r\n  // will cause transition to jump\r\n  if ( this.isTransitioning ) {\r\n    return;\r\n  }\r\n\r\n  // make `transition: foo, bar, baz` from style object\r\n  // HACK un-comment this when enableTransition can work\r\n  // while a transition is happening\r\n  // var transitionValues = [];\r\n  // for ( var prop in style ) {\r\n  //   // dash-ify camelCased properties like WebkitTransition\r\n  //   prop = vendorProperties[ prop ] || prop;\r\n  //   transitionValues.push( toDashedAll( prop ) );\r\n  // }\r\n  // enable transition styles\r\n  this.css({\r\n    transitionProperty: transitionProps,\r\n    transitionDuration: this.layout.options.transitionDuration\r\n  });\r\n  // listen for transition end event\r\n  this.element.addEventListener( transitionEndEvent, this, false );\r\n};\r\n\r\nItem.prototype.transition = Item.prototype[ transitionProperty ? '_transition' : '_nonTransition' ];\r\n\r\n// ----- events ----- //\r\n\r\nItem.prototype.onwebkitTransitionEnd = function( event ) {\r\n  this.ontransitionend( event );\r\n};\r\n\r\nItem.prototype.onotransitionend = function( event ) {\r\n  this.ontransitionend( event );\r\n};\r\n\r\n// properties that I munge to make my life easier\r\nvar dashedVendorProperties = {\r\n  '-webkit-transform': 'transform',\r\n  '-moz-transform': 'transform',\r\n  '-o-transform': 'transform'\r\n};\r\n\r\nItem.prototype.ontransitionend = function( event ) {\r\n  // disregard bubbled events from children\r\n  if ( event.target !== this.element ) {\r\n    return;\r\n  }\r\n  var _transition = this._transn;\r\n  // get property name of transitioned property, convert to prefix-free\r\n  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\r\n\r\n  // remove property that has completed transitioning\r\n  delete _transition.ingProperties[ propertyName ];\r\n  // check if any properties are still transitioning\r\n  if ( isEmptyObj( _transition.ingProperties ) ) {\r\n    // all properties have completed transitioning\r\n    this.disableTransition();\r\n  }\r\n  // clean style\r\n  if ( propertyName in _transition.clean ) {\r\n    // clean up style\r\n    this.element.style[ event.propertyName ] = '';\r\n    delete _transition.clean[ propertyName ];\r\n  }\r\n  // trigger onTransitionEnd callback\r\n  if ( propertyName in _transition.onEnd ) {\r\n    var onTransitionEnd = _transition.onEnd[ propertyName ];\r\n    onTransitionEnd.call( this );\r\n    delete _transition.onEnd[ propertyName ];\r\n  }\r\n\r\n  this.emitEvent( 'transitionEnd', [ this ] );\r\n};\r\n\r\nItem.prototype.disableTransition = function() {\r\n  this.removeTransitionStyles();\r\n  this.element.removeEventListener( transitionEndEvent, this, false );\r\n  this.isTransitioning = false;\r\n};\r\n\r\n/**\r\n * removes style property from element\r\n * @param {Object} style\r\n**/\r\nItem.prototype._removeStyles = function( style ) {\r\n  // clean up transition styles\r\n  var cleanStyle = {};\r\n  for ( var prop in style ) {\r\n    cleanStyle[ prop ] = '';\r\n  }\r\n  this.css( cleanStyle );\r\n};\r\n\r\nvar cleanTransitionStyle = {\r\n  transitionProperty: '',\r\n  transitionDuration: ''\r\n};\r\n\r\nItem.prototype.removeTransitionStyles = function() {\r\n  // remove transition\r\n  this.css( cleanTransitionStyle );\r\n};\r\n\r\n// ----- show/hide/remove ----- //\r\n\r\n// remove element from DOM\r\nItem.prototype.removeElem = function() {\r\n  this.element.parentNode.removeChild( this.element );\r\n  // remove display: none\r\n  this.css({ display: '' });\r\n  this.emitEvent( 'remove', [ this ] );\r\n};\r\n\r\nItem.prototype.remove = function() {\r\n  // just remove element if no transition support or no transition\r\n  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\r\n    this.removeElem();\r\n    return;\r\n  }\r\n\r\n  // start transition\r\n  var _this = this;\r\n  this.once( 'transitionEnd', function() {\r\n    _this.removeElem();\r\n  });\r\n  this.hide();\r\n};\r\n\r\nItem.prototype.reveal = function() {\r\n  delete this.isHidden;\r\n  // remove display: none\r\n  this.css({ display: '' });\r\n\r\n  var options = this.layout.options;\r\n\r\n  var onTransitionEnd = {};\r\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\r\n  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\r\n\r\n  this.transition({\r\n    from: options.hiddenStyle,\r\n    to: options.visibleStyle,\r\n    isCleaning: true,\r\n    onTransitionEnd: onTransitionEnd\r\n  });\r\n};\r\n\r\nItem.prototype.onRevealTransitionEnd = function() {\r\n  // check if still visible\r\n  // during transition, item may have been hidden\r\n  if ( !this.isHidden ) {\r\n    this.emitEvent('reveal');\r\n  }\r\n};\r\n\r\n/**\r\n * get style property use for hide/reveal transition end\r\n * @param {String} styleProperty - hiddenStyle/visibleStyle\r\n * @returns {String}\r\n */\r\nItem.prototype.getHideRevealTransitionEndProperty = function( styleProperty ) {\r\n  var optionStyle = this.layout.options[ styleProperty ];\r\n  // use opacity\r\n  if ( optionStyle.opacity ) {\r\n    return 'opacity';\r\n  }\r\n  // get first property\r\n  for ( var prop in optionStyle ) {\r\n    return prop;\r\n  }\r\n};\r\n\r\nItem.prototype.hide = function() {\r\n  // set flag\r\n  this.isHidden = true;\r\n  // remove display: none\r\n  this.css({ display: '' });\r\n\r\n  var options = this.layout.options;\r\n\r\n  var onTransitionEnd = {};\r\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\r\n  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\r\n\r\n  this.transition({\r\n    from: options.visibleStyle,\r\n    to: options.hiddenStyle,\r\n    // keep hidden stuff hidden\r\n    isCleaning: true,\r\n    onTransitionEnd: onTransitionEnd\r\n  });\r\n};\r\n\r\nItem.prototype.onHideTransitionEnd = function() {\r\n  // check if still hidden\r\n  // during transition, item may have been un-hidden\r\n  if ( this.isHidden ) {\r\n    this.css({ display: 'none' });\r\n    this.emitEvent('hide');\r\n  }\r\n};\r\n\r\nItem.prototype.destroy = function() {\r\n  this.css({\r\n    position: '',\r\n    left: '',\r\n    right: '',\r\n    top: '',\r\n    bottom: '',\r\n    transition: '',\r\n    transform: ''\r\n  });\r\n};\r\n\r\nreturn Item;\r\n\r\n}));\r\n\r\n/*!\r\n * Outlayer v1.4.2\r\n * the brains and guts of a layout library\r\n * MIT license\r\n */\r\n\r\n( function( window, factory ) {\r\n  \r\n  // universal module definition\r\n\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'outlayer/outlayer',[\r\n        'eventie/eventie',\r\n        'eventEmitter/EventEmitter',\r\n        'get-size/get-size',\r\n        'fizzy-ui-utils/utils',\r\n        './item'\r\n      ],\r\n      function( eventie, EventEmitter, getSize, utils, Item ) {\r\n        return factory( window, eventie, EventEmitter, getSize, utils, Item);\r\n      }\r\n    );\r\n  } else if ( typeof exports == 'object' ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('eventie'),\r\n      require('wolfy87-eventemitter'),\r\n      require('get-size'),\r\n      require('fizzy-ui-utils'),\r\n      require('./item')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Outlayer = factory(\r\n      window,\r\n      window.eventie,\r\n      window.EventEmitter,\r\n      window.getSize,\r\n      window.fizzyUIUtils,\r\n      window.Outlayer.Item\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, eventie, EventEmitter, getSize, utils, Item ) {\r\n\r\n\r\n// ----- vars ----- //\r\n\r\nvar console = window.console;\r\nvar jQuery = window.jQuery;\r\nvar noop = function() {};\r\n\r\n// -------------------------- Outlayer -------------------------- //\r\n\r\n// globally unique identifiers\r\nvar GUID = 0;\r\n// internal store of all Outlayer intances\r\nvar instances = {};\r\n\r\n\r\n/**\r\n * @param {Element, String} element\r\n * @param {Object} options\r\n * @constructor\r\n */\r\nfunction Outlayer( element, options ) {\r\n  var queryElement = utils.getQueryElement( element );\r\n  if ( !queryElement ) {\r\n    if ( console ) {\r\n      console.error( 'Bad element for ' + this.constructor.namespace +\r\n        ': ' + ( queryElement || element ) );\r\n    }\r\n    return;\r\n  }\r\n  this.element = queryElement;\r\n  // add jQuery\r\n  if ( jQuery ) {\r\n    this.$element = jQuery( this.element );\r\n  }\r\n\r\n  // options\r\n  this.options = utils.extend( {}, this.constructor.defaults );\r\n  this.option( options );\r\n\r\n  // add id for Outlayer.getFromElement\r\n  var id = ++GUID;\r\n  this.element.outlayerGUID = id; // expando\r\n  instances[ id ] = this; // associate via id\r\n\r\n  // kick it off\r\n  this._create();\r\n\r\n  if ( this.options.isInitLayout ) {\r\n    this.layout();\r\n  }\r\n}\r\n\r\n// settings are for internal use only\r\nOutlayer.namespace = 'outlayer';\r\nOutlayer.Item = Item;\r\n\r\n// default options\r\nOutlayer.defaults = {\r\n  containerStyle: {\r\n    position: 'relative'\r\n  },\r\n  isInitLayout: true,\r\n  isOriginLeft: true,\r\n  isOriginTop: true,\r\n  isResizeBound: true,\r\n  isResizingContainer: true,\r\n  // item options\r\n  transitionDuration: '0.4s',\r\n  hiddenStyle: {\r\n    opacity: 0,\r\n    transform: 'scale(0.001)'\r\n  },\r\n  visibleStyle: {\r\n    opacity: 1,\r\n    transform: 'scale(1)'\r\n  }\r\n};\r\n\r\n// inherit EventEmitter\r\nutils.extend( Outlayer.prototype, EventEmitter.prototype );\r\n\r\n/**\r\n * set options\r\n * @param {Object} opts\r\n */\r\nOutlayer.prototype.option = function( opts ) {\r\n  utils.extend( this.options, opts );\r\n};\r\n\r\nOutlayer.prototype._create = function() {\r\n  // get items from children\r\n  this.reloadItems();\r\n  // elements that affect layout, but are not laid out\r\n  this.stamps = [];\r\n  this.stamp( this.options.stamp );\r\n  // set container style\r\n  utils.extend( this.element.style, this.options.containerStyle );\r\n\r\n  // bind resize method\r\n  if ( this.options.isResizeBound ) {\r\n    this.bindResize();\r\n  }\r\n};\r\n\r\n// goes through all children again and gets bricks in proper order\r\nOutlayer.prototype.reloadItems = function() {\r\n  // collection of item elements\r\n  this.items = this._itemize( this.element.children );\r\n};\r\n\r\n\r\n/**\r\n * turn elements into Outlayer.Items to be used in layout\r\n * @param {Array or NodeList or HTMLElement} elems\r\n * @returns {Array} items - collection of new Outlayer Items\r\n */\r\nOutlayer.prototype._itemize = function( elems ) {\r\n\r\n  var itemElems = this._filterFindItemElements( elems );\r\n  var Item = this.constructor.Item;\r\n\r\n  // create new Outlayer Items for collection\r\n  var items = [];\r\n  for ( var i=0, len = itemElems.length; i < len; i++ ) {\r\n    var elem = itemElems[i];\r\n    var item = new Item( elem, this );\r\n    items.push( item );\r\n  }\r\n\r\n  return items;\r\n};\r\n\r\n/**\r\n * get item elements to be used in layout\r\n * @param {Array or NodeList or HTMLElement} elems\r\n * @returns {Array} items - item elements\r\n */\r\nOutlayer.prototype._filterFindItemElements = function( elems ) {\r\n  return utils.filterFindElements( elems, this.options.itemSelector );\r\n};\r\n\r\n/**\r\n * getter method for getting item elements\r\n * @returns {Array} elems - collection of item elements\r\n */\r\nOutlayer.prototype.getItemElements = function() {\r\n  var elems = [];\r\n  for ( var i=0, len = this.items.length; i < len; i++ ) {\r\n    elems.push( this.items[i].element );\r\n  }\r\n  return elems;\r\n};\r\n\r\n// ----- init & layout ----- //\r\n\r\n/**\r\n * lays out all items\r\n */\r\nOutlayer.prototype.layout = function() {\r\n  this._resetLayout();\r\n  this._manageStamps();\r\n\r\n  // don't animate first layout\r\n  var isInstant = this.options.isLayoutInstant !== undefined ?\r\n    this.options.isLayoutInstant : !this._isLayoutInited;\r\n  this.layoutItems( this.items, isInstant );\r\n\r\n  // flag for initalized\r\n  this._isLayoutInited = true;\r\n};\r\n\r\n// _init is alias for layout\r\nOutlayer.prototype._init = Outlayer.prototype.layout;\r\n\r\n/**\r\n * logic before any new layout\r\n */\r\nOutlayer.prototype._resetLayout = function() {\r\n  this.getSize();\r\n};\r\n\r\n\r\nOutlayer.prototype.getSize = function() {\r\n  this.size = getSize( this.element );\r\n};\r\n\r\n/**\r\n * get measurement from option, for columnWidth, rowHeight, gutter\r\n * if option is String -> get element from selector string, & get size of element\r\n * if option is Element -> get size of element\r\n * else use option as a number\r\n *\r\n * @param {String} measurement\r\n * @param {String} size - width or height\r\n * @private\r\n */\r\nOutlayer.prototype._getMeasurement = function( measurement, size ) {\r\n  var option = this.options[ measurement ];\r\n  var elem;\r\n  if ( !option ) {\r\n    // default to 0\r\n    this[ measurement ] = 0;\r\n  } else {\r\n    // use option as an element\r\n    if ( typeof option === 'string' ) {\r\n      elem = this.element.querySelector( option );\r\n    } else if ( utils.isElement( option ) ) {\r\n      elem = option;\r\n    }\r\n    // use size of element, if element\r\n    this[ measurement ] = elem ? getSize( elem )[ size ] : option;\r\n  }\r\n};\r\n\r\n/**\r\n * layout a collection of item elements\r\n * @api public\r\n */\r\nOutlayer.prototype.layoutItems = function( items, isInstant ) {\r\n  items = this._getItemsForLayout( items );\r\n\r\n  this._layoutItems( items, isInstant );\r\n\r\n  this._postLayout();\r\n};\r\n\r\n/**\r\n * get the items to be laid out\r\n * you may want to skip over some items\r\n * @param {Array} items\r\n * @returns {Array} items\r\n */\r\nOutlayer.prototype._getItemsForLayout = function( items ) {\r\n  var layoutItems = [];\r\n  for ( var i=0, len = items.length; i < len; i++ ) {\r\n    var item = items[i];\r\n    if ( !item.isIgnored ) {\r\n      layoutItems.push( item );\r\n    }\r\n  }\r\n  return layoutItems;\r\n};\r\n\r\n/**\r\n * layout items\r\n * @param {Array} items\r\n * @param {Boolean} isInstant\r\n */\r\nOutlayer.prototype._layoutItems = function( items, isInstant ) {\r\n  this._emitCompleteOnItems( 'layout', items );\r\n\r\n  if ( !items || !items.length ) {\r\n    // no items, emit event with empty array\r\n    return;\r\n  }\r\n\r\n  var queue = [];\r\n\r\n  for ( var i=0, len = items.length; i < len; i++ ) {\r\n    var item = items[i];\r\n    // get x/y object from method\r\n    var position = this._getItemLayoutPosition( item );\r\n    // enqueue\r\n    position.item = item;\r\n    position.isInstant = isInstant || item.isLayoutInstant;\r\n    queue.push( position );\r\n  }\r\n\r\n  this._processLayoutQueue( queue );\r\n};\r\n\r\n/**\r\n * get item layout position\r\n * @param {Outlayer.Item} item\r\n * @returns {Object} x and y position\r\n */\r\nOutlayer.prototype._getItemLayoutPosition = function( /* item */ ) {\r\n  return {\r\n    x: 0,\r\n    y: 0\r\n  };\r\n};\r\n\r\n/**\r\n * iterate over array and position each item\r\n * Reason being - separating this logic prevents 'layout invalidation'\r\n * thx @paul_irish\r\n * @param {Array} queue\r\n */\r\nOutlayer.prototype._processLayoutQueue = function( queue ) {\r\n  for ( var i=0, len = queue.length; i < len; i++ ) {\r\n    var obj = queue[i];\r\n    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant );\r\n  }\r\n};\r\n\r\n/**\r\n * Sets position of item in DOM\r\n * @param {Outlayer.Item} item\r\n * @param {Number} x - horizontal position\r\n * @param {Number} y - vertical position\r\n * @param {Boolean} isInstant - disables transitions\r\n */\r\nOutlayer.prototype._positionItem = function( item, x, y, isInstant ) {\r\n  if ( isInstant ) {\r\n    // if not transition, just set CSS\r\n    item.goTo( x, y );\r\n  } else {\r\n    item.moveTo( x, y );\r\n  }\r\n};\r\n\r\n/**\r\n * Any logic you want to do after each layout,\r\n * i.e. size the container\r\n */\r\nOutlayer.prototype._postLayout = function() {\r\n  this.resizeContainer();\r\n};\r\n\r\nOutlayer.prototype.resizeContainer = function() {\r\n  if ( !this.options.isResizingContainer ) {\r\n    return;\r\n  }\r\n  var size = this._getContainerSize();\r\n  if ( size ) {\r\n    this._setContainerMeasure( size.width, true );\r\n    this._setContainerMeasure( size.height, false );\r\n  }\r\n};\r\n\r\n/**\r\n * Sets width or height of container if returned\r\n * @returns {Object} size\r\n *   @param {Number} width\r\n *   @param {Number} height\r\n */\r\nOutlayer.prototype._getContainerSize = noop;\r\n\r\n/**\r\n * @param {Number} measure - size of width or height\r\n * @param {Boolean} isWidth\r\n */\r\nOutlayer.prototype._setContainerMeasure = function( measure, isWidth ) {\r\n  if ( measure === undefined ) {\r\n    return;\r\n  }\r\n\r\n  var elemSize = this.size;\r\n  // add padding and border width if border box\r\n  if ( elemSize.isBorderBox ) {\r\n    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\r\n      elemSize.borderLeftWidth + elemSize.borderRightWidth :\r\n      elemSize.paddingBottom + elemSize.paddingTop +\r\n      elemSize.borderTopWidth + elemSize.borderBottomWidth;\r\n  }\r\n\r\n  measure = Math.max( measure, 0 );\r\n  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\r\n};\r\n\r\n/**\r\n * emit eventComplete on a collection of items events\r\n * @param {String} eventName\r\n * @param {Array} items - Outlayer.Items\r\n */\r\nOutlayer.prototype._emitCompleteOnItems = function( eventName, items ) {\r\n  var _this = this;\r\n  function onComplete() {\r\n    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\r\n  }\r\n\r\n  var count = items.length;\r\n  if ( !items || !count ) {\r\n    onComplete();\r\n    return;\r\n  }\r\n\r\n  var doneCount = 0;\r\n  function tick() {\r\n    doneCount++;\r\n    if ( doneCount === count ) {\r\n      onComplete();\r\n    }\r\n  }\r\n\r\n  // bind callback\r\n  for ( var i=0, len = items.length; i < len; i++ ) {\r\n    var item = items[i];\r\n    item.once( eventName, tick );\r\n  }\r\n};\r\n\r\n/**\r\n * emits events via eventEmitter and jQuery events\r\n * @param {String} type - name of event\r\n * @param {Event} event - original event\r\n * @param {Array} args - extra arguments\r\n */\r\nOutlayer.prototype.dispatchEvent = function( type, event, args ) {\r\n  // add original event to arguments\r\n  var emitArgs = event ? [ event ].concat( args ) : args;\r\n  this.emitEvent( type, emitArgs );\r\n\r\n  if ( jQuery ) {\r\n    // set this.$element\r\n    this.$element = this.$element || jQuery( this.element );\r\n    if ( event ) {\r\n      // create jQuery event\r\n      var $event = jQuery.Event( event );\r\n      $event.type = type;\r\n      this.$element.trigger( $event, args );\r\n    } else {\r\n      // just trigger with type if no event available\r\n      this.$element.trigger( type, args );\r\n    }\r\n  }\r\n};\r\n\r\n// -------------------------- ignore & stamps -------------------------- //\r\n\r\n\r\n/**\r\n * keep item in collection, but do not lay it out\r\n * ignored items do not get skipped in layout\r\n * @param {Element} elem\r\n */\r\nOutlayer.prototype.ignore = function( elem ) {\r\n  var item = this.getItem( elem );\r\n  if ( item ) {\r\n    item.isIgnored = true;\r\n  }\r\n};\r\n\r\n/**\r\n * return item to layout collection\r\n * @param {Element} elem\r\n */\r\nOutlayer.prototype.unignore = function( elem ) {\r\n  var item = this.getItem( elem );\r\n  if ( item ) {\r\n    delete item.isIgnored;\r\n  }\r\n};\r\n\r\n/**\r\n * adds elements to stamps\r\n * @param {NodeList, Array, Element, or String} elems\r\n */\r\nOutlayer.prototype.stamp = function( elems ) {\r\n  elems = this._find( elems );\r\n  if ( !elems ) {\r\n    return;\r\n  }\r\n\r\n  this.stamps = this.stamps.concat( elems );\r\n  // ignore\r\n  for ( var i=0, len = elems.length; i < len; i++ ) {\r\n    var elem = elems[i];\r\n    this.ignore( elem );\r\n  }\r\n};\r\n\r\n/**\r\n * removes elements to stamps\r\n * @param {NodeList, Array, or Element} elems\r\n */\r\nOutlayer.prototype.unstamp = function( elems ) {\r\n  elems = this._find( elems );\r\n  if ( !elems ){\r\n    return;\r\n  }\r\n\r\n  for ( var i=0, len = elems.length; i < len; i++ ) {\r\n    var elem = elems[i];\r\n    // filter out removed stamp elements\r\n    utils.removeFrom( this.stamps, elem );\r\n    this.unignore( elem );\r\n  }\r\n\r\n};\r\n\r\n/**\r\n * finds child elements\r\n * @param {NodeList, Array, Element, or String} elems\r\n * @returns {Array} elems\r\n */\r\nOutlayer.prototype._find = function( elems ) {\r\n  if ( !elems ) {\r\n    return;\r\n  }\r\n  // if string, use argument as selector string\r\n  if ( typeof elems === 'string' ) {\r\n    elems = this.element.querySelectorAll( elems );\r\n  }\r\n  elems = utils.makeArray( elems );\r\n  return elems;\r\n};\r\n\r\nOutlayer.prototype._manageStamps = function() {\r\n  if ( !this.stamps || !this.stamps.length ) {\r\n    return;\r\n  }\r\n\r\n  this._getBoundingRect();\r\n\r\n  for ( var i=0, len = this.stamps.length; i < len; i++ ) {\r\n    var stamp = this.stamps[i];\r\n    this._manageStamp( stamp );\r\n  }\r\n};\r\n\r\n// update boundingLeft / Top\r\nOutlayer.prototype._getBoundingRect = function() {\r\n  // get bounding rect for container element\r\n  var boundingRect = this.element.getBoundingClientRect();\r\n  var size = this.size;\r\n  this._boundingRect = {\r\n    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\r\n    top: boundingRect.top + size.paddingTop + size.borderTopWidth,\r\n    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\r\n    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\r\n  };\r\n};\r\n\r\n/**\r\n * @param {Element} stamp\r\n**/\r\nOutlayer.prototype._manageStamp = noop;\r\n\r\n/**\r\n * get x/y position of element relative to container element\r\n * @param {Element} elem\r\n * @returns {Object} offset - has left, top, right, bottom\r\n */\r\nOutlayer.prototype._getElementOffset = function( elem ) {\r\n  var boundingRect = elem.getBoundingClientRect();\r\n  var thisRect = this._boundingRect;\r\n  var size = getSize( elem );\r\n  var offset = {\r\n    left: boundingRect.left - thisRect.left - size.marginLeft,\r\n    top: boundingRect.top - thisRect.top - size.marginTop,\r\n    right: thisRect.right - boundingRect.right - size.marginRight,\r\n    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\r\n  };\r\n  return offset;\r\n};\r\n\r\n// -------------------------- resize -------------------------- //\r\n\r\n// enable event handlers for listeners\r\n// i.e. resize -> onresize\r\nOutlayer.prototype.handleEvent = function( event ) {\r\n  var method = 'on' + event.type;\r\n  if ( this[ method ] ) {\r\n    this[ method ]( event );\r\n  }\r\n};\r\n\r\n/**\r\n * Bind layout to window resizing\r\n */\r\nOutlayer.prototype.bindResize = function() {\r\n  // bind just one listener\r\n  if ( this.isResizeBound ) {\r\n    return;\r\n  }\r\n  window.eventie.bind( window, 'resize', this );\r\n  this.isResizeBound = true;\r\n};\r\n\r\n/**\r\n * Unbind layout to window resizing\r\n */\r\nOutlayer.prototype.unbindResize = function() {\r\n  if ( this.isResizeBound ) {\r\n    window.eventie.unbind( window, 'resize', this );\r\n  }\r\n  this.isResizeBound = false;\r\n};\r\n\r\n// original debounce by John Hann\r\n// http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/\r\n\r\n// this fires every resize\r\nOutlayer.prototype.onresize = function() {\r\n  if ( this.resizeTimeout ) {\r\n    clearTimeout( this.resizeTimeout );\r\n  }\r\n\r\n  var _this = this;\r\n  function delayed() {\r\n    _this.resize();\r\n    delete _this.resizeTimeout;\r\n  }\r\n\r\n  this.resizeTimeout = setTimeout( delayed, 100 );\r\n};\r\n\r\n// debounced, layout on resize\r\nOutlayer.prototype.resize = function() {\r\n  // don't trigger if size did not change\r\n  // or if resize was unbound. See #9\r\n  if ( !this.isResizeBound || !this.needsResizeLayout() ) {\r\n    return;\r\n  }\r\n\r\n  this.layout();\r\n};\r\n\r\n/**\r\n * check if layout is needed post layout\r\n * @returns Boolean\r\n */\r\nOutlayer.prototype.needsResizeLayout = function() {\r\n  var size = getSize( this.element );\r\n  // check that this.size and size are there\r\n  // IE8 triggers resize on body size change, so they might not be\r\n  var hasSizes = this.size && size;\r\n  return hasSizes && size.innerWidth !== this.size.innerWidth;\r\n};\r\n\r\n// -------------------------- methods -------------------------- //\r\n\r\n/**\r\n * add items to Outlayer instance\r\n * @param {Array or NodeList or Element} elems\r\n * @returns {Array} items - Outlayer.Items\r\n**/\r\nOutlayer.prototype.addItems = function( elems ) {\r\n  var items = this._itemize( elems );\r\n  // add items to collection\r\n  if ( items.length ) {\r\n    this.items = this.items.concat( items );\r\n  }\r\n  return items;\r\n};\r\n\r\n/**\r\n * Layout newly-appended item elements\r\n * @param {Array or NodeList or Element} elems\r\n */\r\nOutlayer.prototype.appended = function( elems ) {\r\n  var items = this.addItems( elems );\r\n  if ( !items.length ) {\r\n    return;\r\n  }\r\n  // layout and reveal just the new items\r\n  this.layoutItems( items, true );\r\n  this.reveal( items );\r\n};\r\n\r\n/**\r\n * Layout prepended elements\r\n * @param {Array or NodeList or Element} elems\r\n */\r\nOutlayer.prototype.prepended = function( elems ) {\r\n  var items = this._itemize( elems );\r\n  if ( !items.length ) {\r\n    return;\r\n  }\r\n  // add items to beginning of collection\r\n  var previousItems = this.items.slice(0);\r\n  this.items = items.concat( previousItems );\r\n  // start new layout\r\n  this._resetLayout();\r\n  this._manageStamps();\r\n  // layout new stuff without transition\r\n  this.layoutItems( items, true );\r\n  this.reveal( items );\r\n  // layout previous items\r\n  this.layoutItems( previousItems );\r\n};\r\n\r\n/**\r\n * reveal a collection of items\r\n * @param {Array of Outlayer.Items} items\r\n */\r\nOutlayer.prototype.reveal = function( items ) {\r\n  this._emitCompleteOnItems( 'reveal', items );\r\n\r\n  var len = items && items.length;\r\n  for ( var i=0; len && i < len; i++ ) {\r\n    var item = items[i];\r\n    item.reveal();\r\n  }\r\n};\r\n\r\n/**\r\n * hide a collection of items\r\n * @param {Array of Outlayer.Items} items\r\n */\r\nOutlayer.prototype.hide = function( items ) {\r\n  this._emitCompleteOnItems( 'hide', items );\r\n\r\n  var len = items && items.length;\r\n  for ( var i=0; len && i < len; i++ ) {\r\n    var item = items[i];\r\n    item.hide();\r\n  }\r\n};\r\n\r\n/**\r\n * reveal item elements\r\n * @param {Array}, {Element}, {NodeList} items\r\n */\r\nOutlayer.prototype.revealItemElements = function( elems ) {\r\n  var items = this.getItems( elems );\r\n  this.reveal( items );\r\n};\r\n\r\n/**\r\n * hide item elements\r\n * @param {Array}, {Element}, {NodeList} items\r\n */\r\nOutlayer.prototype.hideItemElements = function( elems ) {\r\n  var items = this.getItems( elems );\r\n  this.hide( items );\r\n};\r\n\r\n/**\r\n * get Outlayer.Item, given an Element\r\n * @param {Element} elem\r\n * @param {Function} callback\r\n * @returns {Outlayer.Item} item\r\n */\r\nOutlayer.prototype.getItem = function( elem ) {\r\n  // loop through items to get the one that matches\r\n  for ( var i=0, len = this.items.length; i < len; i++ ) {\r\n    var item = this.items[i];\r\n    if ( item.element === elem ) {\r\n      // return item\r\n      return item;\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * get collection of Outlayer.Items, given Elements\r\n * @param {Array} elems\r\n * @returns {Array} items - Outlayer.Items\r\n */\r\nOutlayer.prototype.getItems = function( elems ) {\r\n  elems = utils.makeArray( elems );\r\n  var items = [];\r\n  for ( var i=0, len = elems.length; i < len; i++ ) {\r\n    var elem = elems[i];\r\n    var item = this.getItem( elem );\r\n    if ( item ) {\r\n      items.push( item );\r\n    }\r\n  }\r\n\r\n  return items;\r\n};\r\n\r\n/**\r\n * remove element(s) from instance and DOM\r\n * @param {Array or NodeList or Element} elems\r\n */\r\nOutlayer.prototype.remove = function( elems ) {\r\n  var removeItems = this.getItems( elems );\r\n\r\n  this._emitCompleteOnItems( 'remove', removeItems );\r\n\r\n  // bail if no items to remove\r\n  if ( !removeItems || !removeItems.length ) {\r\n    return;\r\n  }\r\n\r\n  for ( var i=0, len = removeItems.length; i < len; i++ ) {\r\n    var item = removeItems[i];\r\n    item.remove();\r\n    // remove item from collection\r\n    utils.removeFrom( this.items, item );\r\n  }\r\n};\r\n\r\n// ----- destroy ----- //\r\n\r\n// remove and disable Outlayer instance\r\nOutlayer.prototype.destroy = function() {\r\n  // clean up dynamic styles\r\n  var style = this.element.style;\r\n  style.height = '';\r\n  style.position = '';\r\n  style.width = '';\r\n  // destroy items\r\n  for ( var i=0, len = this.items.length; i < len; i++ ) {\r\n    var item = this.items[i];\r\n    item.destroy();\r\n  }\r\n\r\n  this.unbindResize();\r\n\r\n  var id = this.element.outlayerGUID;\r\n  delete instances[ id ]; // remove reference to instance by id\r\n  delete this.element.outlayerGUID;\r\n  // remove data for jQuery\r\n  if ( jQuery ) {\r\n    jQuery.removeData( this.element, this.constructor.namespace );\r\n  }\r\n\r\n};\r\n\r\n// -------------------------- data -------------------------- //\r\n\r\n/**\r\n * get Outlayer instance from element\r\n * @param {Element} elem\r\n * @returns {Outlayer}\r\n */\r\nOutlayer.data = function( elem ) {\r\n  elem = utils.getQueryElement( elem );\r\n  var id = elem && elem.outlayerGUID;\r\n  return id && instances[ id ];\r\n};\r\n\r\n\r\n// -------------------------- create Outlayer class -------------------------- //\r\n\r\n/**\r\n * create a layout class\r\n * @param {String} namespace\r\n */\r\nOutlayer.create = function( namespace, options ) {\r\n  // sub-class Outlayer\r\n  function Layout() {\r\n    Outlayer.apply( this, arguments );\r\n  }\r\n  // inherit Outlayer prototype, use Object.create if there\r\n  if ( Object.create ) {\r\n    Layout.prototype = Object.create( Outlayer.prototype );\r\n  } else {\r\n    utils.extend( Layout.prototype, Outlayer.prototype );\r\n  }\r\n  // set contructor, used for namespace and Item\r\n  Layout.prototype.constructor = Layout;\r\n\r\n  Layout.defaults = utils.extend( {}, Outlayer.defaults );\r\n  // apply new options\r\n  utils.extend( Layout.defaults, options );\r\n  // keep prototype.settings for backwards compatibility (Packery v1.2.0)\r\n  Layout.prototype.settings = {};\r\n\r\n  Layout.namespace = namespace;\r\n\r\n  Layout.data = Outlayer.data;\r\n\r\n  // sub-class Item\r\n  Layout.Item = function LayoutItem() {\r\n    Item.apply( this, arguments );\r\n  };\r\n\r\n  Layout.Item.prototype = new Item();\r\n\r\n  // -------------------------- declarative -------------------------- //\r\n\r\n  utils.htmlInit( Layout, namespace );\r\n\r\n  // -------------------------- jQuery bridge -------------------------- //\r\n\r\n  // make into jQuery plugin\r\n  if ( jQuery && jQuery.bridget ) {\r\n    jQuery.bridget( namespace, Layout );\r\n  }\r\n\r\n  return Layout;\r\n};\r\n\r\n// ----- fin ----- //\r\n\r\n// back in global\r\nOutlayer.Item = Item;\r\n\r\nreturn Outlayer;\r\n\r\n}));\r\n\r\n\r\n/**\r\n * Rect\r\n * low-level utility class for basic geometry\r\n */\r\n\r\n( function( window, factory ) {\r\n  \r\n  // universal module definition\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'packery/js/rect',factory );\r\n  } else if ( typeof exports == 'object' ) {\r\n    // CommonJS\r\n    module.exports = factory();\r\n  } else {\r\n    // browser global\r\n    window.Packery = window.Packery || {};\r\n    window.Packery.Rect = factory();\r\n  }\r\n\r\n}( window, function factory() {\r\n\r\n\r\n// -------------------------- Packery -------------------------- //\r\n\r\n// global namespace\r\nvar Packery = window.Packery = function() {};\r\n\r\n// -------------------------- Rect -------------------------- //\r\n\r\nfunction Rect( props ) {\r\n  // extend properties from defaults\r\n  for ( var prop in Rect.defaults ) {\r\n    this[ prop ] = Rect.defaults[ prop ];\r\n  }\r\n\r\n  for ( prop in props ) {\r\n    this[ prop ] = props[ prop ];\r\n  }\r\n\r\n}\r\n\r\n// make available\r\nPackery.Rect = Rect;\r\n\r\nRect.defaults = {\r\n  x: 0,\r\n  y: 0,\r\n  width: 0,\r\n  height: 0\r\n};\r\n\r\n/**\r\n * Determines whether or not this rectangle wholly encloses another rectangle or point.\r\n * @param {Rect} rect\r\n * @returns {Boolean}\r\n**/\r\nRect.prototype.contains = function( rect ) {\r\n  // points don't have width or height\r\n  var otherWidth = rect.width || 0;\r\n  var otherHeight = rect.height || 0;\r\n  return this.x <= rect.x &&\r\n    this.y <= rect.y &&\r\n    this.x + this.width >= rect.x + otherWidth &&\r\n    this.y + this.height >= rect.y + otherHeight;\r\n};\r\n\r\n/**\r\n * Determines whether or not the rectangle intersects with another.\r\n * @param {Rect} rect\r\n * @returns {Boolean}\r\n**/\r\nRect.prototype.overlaps = function( rect ) {\r\n  var thisRight = this.x + this.width;\r\n  var thisBottom = this.y + this.height;\r\n  var rectRight = rect.x + rect.width;\r\n  var rectBottom = rect.y + rect.height;\r\n\r\n  // http://stackoverflow.com/a/306332\r\n  return this.x < rectRight &&\r\n    thisRight > rect.x &&\r\n    this.y < rectBottom &&\r\n    thisBottom > rect.y;\r\n};\r\n\r\n/**\r\n * @param {Rect} rect - the overlapping rect\r\n * @returns {Array} freeRects - rects representing the area around the rect\r\n**/\r\nRect.prototype.getMaximalFreeRects = function( rect ) {\r\n\r\n  // if no intersection, return false\r\n  if ( !this.overlaps( rect ) ) {\r\n    return false;\r\n  }\r\n\r\n  var freeRects = [];\r\n  var freeRect;\r\n\r\n  var thisRight = this.x + this.width;\r\n  var thisBottom = this.y + this.height;\r\n  var rectRight = rect.x + rect.width;\r\n  var rectBottom = rect.y + rect.height;\r\n\r\n  // top\r\n  if ( this.y < rect.y ) {\r\n    freeRect = new Rect({\r\n      x: this.x,\r\n      y: this.y,\r\n      width: this.width,\r\n      height: rect.y - this.y\r\n    });\r\n    freeRects.push( freeRect );\r\n  }\r\n\r\n  // right\r\n  if ( thisRight > rectRight ) {\r\n    freeRect = new Rect({\r\n      x: rectRight,\r\n      y: this.y,\r\n      width: thisRight - rectRight,\r\n      height: this.height\r\n    });\r\n    freeRects.push( freeRect );\r\n  }\r\n\r\n  // bottom\r\n  if ( thisBottom > rectBottom ) {\r\n    freeRect = new Rect({\r\n      x: this.x,\r\n      y: rectBottom,\r\n      width: this.width,\r\n      height: thisBottom - rectBottom\r\n    });\r\n    freeRects.push( freeRect );\r\n  }\r\n\r\n  // left\r\n  if ( this.x < rect.x ) {\r\n    freeRect = new Rect({\r\n      x: this.x,\r\n      y: this.y,\r\n      width: rect.x - this.x,\r\n      height: this.height\r\n    });\r\n    freeRects.push( freeRect );\r\n  }\r\n\r\n  return freeRects;\r\n};\r\n\r\nRect.prototype.canFit = function( rect ) {\r\n  return this.width >= rect.width && this.height >= rect.height;\r\n};\r\n\r\nreturn Rect;\r\n\r\n}));\r\n\r\n/**\r\n * Packer\r\n * bin-packing algorithm\r\n */\r\n\r\n( function( window, factory ) {\r\n  \r\n  // universal module definition\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'packery/js/packer',[ './rect' ], factory );\r\n  } else if ( typeof exports == 'object' ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      require('./rect')\r\n    );\r\n  } else {\r\n    // browser global\r\n    var Packery = window.Packery = window.Packery || {};\r\n    Packery.Packer = factory( Packery.Rect );\r\n  }\r\n\r\n}( window, function factory( Rect ) {\r\n\r\n\r\n// -------------------------- Packer -------------------------- //\r\n\r\n/**\r\n * @param {Number} width\r\n * @param {Number} height\r\n * @param {String} sortDirection\r\n *   topLeft for vertical, leftTop for horizontal\r\n */\r\nfunction Packer( width, height, sortDirection ) {\r\n  this.width = width || 0;\r\n  this.height = height || 0;\r\n  this.sortDirection = sortDirection || 'downwardLeftToRight';\r\n\r\n  this.reset();\r\n}\r\n\r\nPacker.prototype.reset = function() {\r\n  this.spaces = [];\r\n  this.newSpaces = [];\r\n\r\n  var initialSpace = new Rect({\r\n    x: 0,\r\n    y: 0,\r\n    width: this.width,\r\n    height: this.height\r\n  });\r\n\r\n  this.spaces.push( initialSpace );\r\n  // set sorter\r\n  this.sorter = sorters[ this.sortDirection ] || sorters.downwardLeftToRight;\r\n};\r\n\r\n// change x and y of rect to fit with in Packer's available spaces\r\nPacker.prototype.pack = function( rect ) {\r\n  for ( var i=0, len = this.spaces.length; i < len; i++ ) {\r\n    var space = this.spaces[i];\r\n    if ( space.canFit( rect ) ) {\r\n      this.placeInSpace( rect, space );\r\n      break;\r\n    }\r\n  }\r\n};\r\n\r\nPacker.prototype.placeInSpace = function( rect, space ) {\r\n  // place rect in space\r\n  rect.x = space.x;\r\n  rect.y = space.y;\r\n\r\n  this.placed( rect );\r\n};\r\n\r\n// update spaces with placed rect\r\nPacker.prototype.placed = function( rect ) {\r\n  // update spaces\r\n  var revisedSpaces = [];\r\n  for ( var i=0, len = this.spaces.length; i < len; i++ ) {\r\n    var space = this.spaces[i];\r\n    var newSpaces = space.getMaximalFreeRects( rect );\r\n    // add either the original space or the new spaces to the revised spaces\r\n    if ( newSpaces ) {\r\n      revisedSpaces.push.apply( revisedSpaces, newSpaces );\r\n    } else {\r\n      revisedSpaces.push( space );\r\n    }\r\n  }\r\n\r\n  this.spaces = revisedSpaces;\r\n\r\n  this.mergeSortSpaces();\r\n};\r\n\r\nPacker.prototype.mergeSortSpaces = function() {\r\n  // remove redundant spaces\r\n  Packer.mergeRects( this.spaces );\r\n  this.spaces.sort( this.sorter );\r\n};\r\n\r\n// add a space back\r\nPacker.prototype.addSpace = function( rect ) {\r\n  this.spaces.push( rect );\r\n  this.mergeSortSpaces();\r\n};\r\n\r\n// -------------------------- utility functions -------------------------- //\r\n\r\n/**\r\n * Remove redundant rectangle from array of rectangles\r\n * @param {Array} rects: an array of Rects\r\n * @returns {Array} rects: an array of Rects\r\n**/\r\nPacker.mergeRects = function( rects ) {\r\n  for ( var i=0, len = rects.length; i < len; i++ ) {\r\n    var rect = rects[i];\r\n    // skip over this rect if it was already removed\r\n    if ( !rect ) {\r\n      continue;\r\n    }\r\n    // clone rects we're testing, remove this rect\r\n    var compareRects = rects.slice(0);\r\n    // do not compare with self\r\n    compareRects.splice( i, 1 );\r\n    // compare this rect with others\r\n    var removedCount = 0;\r\n    for ( var j=0, jLen = compareRects.length; j < jLen; j++ ) {\r\n      var compareRect = compareRects[j];\r\n      // if this rect contains another,\r\n      // remove that rect from test collection\r\n      var indexAdjust = i > j ? 0 : 1;\r\n      if ( rect.contains( compareRect ) ) {\r\n        // console.log( 'current test rects:' + testRects.length, testRects );\r\n        // console.log( i, j, indexAdjust, rect, compareRect );\r\n        rects.splice( j + indexAdjust - removedCount, 1 );\r\n        removedCount++;\r\n      }\r\n    }\r\n  }\r\n\r\n  return rects;\r\n};\r\n\r\n\r\n// -------------------------- sorters -------------------------- //\r\n\r\n// functions for sorting rects in order\r\nvar sorters = {\r\n  // top down, then left to right\r\n  downwardLeftToRight: function( a, b ) {\r\n    return a.y - b.y || a.x - b.x;\r\n  },\r\n  // left to right, then top down\r\n  rightwardTopToBottom: function( a, b ) {\r\n    return a.x - b.x || a.y - b.y;\r\n  }\r\n};\r\n\r\n\r\n// --------------------------  -------------------------- //\r\n\r\nreturn Packer;\r\n\r\n}));\r\n/**\r\n * Packery Item Element\r\n**/\r\n\r\n( function( window, factory ) {\r\n  \r\n  // universal module definition\r\n\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'packery/js/item',[\r\n        'get-style-property/get-style-property',\r\n        'outlayer/outlayer',\r\n        './rect'\r\n      ],\r\n      factory );\r\n  } else if ( typeof exports == 'object' ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      require('desandro-get-style-property'),\r\n      require('outlayer'),\r\n      require('./rect')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Packery.Item = factory(\r\n      window.getStyleProperty,\r\n      window.Outlayer,\r\n      window.Packery.Rect\r\n    );\r\n  }\r\n\r\n}( window, function factory( getStyleProperty, Outlayer, Rect ) {\r\n\r\n\r\n// -------------------------- Item -------------------------- //\r\n\r\nvar transformProperty = getStyleProperty('transform');\r\n\r\n// sub-class Item\r\nvar Item = function PackeryItem() {\r\n  Outlayer.Item.apply( this, arguments );\r\n};\r\n\r\nItem.prototype = new Outlayer.Item();\r\n\r\nvar protoCreate = Item.prototype._create;\r\nItem.prototype._create = function() {\r\n  // call default _create logic\r\n  protoCreate.call( this );\r\n  this.rect = new Rect();\r\n  // rect used for placing, in drag or Packery.fit()\r\n  this.placeRect = new Rect();\r\n};\r\n\r\n// -------------------------- drag -------------------------- //\r\n\r\nItem.prototype.dragStart = function() {\r\n  this.getPosition();\r\n  this.removeTransitionStyles();\r\n  // remove transform property from transition\r\n  if ( this.isTransitioning && transformProperty ) {\r\n    this.element.style[ transformProperty ] = 'none';\r\n  }\r\n  this.getSize();\r\n  // create place rect, used for position when dragged then dropped\r\n  // or when positioning\r\n  this.isPlacing = true;\r\n  this.needsPositioning = false;\r\n  this.positionPlaceRect( this.position.x, this.position.y );\r\n  this.isTransitioning = false;\r\n  this.didDrag = false;\r\n};\r\n\r\n/**\r\n * handle item when it is dragged\r\n * @param {Number} x - horizontal position of dragged item\r\n * @param {Number} y - vertical position of dragged item\r\n */\r\nItem.prototype.dragMove = function( x, y ) {\r\n  this.didDrag = true;\r\n  var packerySize = this.layout.size;\r\n  x -= packerySize.paddingLeft;\r\n  y -= packerySize.paddingTop;\r\n  this.positionPlaceRect( x, y );\r\n};\r\n\r\nItem.prototype.dragStop = function() {\r\n  this.getPosition();\r\n  var isDiffX = this.position.x != this.placeRect.x;\r\n  var isDiffY = this.position.y != this.placeRect.y;\r\n  // set post-drag positioning flag\r\n  this.needsPositioning = isDiffX || isDiffY;\r\n  // reset flag\r\n  this.didDrag = false;\r\n};\r\n\r\n// -------------------------- placing -------------------------- //\r\n\r\n/**\r\n * position a rect that will occupy space in the packer\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Boolean} isMaxYContained\r\n */\r\nItem.prototype.positionPlaceRect = function( x, y, isMaxYOpen ) {\r\n  this.placeRect.x = this.getPlaceRectCoord( x, true );\r\n  this.placeRect.y = this.getPlaceRectCoord( y, false, isMaxYOpen );\r\n};\r\n\r\n/**\r\n * get x/y coordinate for place rect\r\n * @param {Number} coord - x or y\r\n * @param {Boolean} isX\r\n * @param {Boolean} isMaxOpen - does not limit value to outer bound\r\n * @returns {Number} coord - processed x or y\r\n */\r\nItem.prototype.getPlaceRectCoord = function( coord, isX, isMaxOpen ) {\r\n  var measure = isX ? 'Width' : 'Height';\r\n  var size = this.size[ 'outer' + measure ];\r\n  var segment = this.layout[ isX ? 'columnWidth' : 'rowHeight' ];\r\n  var parentSize = this.layout.size[ 'inner' + measure ];\r\n\r\n  // additional parentSize calculations for Y\r\n  if ( !isX ) {\r\n    parentSize = Math.max( parentSize, this.layout.maxY );\r\n    // prevent gutter from bumping up height when non-vertical grid\r\n    if ( !this.layout.rowHeight ) {\r\n      parentSize -= this.layout.gutter;\r\n    }\r\n  }\r\n\r\n  var max;\r\n\r\n  if ( segment ) {\r\n    segment += this.layout.gutter;\r\n    // allow for last column to reach the edge\r\n    parentSize += isX ? this.layout.gutter : 0;\r\n    // snap to closest segment\r\n    coord = Math.round( coord / segment );\r\n    // contain to outer bound\r\n    // contain non-growing bound, allow growing bound to grow\r\n    var mathMethod;\r\n    if ( this.layout.options.isHorizontal ) {\r\n      mathMethod = !isX ? 'floor' : 'ceil';\r\n    } else {\r\n      mathMethod = isX ? 'floor' : 'ceil';\r\n    }\r\n    var maxSegments = Math[ mathMethod ]( parentSize / segment );\r\n    maxSegments -= Math.ceil( size / segment );\r\n    max = maxSegments;\r\n  } else {\r\n    max = parentSize - size;\r\n  }\r\n\r\n  coord = isMaxOpen ? coord : Math.min( coord, max );\r\n  coord *= segment || 1;\r\n\r\n  return Math.max( 0, coord );\r\n};\r\n\r\nItem.prototype.copyPlaceRectPosition = function() {\r\n  this.rect.x = this.placeRect.x;\r\n  this.rect.y = this.placeRect.y;\r\n};\r\n\r\n// -----  ----- //\r\n\r\n// remove element from DOM\r\nItem.prototype.removeElem = function() {\r\n  this.element.parentNode.removeChild( this.element );\r\n  // add space back to packer\r\n  this.layout.packer.addSpace( this.rect );\r\n  this.emitEvent( 'remove', [ this ] );\r\n};\r\n\r\n// -----  ----- //\r\n\r\nreturn Item;\r\n\r\n}));\r\n\r\n/*!\r\n * Packery v1.4.3\r\n * bin-packing layout library\r\n *\r\n * Licensed GPLv3 for open source use\r\n * or Flickity Commercial License for commercial use\r\n *\r\n * http://packery.metafizzy.co\r\n * Copyright 2015 Metafizzy\r\n */\r\n\r\n( function( window, factory ) {\r\n  \r\n  // universal module definition\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( [\r\n        'classie/classie',\r\n        'get-size/get-size',\r\n        'outlayer/outlayer',\r\n        'packery/js/rect',\r\n        'packery/js/packer',\r\n        'packery/js/item'\r\n      ],\r\n      factory );\r\n  } else if ( typeof exports == 'object' ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      require('desandro-classie'),\r\n      require('get-size'),\r\n      require('outlayer'),\r\n      require('./rect'),\r\n      require('./packer'),\r\n      require('./item')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Packery = factory(\r\n      window.classie,\r\n      window.getSize,\r\n      window.Outlayer,\r\n      window.Packery.Rect,\r\n      window.Packery.Packer,\r\n      window.Packery.Item\r\n    );\r\n  }\r\n\r\n}( window, function factory( classie, getSize, Outlayer, Rect, Packer, Item ) {\r\n\r\n\r\n// ----- Rect ----- //\r\n\r\n// allow for pixel rounding errors IE8-IE11 & Firefox; #227\r\nRect.prototype.canFit = function( rect ) {\r\n  return this.width >= rect.width - 1 && this.height >= rect.height - 1;\r\n};\r\n\r\n// -------------------------- Packery -------------------------- //\r\n\r\n// create an Outlayer layout class\r\nvar Packery = Outlayer.create('packery');\r\nPackery.Item = Item;\r\n\r\nPackery.prototype._create = function() {\r\n  // call super\r\n  Outlayer.prototype._create.call( this );\r\n\r\n  // initial properties\r\n  this.packer = new Packer();\r\n\r\n  // Left over from v1.0\r\n  this.stamp( this.options.stamped );\r\n\r\n  // create drag handlers\r\n  var _this = this;\r\n  this.handleDraggabilly = {\r\n    dragStart: function() {\r\n      _this.itemDragStart( this.element );\r\n    },\r\n    dragMove: function() {\r\n      _this.itemDragMove( this.element, this.position.x, this.position.y );\r\n    },\r\n    dragEnd: function() {\r\n      _this.itemDragEnd( this.element );\r\n    }\r\n  };\r\n\r\n  this.handleUIDraggable = {\r\n    start: function handleUIDraggableStart( event, ui ) {\r\n      // HTML5 may trigger dragstart, dismiss HTML5 dragging\r\n      if ( !ui ) {\r\n        return;\r\n      }\r\n      _this.itemDragStart( event.currentTarget );\r\n    },\r\n    drag: function handleUIDraggableDrag( event, ui ) {\r\n      if ( !ui ) {\r\n        return;\r\n      }\r\n      _this.itemDragMove( event.currentTarget, ui.position.left, ui.position.top );\r\n    },\r\n    stop: function handleUIDraggableStop( event, ui ) {\r\n      if ( !ui ) {\r\n        return;\r\n      }\r\n      _this.itemDragEnd( event.currentTarget );\r\n    }\r\n  };\r\n\r\n};\r\n\r\n\r\n// ----- init & layout ----- //\r\n\r\n/**\r\n * logic before any new layout\r\n */\r\nPackery.prototype._resetLayout = function() {\r\n  this.getSize();\r\n\r\n  this._getMeasurements();\r\n\r\n  // reset packer\r\n  var packer = this.packer;\r\n  // packer settings, if horizontal or vertical\r\n  if ( this.options.isHorizontal ) {\r\n    packer.width = Number.POSITIVE_INFINITY;\r\n    packer.height = this.size.innerHeight + this.gutter;\r\n    packer.sortDirection = 'rightwardTopToBottom';\r\n  } else {\r\n    packer.width = this.size.innerWidth + this.gutter;\r\n    packer.height = Number.POSITIVE_INFINITY;\r\n    packer.sortDirection = 'downwardLeftToRight';\r\n  }\r\n\r\n  packer.reset();\r\n\r\n  // layout\r\n  this.maxY = 0;\r\n  this.maxX = 0;\r\n};\r\n\r\n/**\r\n * update columnWidth, rowHeight, & gutter\r\n * @private\r\n */\r\nPackery.prototype._getMeasurements = function() {\r\n  this._getMeasurement( 'columnWidth', 'width' );\r\n  this._getMeasurement( 'rowHeight', 'height' );\r\n  this._getMeasurement( 'gutter', 'width' );\r\n};\r\n\r\nPackery.prototype._getItemLayoutPosition = function( item ) {\r\n  this._packItem( item );\r\n  return item.rect;\r\n};\r\n\r\n\r\n/**\r\n * layout item in packer\r\n * @param {Packery.Item} item\r\n */\r\nPackery.prototype._packItem = function( item ) {\r\n  this._setRectSize( item.element, item.rect );\r\n  // pack the rect in the packer\r\n  this.packer.pack( item.rect );\r\n  this._setMaxXY( item.rect );\r\n};\r\n\r\n/**\r\n * set max X and Y value, for size of container\r\n * @param {Packery.Rect} rect\r\n * @private\r\n */\r\nPackery.prototype._setMaxXY = function( rect ) {\r\n  this.maxX = Math.max( rect.x + rect.width, this.maxX );\r\n  this.maxY = Math.max( rect.y + rect.height, this.maxY );\r\n};\r\n\r\n/**\r\n * set the width and height of a rect, applying columnWidth and rowHeight\r\n * @param {Element} elem\r\n * @param {Packery.Rect} rect\r\n */\r\nPackery.prototype._setRectSize = function( elem, rect ) {\r\n  var size = getSize( elem );\r\n  var w = size.outerWidth;\r\n  var h = size.outerHeight;\r\n  // size for columnWidth and rowHeight, if available\r\n  // only check if size is non-zero, #177\r\n  if ( w || h ) {\r\n    w = this._applyGridGutter( w, this.columnWidth );\r\n    h = this._applyGridGutter( h, this.rowHeight );\r\n  }\r\n  // rect must fit in packer\r\n  rect.width = Math.min( w, this.packer.width );\r\n  rect.height = Math.min( h, this.packer.height );\r\n};\r\n\r\n/**\r\n * fits item to columnWidth/rowHeight and adds gutter\r\n * @param {Number} measurement - item width or height\r\n * @param {Number} gridSize - columnWidth or rowHeight\r\n * @returns measurement\r\n */\r\nPackery.prototype._applyGridGutter = function( measurement, gridSize ) {\r\n  // just add gutter if no gridSize\r\n  if ( !gridSize ) {\r\n    return measurement + this.gutter;\r\n  }\r\n  gridSize += this.gutter;\r\n  // fit item to columnWidth/rowHeight\r\n  var remainder = measurement % gridSize;\r\n  var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\r\n  measurement = Math[ mathMethod ]( measurement / gridSize ) * gridSize;\r\n  return measurement;\r\n};\r\n\r\nPackery.prototype._getContainerSize = function() {\r\n  if ( this.options.isHorizontal ) {\r\n    return {\r\n      width: this.maxX - this.gutter\r\n    };\r\n  } else {\r\n    return {\r\n      height: this.maxY - this.gutter\r\n    };\r\n  }\r\n};\r\n\r\n\r\n// -------------------------- stamp -------------------------- //\r\n\r\n/**\r\n * makes space for element\r\n * @param {Element} elem\r\n */\r\nPackery.prototype._manageStamp = function( elem ) {\r\n\r\n  var item = this.getItem( elem );\r\n  var rect;\r\n  if ( item && item.isPlacing ) {\r\n    rect = item.placeRect;\r\n  } else {\r\n    var offset = this._getElementOffset( elem );\r\n    rect = new Rect({\r\n      x: this.options.isOriginLeft ? offset.left : offset.right,\r\n      y: this.options.isOriginTop ? offset.top : offset.bottom\r\n    });\r\n  }\r\n\r\n  this._setRectSize( elem, rect );\r\n  // save its space in the packer\r\n  this.packer.placed( rect );\r\n  this._setMaxXY( rect );\r\n};\r\n\r\n// -------------------------- methods -------------------------- //\r\n\r\nfunction verticalSorter( a, b ) {\r\n  return a.position.y - b.position.y || a.position.x - b.position.x;\r\n}\r\n\r\nfunction horizontalSorter( a, b ) {\r\n  return a.position.x - b.position.x || a.position.y - b.position.y;\r\n}\r\n\r\nPackery.prototype.sortItemsByPosition = function() {\r\n  var sorter = this.options.isHorizontal ? horizontalSorter : verticalSorter;\r\n  this.items.sort( sorter );\r\n};\r\n\r\n/**\r\n * Fit item element in its current position\r\n * Packery will position elements around it\r\n * useful for expanding elements\r\n *\r\n * @param {Element} elem\r\n * @param {Number} x - horizontal destination position, optional\r\n * @param {Number} y - vertical destination position, optional\r\n */\r\nPackery.prototype.fit = function( elem, x, y ) {\r\n  var item = this.getItem( elem );\r\n  if ( !item ) {\r\n    return;\r\n  }\r\n\r\n  // prepare internal properties\r\n  this._getMeasurements();\r\n\r\n  // stamp item to get it out of layout\r\n  this.stamp( item.element );\r\n  // required for positionPlaceRect\r\n  item.getSize();\r\n  // set placing flag\r\n  item.isPlacing = true;\r\n  // fall back to current position for fitting\r\n  x = x === undefined ? item.rect.x: x;\r\n  y = y === undefined ? item.rect.y: y;\r\n\r\n  // position it best at its destination\r\n  item.positionPlaceRect( x, y, true );\r\n\r\n  this._bindFitEvents( item );\r\n  item.moveTo( item.placeRect.x, item.placeRect.y );\r\n  // layout everything else\r\n  this.layout();\r\n\r\n  // return back to regularly scheduled programming\r\n  this.unstamp( item.element );\r\n  this.sortItemsByPosition();\r\n  // un set placing flag, back to normal\r\n  item.isPlacing = false;\r\n  // copy place rect position\r\n  item.copyPlaceRectPosition();\r\n};\r\n\r\n/**\r\n * emit event when item is fit and other items are laid out\r\n * @param {Packery.Item} item\r\n * @private\r\n */\r\nPackery.prototype._bindFitEvents = function( item ) {\r\n  var _this = this;\r\n  var ticks = 0;\r\n  function tick() {\r\n    ticks++;\r\n    if ( ticks != 2 ) {\r\n      return;\r\n    }\r\n    _this.dispatchEvent( 'fitComplete', null, [ item ] );\r\n  }\r\n  // when item is laid out\r\n  item.on( 'layout', function() {\r\n    tick();\r\n    return true;\r\n  });\r\n  // when all items are laid out\r\n  this.on( 'layoutComplete', function() {\r\n    tick();\r\n    return true;\r\n  });\r\n};\r\n\r\n// -------------------------- resize -------------------------- //\r\n\r\n// debounced, layout on resize\r\nPackery.prototype.resize = function() {\r\n  // don't trigger if size did not change\r\n  var size = getSize( this.element );\r\n  // check that this.size and size are there\r\n  // IE8 triggers resize on body size change, so they might not be\r\n  var hasSizes = this.size && size;\r\n  var innerSize = this.options.isHorizontal ? 'innerHeight' : 'innerWidth';\r\n  if ( hasSizes && size[ innerSize ] == this.size[ innerSize ] ) {\r\n    return;\r\n  }\r\n\r\n  this.layout();\r\n};\r\n\r\n// -------------------------- drag -------------------------- //\r\n\r\n/**\r\n * handle an item drag start event\r\n * @param {Element} elem\r\n */\r\nPackery.prototype.itemDragStart = function( elem ) {\r\n  this.stamp( elem );\r\n  var item = this.getItem( elem );\r\n  if ( item ) {\r\n    item.dragStart();\r\n  }\r\n};\r\n\r\n/**\r\n * handle an item drag move event\r\n * @param {Element} elem\r\n * @param {Number} x - horizontal change in position\r\n * @param {Number} y - vertical change in position\r\n */\r\nPackery.prototype.itemDragMove = function( elem, x, y ) {\r\n  var item = this.getItem( elem );\r\n  if ( item ) {\r\n    item.dragMove( x, y );\r\n  }\r\n\r\n  // debounce\r\n  var _this = this;\r\n  // debounce triggering layout\r\n  function delayed() {\r\n    _this.layout();\r\n    delete _this.dragTimeout;\r\n  }\r\n\r\n  this.clearDragTimeout();\r\n\r\n  this.dragTimeout = setTimeout( delayed, 40 );\r\n};\r\n\r\nPackery.prototype.clearDragTimeout = function() {\r\n  if ( this.dragTimeout ) {\r\n    clearTimeout( this.dragTimeout );\r\n  }\r\n};\r\n\r\n/**\r\n * handle an item drag end event\r\n * @param {Element} elem\r\n */\r\nPackery.prototype.itemDragEnd = function( elem ) {\r\n  var item = this.getItem( elem );\r\n  var itemDidDrag;\r\n  if ( item ) {\r\n    itemDidDrag = item.didDrag;\r\n    item.dragStop();\r\n  }\r\n  // if elem didn't move, or if it doesn't need positioning\r\n  // unignore and unstamp and call it a day\r\n  if ( !item || ( !itemDidDrag && !item.needsPositioning ) ) {\r\n    this.unstamp( elem );\r\n    return;\r\n  }\r\n  // procced with dragged item\r\n\r\n  classie.add( item.element, 'is-positioning-post-drag' );\r\n\r\n  // save this var, as it could get reset in dragStart\r\n  var onLayoutComplete = this._getDragEndLayoutComplete( elem, item );\r\n\r\n  if ( item.needsPositioning ) {\r\n    item.on( 'layout', onLayoutComplete );\r\n    item.moveTo( item.placeRect.x, item.placeRect.y );\r\n  } else if ( item ) {\r\n    // item didn't need placement\r\n    item.copyPlaceRectPosition();\r\n  }\r\n\r\n  this.clearDragTimeout();\r\n  this.on( 'layoutComplete', onLayoutComplete );\r\n  this.layout();\r\n\r\n};\r\n\r\n/**\r\n * get drag end callback\r\n * @param {Element} elem\r\n * @param {Packery.Item} item\r\n * @returns {Function} onLayoutComplete\r\n */\r\nPackery.prototype._getDragEndLayoutComplete = function( elem, item ) {\r\n  var itemNeedsPositioning = item && item.needsPositioning;\r\n  var completeCount = 0;\r\n  var asyncCount = itemNeedsPositioning ? 2 : 1;\r\n  var _this = this;\r\n\r\n  return function onLayoutComplete() {\r\n    completeCount++;\r\n    // don't proceed if not complete\r\n    if ( completeCount != asyncCount ) {\r\n      return true;\r\n    }\r\n    // reset item\r\n    if ( item ) {\r\n      classie.remove( item.element, 'is-positioning-post-drag' );\r\n      item.isPlacing = false;\r\n      item.copyPlaceRectPosition();\r\n    }\r\n\r\n    _this.unstamp( elem );\r\n    // only sort when item moved\r\n    _this.sortItemsByPosition();\r\n\r\n    // emit item drag event now that everything is done\r\n    if ( itemNeedsPositioning ) {\r\n      _this.dispatchEvent( 'dragItemPositioned', null, [ item ] );\r\n    }\r\n    // listen once\r\n    return true;\r\n  };\r\n};\r\n\r\n/**\r\n * binds Draggabilly events\r\n * @param {Draggabilly} draggie\r\n */\r\nPackery.prototype.bindDraggabillyEvents = function( draggie ) {\r\n  draggie.on( 'dragStart', this.handleDraggabilly.dragStart );\r\n  draggie.on( 'dragMove', this.handleDraggabilly.dragMove );\r\n  draggie.on( 'dragEnd', this.handleDraggabilly.dragEnd );\r\n};\r\n\r\n/**\r\n * binds jQuery UI Draggable events\r\n * @param {jQuery} $elems\r\n */\r\nPackery.prototype.bindUIDraggableEvents = function( $elems ) {\r\n  $elems\r\n    .on( 'dragstart', this.handleUIDraggable.start )\r\n    .on( 'drag', this.handleUIDraggable.drag )\r\n    .on( 'dragstop', this.handleUIDraggable.stop );\r\n};\r\n\r\nPackery.Rect = Rect;\r\nPackery.Packer = Packer;\r\n\r\nreturn Packery;\r\n\r\n}));\r\n\r\n","Smartwave_Filterproducts/js/imagesloaded.js":"/*!\r\n * imagesLoaded PACKAGED v5.0.0\r\n * JavaScript is all like \"You images are done yet or what?\"\r\n * MIT License\r\n */\r\n\r\n/**\r\n * EvEmitter v2.1.1\r\n * Lil' event emitter\r\n * MIT License\r\n */\r\n\r\n( function( global, factory ) {\r\n  // universal module definition\r\n  if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS - Browserify, Webpack\r\n    module.exports = factory();\r\n  } else {\r\n    // Browser globals\r\n    global.EvEmitter = factory();\r\n  }\r\n\r\n}( typeof window != 'undefined' ? window : this, function() {\r\n\r\nfunction EvEmitter() {}\r\n\r\nlet proto = EvEmitter.prototype;\r\n\r\nproto.on = function( eventName, listener ) {\r\n  if ( !eventName || !listener ) return this;\r\n\r\n  // set events hash\r\n  let events = this._events = this._events || {};\r\n  // set listeners array\r\n  let listeners = events[ eventName ] = events[ eventName ] || [];\r\n  // only add once\r\n  if ( !listeners.includes( listener ) ) {\r\n    listeners.push( listener );\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nproto.once = function( eventName, listener ) {\r\n  if ( !eventName || !listener ) return this;\r\n\r\n  // add event\r\n  this.on( eventName, listener );\r\n  // set once flag\r\n  // set onceEvents hash\r\n  let onceEvents = this._onceEvents = this._onceEvents || {};\r\n  // set onceListeners object\r\n  let onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\r\n  // set flag\r\n  onceListeners[ listener ] = true;\r\n\r\n  return this;\r\n};\r\n\r\nproto.off = function( eventName, listener ) {\r\n  let listeners = this._events && this._events[ eventName ];\r\n  if ( !listeners || !listeners.length ) return this;\r\n\r\n  let index = listeners.indexOf( listener );\r\n  if ( index != -1 ) {\r\n    listeners.splice( index, 1 );\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nproto.emitEvent = function( eventName, args ) {\r\n  let listeners = this._events && this._events[ eventName ];\r\n  if ( !listeners || !listeners.length ) return this;\r\n\r\n  // copy over to avoid interference if .off() in listener\r\n  listeners = listeners.slice( 0 );\r\n  args = args || [];\r\n  // once stuff\r\n  let onceListeners = this._onceEvents && this._onceEvents[ eventName ];\r\n\r\n  for ( let listener of listeners ) {\r\n    let isOnce = onceListeners && onceListeners[ listener ];\r\n    if ( isOnce ) {\r\n      // remove listener\r\n      // remove before trigger to prevent recursion\r\n      this.off( eventName, listener );\r\n      // unset once flag\r\n      delete onceListeners[ listener ];\r\n    }\r\n    // trigger listener\r\n    listener.apply( this, args );\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nproto.allOff = function() {\r\n  delete this._events;\r\n  delete this._onceEvents;\r\n  return this;\r\n};\r\n\r\nreturn EvEmitter;\r\n\r\n} ) );\r\n/*!\r\n * imagesLoaded v5.0.0\r\n * JavaScript is all like \"You images are done yet or what?\"\r\n * MIT License\r\n */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory( window, require('ev-emitter') );\r\n  } else {\r\n    // browser global\r\n    window.imagesLoaded = factory( window, window.EvEmitter );\r\n  }\r\n\r\n} )( typeof window !== 'undefined' ? window : this,\r\n    function factory( window, EvEmitter ) {\r\n\r\nlet $ = window.jQuery;\r\nlet console = window.console;\r\n\r\n// -------------------------- helpers -------------------------- //\r\n\r\n// turn element or nodeList into an array\r\nfunction makeArray( obj ) {\r\n  // use object if already an array\r\n  if ( Array.isArray( obj ) ) return obj;\r\n\r\n  let isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\r\n  // convert nodeList to array\r\n  if ( isArrayLike ) return [ ...obj ];\r\n\r\n  // array of single index\r\n  return [ obj ];\r\n}\r\n\r\n// -------------------------- imagesLoaded -------------------------- //\r\n\r\n/**\r\n * @param {[Array, Element, NodeList, String]} elem\r\n * @param {[Object, Function]} options - if function, use as callback\r\n * @param {Function} onAlways - callback function\r\n * @returns {ImagesLoaded}\r\n */\r\nfunction ImagesLoaded( elem, options, onAlways ) {\r\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\r\n  if ( !( this instanceof ImagesLoaded ) ) {\r\n    return new ImagesLoaded( elem, options, onAlways );\r\n  }\r\n  // use elem as selector string\r\n  let queryElem = elem;\r\n  if ( typeof elem == 'string' ) {\r\n    queryElem = document.querySelectorAll( elem );\r\n  }\r\n  // bail if bad element\r\n  if ( !queryElem ) {\r\n    console.error(`Bad element for imagesLoaded ${queryElem || elem}`);\r\n    return;\r\n  }\r\n\r\n  this.elements = makeArray( queryElem );\r\n  this.options = {};\r\n  // shift arguments if no options set\r\n  if ( typeof options == 'function' ) {\r\n    onAlways = options;\r\n  } else {\r\n    Object.assign( this.options, options );\r\n  }\r\n\r\n  if ( onAlways ) this.on( 'always', onAlways );\r\n\r\n  this.getImages();\r\n  // add jQuery Deferred object\r\n  if ( $ ) this.jqDeferred = new $.Deferred();\r\n\r\n  // HACK check async to allow time to bind listeners\r\n  setTimeout( this.check.bind( this ) );\r\n}\r\n\r\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\r\n\r\nImagesLoaded.prototype.getImages = function() {\r\n  this.images = [];\r\n\r\n  // filter & find items if we have an item selector\r\n  this.elements.forEach( this.addElementImages, this );\r\n};\r\n\r\nconst elementNodeTypes = [ 1, 9, 11 ];\r\n\r\n/**\r\n * @param {Node} elem\r\n */\r\nImagesLoaded.prototype.addElementImages = function( elem ) {\r\n  // filter siblings\r\n  if ( elem.nodeName === 'IMG' ) {\r\n    this.addImage( elem );\r\n  }\r\n  // get background image on element\r\n  if ( this.options.background === true ) {\r\n    this.addElementBackgroundImages( elem );\r\n  }\r\n\r\n  // find children\r\n  // no non-element nodes, #143\r\n  let { nodeType } = elem;\r\n  if ( !nodeType || !elementNodeTypes.includes( nodeType ) ) return;\r\n\r\n  let childImgs = elem.querySelectorAll('img');\r\n  // concat childElems to filterFound array\r\n  for ( let img of childImgs ) {\r\n    this.addImage( img );\r\n  }\r\n\r\n  // get child background images\r\n  if ( typeof this.options.background == 'string' ) {\r\n    let children = elem.querySelectorAll( this.options.background );\r\n    for ( let child of children ) {\r\n      this.addElementBackgroundImages( child );\r\n    }\r\n  }\r\n};\r\n\r\nconst reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\r\n\r\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\r\n  let style = getComputedStyle( elem );\r\n  // Firefox returns null if in a hidden iframe https://bugzil.la/548397\r\n  if ( !style ) return;\r\n\r\n  // get url inside url(\"...\")\r\n  let matches = reURL.exec( style.backgroundImage );\r\n  while ( matches !== null ) {\r\n    let url = matches && matches[2];\r\n    if ( url ) {\r\n      this.addBackground( url, elem );\r\n    }\r\n    matches = reURL.exec( style.backgroundImage );\r\n  }\r\n};\r\n\r\n/**\r\n * @param {Image} img\r\n */\r\nImagesLoaded.prototype.addImage = function( img ) {\r\n  let loadingImage = new LoadingImage( img );\r\n  this.images.push( loadingImage );\r\n};\r\n\r\nImagesLoaded.prototype.addBackground = function( url, elem ) {\r\n  let background = new Background( url, elem );\r\n  this.images.push( background );\r\n};\r\n\r\nImagesLoaded.prototype.check = function() {\r\n  this.progressedCount = 0;\r\n  this.hasAnyBroken = false;\r\n  // complete if no images\r\n  if ( !this.images.length ) {\r\n    this.complete();\r\n    return;\r\n  }\r\n\r\n  /* eslint-disable-next-line func-style */\r\n  let onProgress = ( image, elem, message ) => {\r\n    // HACK - Chrome triggers event before object properties have changed. #83\r\n    setTimeout( () => {\r\n      this.progress( image, elem, message );\r\n    } );\r\n  };\r\n\r\n  this.images.forEach( function( loadingImage ) {\r\n    loadingImage.once( 'progress', onProgress );\r\n    loadingImage.check();\r\n  } );\r\n};\r\n\r\nImagesLoaded.prototype.progress = function( image, elem, message ) {\r\n  this.progressedCount++;\r\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\r\n  // progress event\r\n  this.emitEvent( 'progress', [ this, image, elem ] );\r\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\r\n    this.jqDeferred.notify( this, image );\r\n  }\r\n  // check if completed\r\n  if ( this.progressedCount === this.images.length ) {\r\n    this.complete();\r\n  }\r\n\r\n  if ( this.options.debug && console ) {\r\n    console.log( `progress: ${message}`, image, elem );\r\n  }\r\n};\r\n\r\nImagesLoaded.prototype.complete = function() {\r\n  let eventName = this.hasAnyBroken ? 'fail' : 'done';\r\n  this.isComplete = true;\r\n  this.emitEvent( eventName, [ this ] );\r\n  this.emitEvent( 'always', [ this ] );\r\n  if ( this.jqDeferred ) {\r\n    let jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\r\n    this.jqDeferred[ jqMethod ]( this );\r\n  }\r\n};\r\n\r\n// --------------------------  -------------------------- //\r\n\r\nfunction LoadingImage( img ) {\r\n  this.img = img;\r\n}\r\n\r\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\r\n\r\nLoadingImage.prototype.check = function() {\r\n  // If complete is true and browser supports natural sizes,\r\n  // try to check for image status manually.\r\n  let isComplete = this.getIsImageComplete();\r\n  if ( isComplete ) {\r\n    // report based on naturalWidth\r\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\r\n    return;\r\n  }\r\n\r\n  // If none of the checks above matched, simulate loading on detached element.\r\n  this.proxyImage = new Image();\r\n  // add crossOrigin attribute. #204\r\n  if ( this.img.crossOrigin ) {\r\n    this.proxyImage.crossOrigin = this.img.crossOrigin;\r\n  }\r\n  this.proxyImage.addEventListener( 'load', this );\r\n  this.proxyImage.addEventListener( 'error', this );\r\n  // bind to image as well for Firefox. #191\r\n  this.img.addEventListener( 'load', this );\r\n  this.img.addEventListener( 'error', this );\r\n  this.proxyImage.src = this.img.currentSrc || this.img.src;\r\n};\r\n\r\nLoadingImage.prototype.getIsImageComplete = function() {\r\n  // check for non-zero, non-undefined naturalWidth\r\n  // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\r\n  return this.img.complete && this.img.naturalWidth;\r\n};\r\n\r\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\r\n  this.isLoaded = isLoaded;\r\n  let { parentNode } = this.img;\r\n  // emit progress with parent <picture> or self <img>\r\n  let elem = parentNode.nodeName === 'PICTURE' ? parentNode : this.img;\r\n  this.emitEvent( 'progress', [ this, elem, message ] );\r\n};\r\n\r\n// ----- events ----- //\r\n\r\n// trigger specified handler for event type\r\nLoadingImage.prototype.handleEvent = function( event ) {\r\n  let method = 'on' + event.type;\r\n  if ( this[ method ] ) {\r\n    this[ method ]( event );\r\n  }\r\n};\r\n\r\nLoadingImage.prototype.onload = function() {\r\n  this.confirm( true, 'onload' );\r\n  this.unbindEvents();\r\n};\r\n\r\nLoadingImage.prototype.onerror = function() {\r\n  this.confirm( false, 'onerror' );\r\n  this.unbindEvents();\r\n};\r\n\r\nLoadingImage.prototype.unbindEvents = function() {\r\n  this.proxyImage.removeEventListener( 'load', this );\r\n  this.proxyImage.removeEventListener( 'error', this );\r\n  this.img.removeEventListener( 'load', this );\r\n  this.img.removeEventListener( 'error', this );\r\n};\r\n\r\n// -------------------------- Background -------------------------- //\r\n\r\nfunction Background( url, element ) {\r\n  this.url = url;\r\n  this.element = element;\r\n  this.img = new Image();\r\n}\r\n\r\n// inherit LoadingImage prototype\r\nBackground.prototype = Object.create( LoadingImage.prototype );\r\n\r\nBackground.prototype.check = function() {\r\n  this.img.addEventListener( 'load', this );\r\n  this.img.addEventListener( 'error', this );\r\n  this.img.src = this.url;\r\n  // check if image is already complete\r\n  let isComplete = this.getIsImageComplete();\r\n  if ( isComplete ) {\r\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\r\n    this.unbindEvents();\r\n  }\r\n};\r\n\r\nBackground.prototype.unbindEvents = function() {\r\n  this.img.removeEventListener( 'load', this );\r\n  this.img.removeEventListener( 'error', this );\r\n};\r\n\r\nBackground.prototype.confirm = function( isLoaded, message ) {\r\n  this.isLoaded = isLoaded;\r\n  this.emitEvent( 'progress', [ this, this.element, message ] );\r\n};\r\n\r\n// -------------------------- jQuery -------------------------- //\r\n\r\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\r\n  jQuery = jQuery || window.jQuery;\r\n  if ( !jQuery ) return;\r\n\r\n  // set local variable\r\n  $ = jQuery;\r\n  // $().imagesLoaded()\r\n  $.fn.imagesLoaded = function( options, onAlways ) {\r\n    let instance = new ImagesLoaded( this, options, onAlways );\r\n    return instance.jqDeferred.promise( $( this ) );\r\n  };\r\n};\r\n// try making plugin\r\nImagesLoaded.makeJQueryPlugin();\r\n\r\n// --------------------------  -------------------------- //\r\n\r\nreturn ImagesLoaded;\r\n\r\n} );\r\n","Smartwave_Filterproducts/js/lazyload/jquery.lazyload.js":"/*!\r\n * Lazy Load - JavaScript plugin for lazy loading images\r\n *\r\n * Copyright (c) 2007-2019 Mika Tuupola\r\n *\r\n * Licensed under the MIT license:\r\n *   http://www.opensource.org/licenses/mit-license.php\r\n *\r\n * Project home:\r\n *   https://appelsiini.net/projects/lazyload\r\n *\r\n * Version: 2.0.0-rc.2\r\n *\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof exports === \"object\") {\r\n        module.exports = factory(root);\r\n    } else if (typeof define === \"function\" && define.amd) {\r\n        define([], factory);\r\n    } else {\r\n        root.LazyLoad = factory(root);\r\n    }\r\n}) (typeof global !== \"undefined\" ? global : this.window || this.global, function (root) {\r\n\r\n    \"use strict\";\r\n\r\n    if (typeof define === \"function\" && define.amd){\r\n        root = window;\r\n    }\r\n\r\n    const defaults = {\r\n        src: \"data-src\",\r\n        srcset: \"data-srcset\",\r\n        selector: \".lazyload\",\r\n        root: null,\r\n        rootMargin: \"0px\",\r\n        threshold: 0\r\n    };\r\n\r\n    /**\r\n    * Merge two or more objects. Returns a new object.\r\n    * @private\r\n    * @param {Boolean}  deep     If true, do a deep (or recursive) merge [optional]\r\n    * @param {Object}   objects  The objects to merge together\r\n    * @returns {Object}          Merged values of defaults and options\r\n    */\r\n    const extend = function ()  {\r\n\r\n        let extended = {};\r\n        let deep = false;\r\n        let i = 0;\r\n        let length = arguments.length;\r\n\r\n        /* Check if a deep merge */\r\n        if (Object.prototype.toString.call(arguments[0]) === \"[object Boolean]\") {\r\n            deep = arguments[0];\r\n            i++;\r\n        }\r\n\r\n        /* Merge the object into the extended object */\r\n        let merge = function (obj) {\r\n            for (let prop in obj) {\r\n                if (Object.prototype.hasOwnProperty.call(obj, prop)) {\r\n                    /* If deep merge and property is an object, merge properties */\r\n                    if (deep && Object.prototype.toString.call(obj[prop]) === \"[object Object]\") {\r\n                        extended[prop] = extend(true, extended[prop], obj[prop]);\r\n                    } else {\r\n                        extended[prop] = obj[prop];\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        /* Loop through each object and conduct a merge */\r\n        for (; i < length; i++) {\r\n            let obj = arguments[i];\r\n            merge(obj);\r\n        }\r\n\r\n        return extended;\r\n    };\r\n\r\n    function LazyLoad(images, options) {\r\n        this.settings = extend(defaults, options || {});\r\n        this.images = images || document.querySelectorAll(this.settings.selector);\r\n        this.observer = null;\r\n        this.init();\r\n    }\r\n\r\n    LazyLoad.prototype = {\r\n        init: function() {\r\n\r\n            /* Without observers load everything and bail out early. */\r\n            if (!root.IntersectionObserver) {\r\n                this.loadImages();\r\n                return;\r\n            }\r\n\r\n            let self = this;\r\n            let observerConfig = {\r\n                root: this.settings.root,\r\n                rootMargin: this.settings.rootMargin,\r\n                threshold: [this.settings.threshold]\r\n            };\r\n\r\n            this.observer = new IntersectionObserver(function(entries) {\r\n                Array.prototype.forEach.call(entries, function (entry) {\r\n                    if (entry.isIntersecting) {\r\n                        self.observer.unobserve(entry.target);\r\n                        let src = entry.target.getAttribute(self.settings.src);\r\n                        let srcset = entry.target.getAttribute(self.settings.srcset);\r\n                        if (\"img\" === entry.target.tagName.toLowerCase()) {\r\n                            if (src) {\r\n                                entry.target.src = src;\r\n                            }\r\n                            if (srcset) {\r\n                                entry.target.srcset = srcset;\r\n                            }\r\n                        } else {\r\n                            entry.target.style.backgroundImage = \"url(\" + src + \")\";\r\n                        }\r\n                    }\r\n                });\r\n            }, observerConfig);\r\n\r\n            Array.prototype.forEach.call(this.images, function (image) {\r\n                self.observer.observe(image);\r\n            });\r\n        },\r\n\r\n        loadAndDestroy: function () {\r\n            if (!this.settings) { return; }\r\n            this.loadImages();\r\n            this.destroy();\r\n        },\r\n\r\n        loadImages: function () {\r\n            if (!this.settings) { return; }\r\n\r\n            let self = this;\r\n            Array.prototype.forEach.call(this.images, function (image) {\r\n                let src = image.getAttribute(self.settings.src);\r\n                let srcset = image.getAttribute(self.settings.srcset);\r\n                if (\"img\" === image.tagName.toLowerCase()) {\r\n                    if (src) {\r\n                        image.src = src;\r\n                    }\r\n                    if (srcset) {\r\n                        image.srcset = srcset;\r\n                    }\r\n                } else {\r\n                    image.style.backgroundImage = \"url('\" + src + \"')\";\r\n                }\r\n            });\r\n        },\r\n\r\n        destroy: function () {\r\n            if (!this.settings) { return; }\r\n            this.observer.disconnect();\r\n            this.settings = null;\r\n        }\r\n    };\r\n\r\n    root.lazyload = function(images, options) {\r\n        return new LazyLoad(images, options);\r\n    };\r\n\r\n    if (root.jQuery) {\r\n        const $ = root.jQuery;\r\n        $.fn.lazyload = function (options) {\r\n            options = options || {};\r\n            options.attribute = options.attribute || \"data-src\";\r\n            new LazyLoad($.makeArray(this), options);\r\n            return this;\r\n        };\r\n    }\r\n\r\n    return LazyLoad;\r\n});\r\n","Smartwave_Filterproducts/js/owl.carousel/owl.carousel.min.js":"/**\r\n * Owl Carousel v2.3.4\r\n * Copyright 2013-2018 David Deutsch\r\n * Licensed under: SEE LICENSE IN https://github.com/OwlCarousel2/OwlCarousel2/blob/master/LICENSE\r\n */!(function (factory) {\r\n    'use strict';\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([\r\n            'jquery'\r\n        ], factory);\r\n    } else {\r\n        factory(window.jQuery);\r\n    }\r\n}(function (a) {\r\n    'use strict';\r\n    !function(a,b,c,d){function e(b,c){this.settings=null,this.options=a.extend({},e.Defaults,c),this.$element=a(b),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:[\"busy\"],animating:[\"busy\"],dragging:[\"interacting\"]}},a.each([\"onResize\",\"onThrottledResize\"],a.proxy(function(b,c){this._handlers[c]=a.proxy(this[c],this)},this)),a.each(e.Plugins,a.proxy(function(a,b){this._plugins[a.charAt(0).toLowerCase()+a.slice(1)]=new b(this)},this)),a.each(e.Workers,a.proxy(function(b,c){this._pipe.push({filter:c.filter,run:a.proxy(c.run,this)})},this)),this.setup(),this.initialize()}e.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,fallbackEasing:\"swing\",slideTransition:\"\",info:!1,nestedItemSelector:!1,itemElement:\"div\",stageElement:\"div\",refreshClass:\"owl-refresh\",loadedClass:\"owl-loaded\",loadingClass:\"owl-loading\",rtlClass:\"owl-rtl\",responsiveClass:\"owl-responsive\",dragClass:\"owl-drag\",itemClass:\"owl-item\",stageClass:\"owl-stage\",stageOuterClass:\"owl-stage-outer\",grabClass:\"owl-grab\"},e.Width={Default:\"default\",Inner:\"inner\",Outer:\"outer\"},e.Type={Event:\"event\",State:\"state\"},e.Plugins={},e.Workers=[{filter:[\"width\",\"settings\"],run:function(){this._width=this.$element.width()}},{filter:[\"width\",\"items\",\"settings\"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:[\"items\",\"settings\"],run:function(){this.$stage.children(\".cloned\").remove()}},{filter:[\"width\",\"items\",\"settings\"],run:function(a){var b=this.settings.margin||\"\",c=!this.settings.autoWidth,d=this.settings.rtl,e={width:\"auto\",\"margin-left\":d?b:\"\",\"margin-right\":d?\"\":b};!c&&this.$stage.children().css(e),a.css=e}},{filter:[\"width\",\"items\",\"settings\"],run:function(a){var b=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,c=null,d=this._items.length,e=!this.settings.autoWidth,f=[];for(a.items={merge:!1,width:b};d--;)c=this._mergers[d],c=this.settings.mergeFit&&Math.min(c,this.settings.items)||c,a.items.merge=c>1||a.items.merge,f[d]=e?b*c:this._items[d].width();this._widths=f}},{filter:[\"items\",\"settings\"],run:function(){var b=[],c=this._items,d=this.settings,e=Math.max(2*d.items,4),f=2*Math.ceil(c.length/2),g=d.loop&&c.length?d.rewind?e:Math.max(e,f):0,h=\"\",i=\"\";for(g/=2;g>0;)b.push(this.normalize(b.length/2,!0)),h+=c[b[b.length-1]][0].outerHTML,b.push(this.normalize(c.length-1-(b.length-1)/2,!0)),i=c[b[b.length-1]][0].outerHTML+i,g-=1;this._clones=b,a(h).addClass(\"cloned\").appendTo(this.$stage),a(i).addClass(\"cloned\").prependTo(this.$stage)}},{filter:[\"width\",\"items\",\"settings\"],run:function(){for(var a=this.settings.rtl?1:-1,b=this._clones.length+this._items.length,c=-1,d=0,e=0,f=[];++c<b;)d=f[c-1]||0,e=this._widths[this.relative(c)]+this.settings.margin,f.push(d+e*a);this._coordinates=f}},{filter:[\"width\",\"items\",\"settings\"],run:function(){var a=this.settings.stagePadding,b=this._coordinates,c={width:Math.ceil(Math.abs(b[b.length-1]))+2*a,\"padding-left\":a||\"\",\"padding-right\":a||\"\"};this.$stage.css(c)}},{filter:[\"width\",\"items\",\"settings\"],run:function(a){var b=this._coordinates.length,c=!this.settings.autoWidth,d=this.$stage.children();if(c&&a.items.merge)for(;b--;)a.css.width=this._widths[this.relative(b)],d.eq(b).css(a.css);else c&&(a.css.width=a.items.width,d.css(a.css))}},{filter:[\"items\"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr(\"style\")}},{filter:[\"width\",\"items\",\"settings\"],run:function(a){a.current=a.current?this.$stage.children().index(a.current):0,a.current=Math.max(this.minimum(),Math.min(this.maximum(),a.current)),this.reset(a.current)}},{filter:[\"position\"],run:function(){this.animate(this.coordinates(this._current))}},{filter:[\"width\",\"position\",\"items\",\"settings\"],run:function(){var a,b,c,d,e=this.settings.rtl?1:-1,f=2*this.settings.stagePadding,g=this.coordinates(this.current())+f,h=g+this.width()*e,i=[];for(c=0,d=this._coordinates.length;c<d;c++)a=this._coordinates[c-1]||0,b=Math.abs(this._coordinates[c])+f*e,(this.op(a,\"<=\",g)&&this.op(a,\">\",h)||this.op(b,\"<\",g)&&this.op(b,\">\",h))&&i.push(c);this.$stage.children(\".active\").removeClass(\"active\"),this.$stage.children(\":eq(\"+i.join(\"), :eq(\")+\")\").addClass(\"active\"),this.$stage.children(\".center\").removeClass(\"center\"),this.settings.center&&this.$stage.children().eq(this.current()).addClass(\"center\")}}],e.prototype.initializeStage=function(){this.$stage=this.$element.find(\".\"+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=a(\"<\"+this.settings.stageElement+\">\",{class:this.settings.stageClass}).wrap(a(\"<div/>\",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},e.prototype.initializeItems=function(){var b=this.$element.find(\".owl-item\");if(b.length)return this._items=b.get().map(function(b){return a(b)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate(\"width\"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},e.prototype.initialize=function(){if(this.enter(\"initializing\"),this.trigger(\"initialize\"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is(\"pre-loading\")){var a,b,c;a=this.$element.find(\"img\"),b=this.settings.nestedItemSelector?\".\"+this.settings.nestedItemSelector:d,c=this.$element.children(b).width(),a.length&&c<=0&&this.preloadAutoWidthImages(a)}this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave(\"initializing\"),this.trigger(\"initialized\")},e.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(\":visible\")},e.prototype.setup=function(){var b=this.viewport(),c=this.options.responsive,d=-1,e=null;c?(a.each(c,function(a){a<=b&&a>d&&(d=Number(a))}),e=a.extend({},this.options,c[d]),\"function\"==typeof e.stagePadding&&(e.stagePadding=e.stagePadding()),delete e.responsive,e.responsiveClass&&this.$element.attr(\"class\",this.$element.attr(\"class\").replace(new RegExp(\"(\"+this.options.responsiveClass+\"-)\\\\S+\\\\s\",\"g\"),\"$1\"+d))):e=a.extend({},this.options),this.trigger(\"change\",{property:{name:\"settings\",value:e}}),this._breakpoint=d,this.settings=e,this.invalidate(\"settings\"),this.trigger(\"changed\",{property:{name:\"settings\",value:this.settings}})},e.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.prepare=function(b){var c=this.trigger(\"prepare\",{content:b});return c.data||(c.data=a(\"<\"+this.settings.itemElement+\"/>\").addClass(this.options.itemClass).append(b)),this.trigger(\"prepared\",{content:c.data}),c.data},e.prototype.update=function(){for(var b=0,c=this._pipe.length,d=a.proxy(function(a){return this[a]},this._invalidated),e={};b<c;)(this._invalidated.all||a.grep(this._pipe[b].filter,d).length>0)&&this._pipe[b].run(e),b++;this._invalidated={},!this.is(\"valid\")&&this.enter(\"valid\")},e.prototype.width=function(a){switch(a=a||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},e.prototype.refresh=function(){this.enter(\"refreshing\"),this.trigger(\"refresh\"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave(\"refreshing\"),this.trigger(\"refreshed\")},e.prototype.onThrottledResize=function(){b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},e.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.isVisible()&&(this.enter(\"resizing\"),this.trigger(\"resize\").isDefaultPrevented()?(this.leave(\"resizing\"),!1):(this.invalidate(\"width\"),this.refresh(),this.leave(\"resizing\"),void this.trigger(\"resized\")))))},e.prototype.registerEventHandlers=function(){a.support.transition&&this.$stage.on(a.support.transition.end+\".owl.core\",a.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(b,\"resize\",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on(\"mousedown.owl.core\",a.proxy(this.onDragStart,this)),this.$stage.on(\"dragstart.owl.core selectstart.owl.core\",function(){return!1})),this.settings.touchDrag&&(this.$stage.on(\"touchstart.owl.core\",a.proxy(this.onDragStart,this)),this.$stage.on(\"touchcancel.owl.core\",a.proxy(this.onDragEnd,this)))},e.prototype.onDragStart=function(b){var d=null;3!==b.which&&(a.support.transform?(d=this.$stage.css(\"transform\").replace(/.*\\(|\\)| /g,\"\").split(\",\"),d={x:d[16===d.length?12:4],y:d[16===d.length?13:5]}):(d=this.$stage.position(),d={x:this.settings.rtl?d.left+this.$stage.width()-this.width()+this.settings.margin:d.left,y:d.top}),this.is(\"animating\")&&(a.support.transform?this.animate(d.x):this.$stage.stop(),this.invalidate(\"position\")),this.$element.toggleClass(this.options.grabClass,\"mousedown\"===b.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=a(b.target),this._drag.stage.start=d,this._drag.stage.current=d,this._drag.pointer=this.pointer(b),a(c).on(\"mouseup.owl.core touchend.owl.core\",a.proxy(this.onDragEnd,this)),a(c).one(\"mousemove.owl.core touchmove.owl.core\",a.proxy(function(b){var d=this.difference(this._drag.pointer,this.pointer(b));a(c).on(\"mousemove.owl.core touchmove.owl.core\",a.proxy(this.onDragMove,this)),Math.abs(d.x)<Math.abs(d.y)&&this.is(\"valid\")||(b.preventDefault(),this.enter(\"dragging\"),this.trigger(\"drag\"))},this)))},e.prototype.onDragMove=function(a){var b=null,c=null,d=null,e=this.difference(this._drag.pointer,this.pointer(a)),f=this.difference(this._drag.stage.start,e);this.is(\"dragging\")&&(a.preventDefault(),this.settings.loop?(b=this.coordinates(this.minimum()),c=this.coordinates(this.maximum()+1)-b,f.x=((f.x-b)%c+c)%c+b):(b=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),c=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),d=this.settings.pullDrag?-1*e.x/5:0,f.x=Math.max(Math.min(f.x,b+d),c+d)),this._drag.stage.current=f,this.animate(f.x))},e.prototype.onDragEnd=function(b){var d=this.difference(this._drag.pointer,this.pointer(b)),e=this._drag.stage.current,f=d.x>0^this.settings.rtl?\"left\":\"right\";a(c).off(\".owl.core\"),this.$element.removeClass(this.options.grabClass),(0!==d.x&&this.is(\"dragging\")||!this.is(\"valid\"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(e.x,0!==d.x?f:this._drag.direction)),this.invalidate(\"position\"),this.update(),this._drag.direction=f,(Math.abs(d.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one(\"click.owl.core\",function(){return!1})),this.is(\"dragging\")&&(this.leave(\"dragging\"),this.trigger(\"dragged\"))},e.prototype.closest=function(b,c){var e=-1,f=30,g=this.width(),h=this.coordinates();return this.settings.freeDrag||a.each(h,a.proxy(function(a,i){return\"left\"===c&&b>i-f&&b<i+f?e=a:\"right\"===c&&b>i-g-f&&b<i-g+f?e=a+1:this.op(b,\"<\",i)&&this.op(b,\">\",h[a+1]!==d?h[a+1]:i-g)&&(e=\"left\"===c?a+1:a),-1===e},this)),this.settings.loop||(this.op(b,\">\",h[this.minimum()])?e=b=this.minimum():this.op(b,\"<\",h[this.maximum()])&&(e=b=this.maximum())),e},e.prototype.animate=function(b){var c=this.speed()>0;this.is(\"animating\")&&this.onTransitionEnd(),c&&(this.enter(\"animating\"),this.trigger(\"translate\")),a.support.transform3d&&a.support.transition?this.$stage.css({transform:\"translate3d(\"+b+\"px,0px,0px)\",transition:this.speed()/1e3+\"s\"+(this.settings.slideTransition?\" \"+this.settings.slideTransition:\"\")}):c?this.$stage.animate({left:b+\"px\"},this.speed(),this.settings.fallbackEasing,a.proxy(this.onTransitionEnd,this)):this.$stage.css({left:b+\"px\"})},e.prototype.is=function(a){return this._states.current[a]&&this._states.current[a]>0},e.prototype.current=function(a){if(a===d)return this._current;if(0===this._items.length)return d;if(a=this.normalize(a),this._current!==a){var b=this.trigger(\"change\",{property:{name:\"position\",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.invalidate(\"position\"),this.trigger(\"changed\",{property:{name:\"position\",value:this._current}})}return this._current},e.prototype.invalidate=function(b){return\"string\"===a.type(b)&&(this._invalidated[b]=!0,this.is(\"valid\")&&this.leave(\"valid\")),a.map(this._invalidated,function(a,b){return b})},e.prototype.reset=function(a){(a=this.normalize(a))!==d&&(this._speed=0,this._current=a,this.suppress([\"translate\",\"translated\"]),this.animate(this.coordinates(a)),this.release([\"translate\",\"translated\"]))},e.prototype.normalize=function(a,b){var c=this._items.length,e=b?0:this._clones.length;return!this.isNumeric(a)||c<1?a=d:(a<0||a>=c+e)&&(a=((a-e/2)%c+c)%c+e/2),a},e.prototype.relative=function(a){return a-=this._clones.length/2,this.normalize(a,!0)},e.prototype.maximum=function(a){var b,c,d,e=this.settings,f=this._coordinates.length;if(e.loop)f=this._clones.length/2+this._items.length-1;else if(e.autoWidth||e.merge){if(b=this._items.length)for(c=this._items[--b].width(),d=this.$element.width();b--&&!((c+=this._items[b].width()+this.settings.margin)>d););f=b+1}else f=e.center?this._items.length-1:this._items.length-e.items;return a&&(f-=this._clones.length/2),Math.max(f,0)},e.prototype.minimum=function(a){return a?0:this._clones.length/2},e.prototype.items=function(a){return a===d?this._items.slice():(a=this.normalize(a,!0),this._items[a])},e.prototype.mergers=function(a){return a===d?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},e.prototype.clones=function(b){var c=this._clones.length/2,e=c+this._items.length,f=function(a){return a%2==0?e+a/2:c-(a+1)/2};return b===d?a.map(this._clones,function(a,b){return f(b)}):a.map(this._clones,function(a,c){return a===b?f(c):null})},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed},e.prototype.coordinates=function(b){var c,e=1,f=b-1;return b===d?a.map(this._coordinates,a.proxy(function(a,b){return this.coordinates(b)},this)):(this.settings.center?(this.settings.rtl&&(e=-1,f=b+1),c=this._coordinates[b],c+=(this.width()-c+(this._coordinates[f]||0))/2*e):c=this._coordinates[f]||0,c=Math.ceil(c))},e.prototype.duration=function(a,b,c){return 0===c?0:Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed)},e.prototype.to=function(a,b){var c=this.current(),d=null,e=a-this.relative(c),f=(e>0)-(e<0),g=this._items.length,h=this.minimum(),i=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(e)>g/2&&(e+=-1*f*g),a=c+e,(d=((a-h)%g+g)%g+h)!==a&&d-e<=i&&d-e>0&&(c=d-e,a=d,this.reset(c))):this.settings.rewind?(i+=1,a=(a%i+i)%i):a=Math.max(h,Math.min(i,a)),this.speed(this.duration(c,a,b)),this.current(a),this.isVisible()&&this.update()},e.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},e.prototype.onTransitionEnd=function(a){if(a!==d&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0)))return!1;this.leave(\"animating\"),this.trigger(\"translated\")},e.prototype.viewport=function(){var d;return this.options.responsiveBaseElement!==b?d=a(this.options.responsiveBaseElement).width():b.innerWidth?d=b.innerWidth:c.documentElement&&c.documentElement.clientWidth?d=c.documentElement.clientWidth:console.warn(\"Can not detect viewport width.\"),d},e.prototype.replace=function(b){this.$stage.empty(),this._items=[],b&&(b=b instanceof jQuery?b:a(b)),this.settings.nestedItemSelector&&(b=b.find(\".\"+this.settings.nestedItemSelector)),b.filter(function(){return 1===this.nodeType}).each(a.proxy(function(a,b){b=this.prepare(b),this.$stage.append(b),this._items.push(b),this._mergers.push(1*b.find(\"[data-merge]\").addBack(\"[data-merge]\").attr(\"data-merge\")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate(\"items\")},e.prototype.add=function(b,c){var e=this.relative(this._current);c=c===d?this._items.length:this.normalize(c,!0),b=b instanceof jQuery?b:a(b),this.trigger(\"add\",{content:b,position:c}),b=this.prepare(b),0===this._items.length||c===this._items.length?(0===this._items.length&&this.$stage.append(b),0!==this._items.length&&this._items[c-1].after(b),this._items.push(b),this._mergers.push(1*b.find(\"[data-merge]\").addBack(\"[data-merge]\").attr(\"data-merge\")||1)):(this._items[c].before(b),this._items.splice(c,0,b),this._mergers.splice(c,0,1*b.find(\"[data-merge]\").addBack(\"[data-merge]\").attr(\"data-merge\")||1)),this._items[e]&&this.reset(this._items[e].index()),this.invalidate(\"items\"),this.trigger(\"added\",{content:b,position:c})},e.prototype.remove=function(a){(a=this.normalize(a,!0))!==d&&(this.trigger(\"remove\",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate(\"items\"),this.trigger(\"removed\",{content:null,position:a}))},e.prototype.preloadAutoWidthImages=function(b){b.each(a.proxy(function(b,c){this.enter(\"pre-loading\"),c=a(c),a(new Image).one(\"load\",a.proxy(function(a){c.attr(\"src\",a.target.src),c.css(\"opacity\",1),this.leave(\"pre-loading\"),!this.is(\"pre-loading\")&&!this.is(\"initializing\")&&this.refresh()},this)).attr(\"src\",c.attr(\"src\")||c.attr(\"data-src\")||c.attr(\"data-src-retina\"))},this))},e.prototype.destroy=function(){this.$element.off(\".owl.core\"),this.$stage.off(\".owl.core\"),a(c).off(\".owl.core\"),!1!==this.settings.responsive&&(b.clearTimeout(this.resizeTimer),this.off(b,\"resize\",this._handlers.onThrottledResize));for(var d in this._plugins)this._plugins[d].destroy();this.$stage.children(\".cloned\").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr(\"class\",this.$element.attr(\"class\").replace(new RegExp(this.options.responsiveClass+\"-\\\\S+\\\\s\",\"g\"),\"\")).removeData(\"owl.carousel\")},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case\"<\":return d?a>c:a<c;case\">\":return d?a<c:a>c;case\">=\":return d?a<=c:a>=c;case\"<=\":return d?a>=c:a<=c}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent(\"on\"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent(\"on\"+b,c)},e.prototype.trigger=function(b,c,d,f,g){var h={item:{count:this._items.length,index:this.current()}},i=a.camelCase(a.grep([\"on\",b,d],function(a){return a}).join(\"-\").toLowerCase()),j=a.Event([b,\"owl\",d||\"carousel\"].join(\".\").toLowerCase(),a.extend({relatedTarget:this},h,c));return this._supress[b]||(a.each(this._plugins,function(a,b){b.onTrigger&&b.onTrigger(j)}),this.register({type:e.Type.Event,name:b}),this.$element.trigger(j),this.settings&&\"function\"==typeof this.settings[i]&&this.settings[i].call(this,j)),j},e.prototype.enter=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]===d&&(this._states.current[b]=0),this._states.current[b]++},this))},e.prototype.leave=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]--},this))},e.prototype.register=function(b){if(b.type===e.Type.Event){if(a.event.special[b.name]||(a.event.special[b.name]={}),!a.event.special[b.name].owl){var c=a.event.special[b.name]._default;a.event.special[b.name]._default=function(a){return!c||!c.apply||a.namespace&&-1!==a.namespace.indexOf(\"owl\")?a.namespace&&a.namespace.indexOf(\"owl\")>-1:c.apply(this,arguments)},a.event.special[b.name].owl=!0}}else b.type===e.Type.State&&(this._states.tags[b.name]?this._states.tags[b.name]=this._states.tags[b.name].concat(b.tags):this._states.tags[b.name]=b.tags,this._states.tags[b.name]=a.grep(this._states.tags[b.name],a.proxy(function(c,d){return a.inArray(c,this._states.tags[b.name])===d},this)))},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0},this))},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b]},this))},e.prototype.pointer=function(a){var c={x:null,y:null};return a=a.originalEvent||a||b.event,a=a.touches&&a.touches.length?a.touches[0]:a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,a.pageX?(c.x=a.pageX,c.y=a.pageY):(c.x=a.clientX,c.y=a.clientY),c},e.prototype.isNumeric=function(a){return!isNaN(parseFloat(a))},e.prototype.difference=function(a,b){return{x:a.x-b.x,y:a.y-b.y}},a.fn.owlCarousel=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),f=d.data(\"owl.carousel\");f||(f=new e(this,\"object\"==typeof b&&b),d.data(\"owl.carousel\",f),a.each([\"next\",\"prev\",\"to\",\"destroy\",\"refresh\",\"replace\",\"add\",\"remove\"],function(b,c){f.register({type:e.Type.Event,name:c}),f.$element.on(c+\".owl.carousel.core\",a.proxy(function(a){a.namespace&&a.relatedTarget!==this&&(this.suppress([c]),f[c].apply(this,[].slice.call(arguments,1)),this.release([c]))},f))})),\"string\"==typeof b&&\"_\"!==b.charAt(0)&&f[b].apply(f,c)})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._interval=null,this._visible=null,this._handlers={\"initialized.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoRefresh:!0,autoRefreshInterval:500},e.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=b.setInterval(a.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},e.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass(\"owl-hidden\",!this._visible),this._visible&&this._core.invalidate(\"width\")&&this._core.refresh())},e.prototype.destroy=function(){var a,c;b.clearInterval(this._interval);for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(c in Object.getOwnPropertyNames(this))\"function\"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoRefresh=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._loaded=[],this._handlers={\"initialized.owl.carousel change.owl.carousel resized.owl.carousel\":a.proxy(function(b){if(b.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(b.property&&\"position\"==b.property.name||\"initialized\"==b.type)){var c=this._core.settings,e=c.center&&Math.ceil(c.items/2)||c.items,f=c.center&&-1*e||0,g=(b.property&&b.property.value!==d?b.property.value:this._core.current())+f,h=this._core.clones().length,i=a.proxy(function(a,b){this.load(b)},this);for(c.lazyLoadEager>0&&(e+=c.lazyLoadEager,c.loop&&(g-=c.lazyLoadEager,e++));f++<e;)this.load(h/2+this._core.relative(g)),h&&a.each(this._core.clones(this._core.relative(g)),i),g++}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={lazyLoad:!1,lazyLoadEager:0},e.prototype.load=function(c){var d=this._core.$stage.children().eq(c),e=d&&d.find(\".owl-lazy\");!e||a.inArray(d.get(0),this._loaded)>-1||(e.each(a.proxy(function(c,d){var e,f=a(d),g=b.devicePixelRatio>1&&f.attr(\"data-src-retina\")||f.attr(\"data-src\")||f.attr(\"data-srcset\");this._core.trigger(\"load\",{element:f,url:g},\"lazy\"),f.is(\"img\")?f.one(\"load.owl.lazy\",a.proxy(function(){f.css(\"opacity\",1),this._core.trigger(\"loaded\",{element:f,url:g},\"lazy\")},this)).attr(\"src\",g):f.is(\"source\")?f.one(\"load.owl.lazy\",a.proxy(function(){this._core.trigger(\"loaded\",{element:f,url:g},\"lazy\")},this)).attr(\"srcset\",g):(e=new Image,e.onload=a.proxy(function(){f.css({\"background-image\":'url(\"'+g+'\")',opacity:\"1\"}),this._core.trigger(\"loaded\",{element:f,url:g},\"lazy\")},this),e.src=g)},this)),this._loaded.push(d.get(0)))},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(c){this._core=c,this._previousHeight=null,this._handlers={\"initialized.owl.carousel refreshed.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&this.update()},this),\"changed.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&\"position\"===a.property.name&&this.update()},this),\"loaded.owl.lazy\":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&a.element.closest(\".\"+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var d=this;a(b).on(\"load\",function(){d._core.settings.autoHeight&&d.update()}),a(b).resize(function(){d._core.settings.autoHeight&&(null!=d._intervalId&&clearTimeout(d._intervalId),d._intervalId=setTimeout(function(){d.update()},250))})};e.Defaults={autoHeight:!1,autoHeightClass:\"owl-height\"},e.prototype.update=function(){var b=this._core._current,c=b+this._core.settings.items,d=this._core.settings.lazyLoad,e=this._core.$stage.children().toArray().slice(b,c),f=[],g=0;a.each(e,function(b,c){f.push(a(c).height())}),g=Math.max.apply(null,f),g<=1&&d&&this._previousHeight&&(g=this._previousHeight),this._previousHeight=g,this._core.$stage.parent().height(g).addClass(this._core.settings.autoHeightClass)},e.prototype.destroy=function(){var a,b;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._videos={},this._playing=null,this._handlers={\"initialized.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.register({type:\"state\",name:\"playing\",tags:[\"interacting\"]})},this),\"resize.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.settings.video&&this.isInFullScreen()&&a.preventDefault()},this),\"refreshed.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.is(\"resizing\")&&this._core.$stage.find(\".cloned .owl-video-frame\").remove()},this),\"changed.owl.carousel\":a.proxy(function(a){a.namespace&&\"position\"===a.property.name&&this._playing&&this.stop()},this),\"prepared.owl.carousel\":a.proxy(function(b){if(b.namespace){var c=a(b.content).find(\".owl-video\");c.length&&(c.css(\"display\",\"none\"),this.fetch(c,a(b.content)))}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on(\"click.owl.video\",\".owl-video-play-icon\",a.proxy(function(a){this.play(a)},this))};e.Defaults={video:!1,videoHeight:!1,videoWidth:!1},e.prototype.fetch=function(a,b){var c=function(){return a.attr(\"data-vimeo-id\")?\"vimeo\":a.attr(\"data-vzaar-id\")?\"vzaar\":\"youtube\"}(),d=a.attr(\"data-vimeo-id\")||a.attr(\"data-youtube-id\")||a.attr(\"data-vzaar-id\"),e=a.attr(\"data-width\")||this._core.settings.videoWidth,f=a.attr(\"data-height\")||this._core.settings.videoHeight,g=a.attr(\"href\");if(!g)throw new Error(\"Missing video URL.\");if(d=g.match(/(http:|https:|)\\/\\/(player.|www.|app.)?(vimeo\\.com|youtu(be\\.com|\\.be|be\\.googleapis\\.com|be\\-nocookie\\.com)|vzaar\\.com)\\/(video\\/|videos\\/|embed\\/|channels\\/.+\\/|groups\\/.+\\/|watch\\?v=|v\\/)?([A-Za-z0-9._%-]*)(\\&\\S+)?/),d[3].indexOf(\"youtu\")>-1)c=\"youtube\";else if(d[3].indexOf(\"vimeo\")>-1)c=\"vimeo\";else{if(!(d[3].indexOf(\"vzaar\")>-1))throw new Error(\"Video URL not supported.\");c=\"vzaar\"}d=d[6],this._videos[g]={type:c,id:d,width:e,height:f},b.attr(\"data-video\",g),this.thumbnail(a,this._videos[g])},e.prototype.thumbnail=function(b,c){var d,e,f,g=c.width&&c.height?\"width:\"+c.width+\"px;height:\"+c.height+\"px;\":\"\",h=b.find(\"img\"),i=\"src\",j=\"\",k=this._core.settings,l=function(c){e='<div class=\"owl-video-play-icon\"></div>',d=k.lazyLoad?a(\"<div/>\",{class:\"owl-video-tn \"+j,srcType:c}):a(\"<div/>\",{class:\"owl-video-tn\",style:\"opacity:1;background-image:url(\"+c+\")\"}),b.after(d),b.after(e)};if(b.wrap(a(\"<div/>\",{class:\"owl-video-wrapper\",style:g})),this._core.settings.lazyLoad&&(i=\"data-src\",j=\"owl-lazy\"),h.length)return l(h.attr(i)),h.remove(),!1;\"youtube\"===c.type?(f=\"//img.youtube.com/vi/\"+c.id+\"/hqdefault.jpg\",l(f)):\"vimeo\"===c.type?a.ajax({type:\"GET\",url:\"//vimeo.com/api/v2/video/\"+c.id+\".json\",jsonp:\"callback\",dataType:\"jsonp\",success:function(a){f=a[0].thumbnail_large,l(f)}}):\"vzaar\"===c.type&&a.ajax({type:\"GET\",url:\"//vzaar.com/api/videos/\"+c.id+\".json\",jsonp:\"callback\",dataType:\"jsonp\",success:function(a){f=a.framegrab_url,l(f)}})},e.prototype.stop=function(){this._core.trigger(\"stop\",null,\"video\"),this._playing.find(\".owl-video-frame\").remove(),this._playing.removeClass(\"owl-video-playing\"),this._playing=null,this._core.leave(\"playing\"),this._core.trigger(\"stopped\",null,\"video\")},e.prototype.play=function(b){var c,d=a(b.target),e=d.closest(\".\"+this._core.settings.itemClass),f=this._videos[e.attr(\"data-video\")],g=f.width||\"100%\",h=f.height||this._core.$stage.height();this._playing||(this._core.enter(\"playing\"),this._core.trigger(\"play\",null,\"video\"),e=this._core.items(this._core.relative(e.index())),this._core.reset(e.index()),c=a('<iframe frameborder=\"0\" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>'),c.attr(\"height\",h),c.attr(\"width\",g),\"youtube\"===f.type?c.attr(\"src\",\"//www.youtube.com/embed/\"+f.id+\"?autoplay=1&rel=0&v=\"+f.id):\"vimeo\"===f.type?c.attr(\"src\",\"//player.vimeo.com/video/\"+f.id+\"?autoplay=1\"):\"vzaar\"===f.type&&c.attr(\"src\",\"//view.vzaar.com/\"+f.id+\"/player?autoplay=true\"),a(c).wrap('<div class=\"owl-video-frame\" />').insertAfter(e.find(\".owl-video\")),this._playing=e.addClass(\"owl-video-playing\"))},e.prototype.isInFullScreen=function(){var b=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return b&&a(b).parent().hasClass(\"owl-video-frame\")},e.prototype.destroy=function(){var a,b;this._core.$element.off(\"click.owl.video\");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this.core=b,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={\"change.owl.carousel\":a.proxy(function(a){a.namespace&&\"position\"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value)},this),\"drag.owl.carousel dragged.owl.carousel translated.owl.carousel\":a.proxy(function(a){a.namespace&&(this.swapping=\"translated\"==a.type)},this),\"translate.owl.carousel\":a.proxy(function(a){a.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,\r\n    animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&a.support.animation&&a.support.transition){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.one(a.support.animation.end,c).css({left:b+\"px\"}).addClass(\"animated owl-animated-out\").addClass(g)),f&&e.one(a.support.animation.end,c).addClass(\"animated owl-animated-in\").addClass(f))}},e.prototype.clear=function(b){a(b.target).css({left:\"\"}).removeClass(\"animated owl-animated-out owl-animated-in\").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={\"changed.owl.carousel\":a.proxy(function(a){a.namespace&&\"settings\"===a.property.name?this._core.settings.autoplay?this.play():this.stop():a.namespace&&\"position\"===a.property.name&&this._paused&&(this._time=0)},this),\"initialized.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.settings.autoplay&&this.play()},this),\"play.owl.autoplay\":a.proxy(function(a,b,c){a.namespace&&this.play(b,c)},this),\"stop.owl.autoplay\":a.proxy(function(a){a.namespace&&this.stop()},this),\"mouseover.owl.autoplay\":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is(\"rotating\")&&this.pause()},this),\"mouseleave.owl.autoplay\":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is(\"rotating\")&&this.play()},this),\"touchstart.owl.core\":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is(\"rotating\")&&this.pause()},this),\"touchend.owl.core\":a.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=a.extend({},e.Defaults,this._core.options)};e.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},e.prototype._next=function(d){this._call=b.setTimeout(a.proxy(this._next,this,d),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is(\"interacting\")||c.hidden||this._core.next(d||this._core.settings.autoplaySpeed)},e.prototype.read=function(){return(new Date).getTime()-this._time},e.prototype.play=function(c,d){var e;this._core.is(\"rotating\")||this._core.enter(\"rotating\"),c=c||this._core.settings.autoplayTimeout,e=Math.min(this._time%(this._timeout||c),c),this._paused?(this._time=this.read(),this._paused=!1):b.clearTimeout(this._call),this._time+=this.read()%c-e,this._timeout=c,this._call=b.setTimeout(a.proxy(this._next,this,d),c-e)},e.prototype.stop=function(){this._core.is(\"rotating\")&&(this._time=0,this._paused=!0,b.clearTimeout(this._call),this._core.leave(\"rotating\"))},e.prototype.pause=function(){this._core.is(\"rotating\")&&!this._paused&&(this._time=this.read(),this._paused=!0,b.clearTimeout(this._call))},e.prototype.destroy=function(){var a,b;this.stop();for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){\"use strict\";var e=function(b){this._core=b,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={\"prepared.owl.carousel\":a.proxy(function(b){b.namespace&&this._core.settings.dotsData&&this._templates.push('<div class=\"'+this._core.settings.dotClass+'\">'+a(b.content).find(\"[data-dot]\").addBack(\"[data-dot]\").attr(\"data-dot\")+\"</div>\")},this),\"added.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,0,this._templates.pop())},this),\"remove.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,1)},this),\"changed.owl.carousel\":a.proxy(function(a){a.namespace&&\"position\"==a.property.name&&this.draw()},this),\"initialized.owl.carousel\":a.proxy(function(a){a.namespace&&!this._initialized&&(this._core.trigger(\"initialize\",null,\"navigation\"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger(\"initialized\",null,\"navigation\"))},this),\"refreshed.owl.carousel\":a.proxy(function(a){a.namespace&&this._initialized&&(this._core.trigger(\"refresh\",null,\"navigation\"),this.update(),this.draw(),this._core.trigger(\"refreshed\",null,\"navigation\"))},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:['<span aria-label=\"Previous\">&#x2039;</span>','<span aria-label=\"Next\">&#x203a;</span>'],navSpeed:!1,navElement:'button type=\"button\" role=\"presentation\"',navContainer:!1,navContainerClass:\"owl-nav\",navClass:[\"owl-prev\",\"owl-next\"],slideBy:1,dotClass:\"owl-dot\",dotsClass:\"owl-dots\",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var b,c=this._core.settings;this._controls.$relative=(c.navContainer?a(c.navContainer):a(\"<div>\").addClass(c.navContainerClass).appendTo(this.$element)).addClass(\"disabled\"),this._controls.$previous=a(\"<\"+c.navElement+\">\").addClass(c.navClass[0]).html(c.navText[0]).prependTo(this._controls.$relative).on(\"click\",a.proxy(function(a){this.prev(c.navSpeed)},this)),this._controls.$next=a(\"<\"+c.navElement+\">\").addClass(c.navClass[1]).html(c.navText[1]).appendTo(this._controls.$relative).on(\"click\",a.proxy(function(a){this.next(c.navSpeed)},this)),c.dotsData||(this._templates=[a('<button role=\"button\">').addClass(c.dotClass).append(a(\"<span>\")).prop(\"outerHTML\")]),this._controls.$absolute=(c.dotsContainer?a(c.dotsContainer):a(\"<div>\").addClass(c.dotsClass).appendTo(this.$element)).addClass(\"disabled\"),this._controls.$absolute.on(\"click\",\"button\",a.proxy(function(b){var d=a(b.target).parent().is(this._controls.$absolute)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(d,c.dotsSpeed)},this));for(b in this._overrides)this._core[b]=a.proxy(this[b],this)},e.prototype.destroy=function(){var a,b,c,d,e;e=this._core.settings;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(b in this._controls)\"$relative\"===b&&e.navContainer?this._controls[b].html(\"\"):this._controls[b].remove();for(d in this.overides)this._core[d]=this._overrides[d];for(c in Object.getOwnPropertyNames(this))\"function\"!=typeof this[c]&&(this[c]=null)},e.prototype.update=function(){var a,b,c,d=this._core.clones().length/2,e=d+this._core.items().length,f=this._core.maximum(!0),g=this._core.settings,h=g.center||g.autoWidth||g.dotsData?1:g.dotsEach||g.items;if(\"page\"!==g.slideBy&&(g.slideBy=Math.min(g.slideBy,g.items)),g.dots||\"page\"==g.slideBy)for(this._pages=[],a=d,b=0,c=0;a<e;a++){if(b>=h||0===b){if(this._pages.push({start:Math.min(f,a-d),end:a-d+h-1}),Math.min(f,a-d)===f)break;b=0,++c}b+=this._core.mergers(this._core.relative(a))}},e.prototype.draw=function(){var b,c=this._core.settings,d=this._core.items().length<=c.items,e=this._core.relative(this._core.current()),f=c.loop||c.rewind;this._controls.$relative.toggleClass(\"disabled\",!c.nav||d),c.nav&&(this._controls.$previous.toggleClass(\"disabled\",!f&&e<=this._core.minimum(!0)),this._controls.$next.toggleClass(\"disabled\",!f&&e>=this._core.maximum(!0))),this._controls.$absolute.toggleClass(\"disabled\",!c.dots||d),c.dots&&(b=this._pages.length-this._controls.$absolute.children().length,c.dotsData&&0!==b?this._controls.$absolute.html(this._templates.join(\"\")):b>0?this._controls.$absolute.append(new Array(b+1).join(this._templates[0])):b<0&&this._controls.$absolute.children().slice(b).remove(),this._controls.$absolute.find(\".active\").removeClass(\"active\"),this._controls.$absolute.children().eq(a.inArray(this.current(),this._pages)).addClass(\"active\"))},e.prototype.onTrigger=function(b){var c=this._core.settings;b.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotsData?1:c.dotsEach||c.items)}},e.prototype.current=function(){var b=this._core.relative(this._core.current());return a.grep(this._pages,a.proxy(function(a,c){return a.start<=b&&a.end>=b},this)).pop()},e.prototype.getPosition=function(b){var c,d,e=this._core.settings;return\"page\"==e.slideBy?(c=a.inArray(this.current(),this._pages),d=this._pages.length,b?++c:--c,c=this._pages[(c%d+d)%d].start):(c=this._core.relative(this._core.current()),d=this._core.items().length,b?c+=e.slideBy:c-=e.slideBy),c},e.prototype.next=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),b)},e.prototype.prev=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),b)},e.prototype.to=function(b,c,d){var e;!d&&this._pages.length?(e=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(b%e+e)%e].start,c)):a.proxy(this._overrides.to,this._core)(b,c)},a.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){\"use strict\";var e=function(c){this._core=c,this._hashes={},this.$element=this._core.$element,this._handlers={\"initialized.owl.carousel\":a.proxy(function(c){c.namespace&&\"URLHash\"===this._core.settings.startPosition&&a(b).trigger(\"hashchange.owl.navigation\")},this),\"prepared.owl.carousel\":a.proxy(function(b){if(b.namespace){var c=a(b.content).find(\"[data-hash]\").addBack(\"[data-hash]\").attr(\"data-hash\");if(!c)return;this._hashes[c]=b.content}},this),\"changed.owl.carousel\":a.proxy(function(c){if(c.namespace&&\"position\"===c.property.name){var d=this._core.items(this._core.relative(this._core.current())),e=a.map(this._hashes,function(a,b){return a===d?b:null}).join();if(!e||b.location.hash.slice(1)===e)return;b.location.hash=e}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),a(b).on(\"hashchange.owl.navigation\",a.proxy(function(a){var c=b.location.hash.substring(1),e=this._core.$stage.children(),f=this._hashes[c]&&e.index(this._hashes[c]);f!==d&&f!==this._core.current()&&this._core.to(this._core.relative(f),!1,!0)},this))};e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var c,d;a(b).off(\"hashchange.owl.navigation\");for(c in this._handlers)this._core.$element.off(c,this._handlers[c]);for(d in Object.getOwnPropertyNames(this))\"function\"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){function e(b,c){var e=!1,f=b.charAt(0).toUpperCase()+b.slice(1);return a.each((b+\" \"+h.join(f+\" \")+f).split(\" \"),function(a,b){if(g[b]!==d)return e=!c||b,!1}),e}function f(a){return e(a,!0)}var g=a(\"<support>\").get(0).style,h=\"Webkit Moz O ms\".split(\" \"),i={transition:{end:{WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd\",transition:\"transitionend\"}},animation:{end:{WebkitAnimation:\"webkitAnimationEnd\",MozAnimation:\"animationend\",OAnimation:\"oAnimationEnd\",animation:\"animationend\"}}},j={csstransforms:function(){return!!e(\"transform\")},csstransforms3d:function(){return!!e(\"perspective\")},csstransitions:function(){return!!e(\"transition\")},cssanimations:function(){return!!e(\"animation\")}};j.csstransitions()&&(a.support.transition=new String(f(\"transition\")),a.support.transition.end=i.transition.end[a.support.transition]),j.cssanimations()&&(a.support.animation=new String(f(\"animation\")),a.support.animation.end=i.animation.end[a.support.animation]),j.csstransforms()&&(a.support.transform=new String(f(\"transform\")),a.support.transform3d=j.csstransforms3d())}(window.Zepto||window.jQuery,window,document);\r\n}));\r\n","Magento_SalesRule/js/model/place-order-mixin.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'mage/utils/wrapper',\n    'Magento_Checkout/js/model/quote',\n    'Magento_SalesRule/js/model/coupon',\n    'Magento_Checkout/js/action/get-totals'\n], function ($, wrapper, quote, coupon, getTotalsAction) {\n    'use strict';\n\n    return function (placeOrderAction) {\n        return wrapper.wrap(placeOrderAction, function (originalAction, paymentData, messageContainer) {\n            var result;\n\n            $.when(\n                result = originalAction(paymentData, messageContainer)\n            ).fail(\n                function () {\n                    var deferred = $.Deferred(),\n\n                        /**\n                         * Update coupon form\n                         */\n                        updateCouponCallback = function () {\n                            if (quote.totals() && !quote.totals()['coupon_code']) {\n                                coupon.setCouponCode('');\n                                coupon.setIsApplied(false);\n                            }\n                        };\n\n                    getTotalsAction([], deferred);\n                    $.when(deferred).done(updateCouponCallback);\n                }\n            );\n\n            return result;\n        });\n    };\n});\n","Magento_SalesRule/js/model/coupon.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/**\n * Coupon model.\n */\ndefine([\n    'ko',\n    'domReady!'\n], function (ko) {\n    'use strict';\n\n    var couponCode = ko.observable(null),\n        isApplied = ko.observable(null);\n\n    return {\n        couponCode: couponCode,\n        isApplied: isApplied,\n\n        /**\n         * @return {*}\n         */\n        getCouponCode: function () {\n            return couponCode;\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        getIsApplied: function () {\n            return isApplied;\n        },\n\n        /**\n         * @param {*} couponCodeValue\n         */\n        setCouponCode: function (couponCodeValue) {\n            couponCode(couponCodeValue);\n        },\n\n        /**\n         * @param {Boolean} isAppliedValue\n         */\n        setIsApplied: function (isAppliedValue) {\n            isApplied(isAppliedValue);\n        }\n    };\n});\n","Magento_SalesRule/js/model/shipping-save-processor-mixin.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'mage/utils/wrapper',\n    'Magento_Checkout/js/model/quote',\n    'Magento_SalesRule/js/model/coupon'\n], function (wrapper, quote, coupon) {\n    'use strict';\n\n    return function (shippingSaveProcessor) {\n        shippingSaveProcessor.saveShippingInformation = wrapper.wrapSuper(\n            shippingSaveProcessor.saveShippingInformation,\n            function (type) {\n                var updateCouponCallback;\n\n                /**\n                 * Update coupon form\n                 */\n                updateCouponCallback = function () {\n                    if (quote.totals() && !quote.totals()['coupon_code']) {\n                        coupon.setCouponCode('');\n                        coupon.setIsApplied(false);\n                    }\n                };\n\n                return this._super(type).done(updateCouponCallback);\n            }\n        );\n\n        return shippingSaveProcessor;\n    };\n});\n","Magento_SalesRule/js/model/payment/discount-messages.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/model/messages'\n], function (Messages) {\n    'use strict';\n\n    return new Messages();\n});\n","Magento_SalesRule/js/form/element/coupon-type.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore',\n    'uiRegistry',\n    'Magento_Ui/js/form/element/select'\n], function (_, uiRegistry, select) {\n    'use strict';\n\n    return select.extend({\n\n        /**\n         * Hide fields on coupon tab\n         */\n        onUpdate: function () {\n\n            /* eslint-disable eqeqeq */\n            if (this.value() != this.displayOnlyForCouponType) {\n                uiRegistry.get('sales_rule_form.sales_rule_form.rule_information.use_auto_generation').checked(false);\n            }\n\n            this.enableDisableFields();\n        },\n\n        /**\n         * Enable/disable fields on Coupons tab\n         */\n        enableDisableFields: function () {\n            var selector,\n                isUseAutoGenerationChecked,\n                couponType,\n                disableAuto;\n\n            selector = '[id=sales-rule-form-tab-coupons] input, [id=sales-rule-form-tab-coupons] select, ' +\n                    '[id=sales-rule-form-tab-coupons] button';\n            isUseAutoGenerationChecked = uiRegistry\n                    .get('sales_rule_form.sales_rule_form.rule_information.use_auto_generation')\n                    .checked();\n            couponType = uiRegistry\n                .get('sales_rule_form.sales_rule_form.rule_information.coupon_type')\n                .value();\n            disableAuto = couponType === 3 || isUseAutoGenerationChecked;\n            _.each(\n                document.querySelectorAll(selector),\n                function (element) {\n                    element.disabled = !disableAuto;\n                }\n            );\n        }\n    });\n});\n","Magento_SalesRule/js/form/element/manage-coupon-codes.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore',\n    'uiRegistry',\n    'Magento_Ui/js/form/components/fieldset',\n    'Magento_Ui/js/lib/view/utils/async'\n], function (_, uiRegistry, fieldset, async) {\n    'use strict';\n\n    return fieldset.extend({\n\n        /*eslint-disable no-unused-vars*/\n        /**\n         * Initialize element\n         *\n         * @returns {Abstract} Chainable\n         */\n        initialize: function (elems, position) {\n            var obj = this;\n\n            this._super();\n\n            async.async('#sales-rule-form-tab-coupons', document.getElementById('container'), function (node) {\n                var useAutoGeneration = uiRegistry.get(\n                    'sales_rule_form.sales_rule_form.rule_information.use_auto_generation'\n                );\n\n                useAutoGeneration.on('checked', function () {\n                    obj.enableDisableFields();\n                });\n                obj.enableDisableFields();\n            });\n\n            return this;\n        },\n\n        /*eslint-enable no-unused-vars*/\n        /*eslint-disable lines-around-comment*/\n\n        /**\n         * Enable/disable fields on Coupons tab\n         */\n        enableDisableFields: function () {\n            var selector,\n                isUseAutoGenerationChecked,\n                couponType,\n                disableAuto;\n\n            selector = '[id=sales-rule-form-tab-coupons] input, [id=sales-rule-form-tab-coupons] select, ' +\n                    '[id=sales-rule-form-tab-coupons] button';\n            isUseAutoGenerationChecked = uiRegistry\n                    .get('sales_rule_form.sales_rule_form.rule_information.use_auto_generation')\n                    .checked();\n            couponType = uiRegistry\n                .get('sales_rule_form.sales_rule_form.rule_information.coupon_type')\n                .value();\n            /**\n             * \\Magento\\Rule\\Model\\AbstractModel::COUPON_TYPE_AUTO\n             */\n            disableAuto = couponType === 3 || isUseAutoGenerationChecked;\n            _.each(\n                document.querySelectorAll(selector),\n                function (element) {\n                    element.disabled = !disableAuto;\n                }\n            );\n        }\n    });\n});\n","Magento_SalesRule/js/action/set-coupon-code.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * Customer store credit(balance) application\n */\ndefine([\n    'ko',\n    'jquery',\n    'Magento_Checkout/js/model/quote',\n    'Magento_Checkout/js/model/resource-url-manager',\n    'Magento_Checkout/js/model/error-processor',\n    'Magento_SalesRule/js/model/payment/discount-messages',\n    'mage/storage',\n    'mage/translate',\n    'Magento_Checkout/js/action/get-payment-information',\n    'Magento_Checkout/js/model/totals',\n    'Magento_Checkout/js/model/full-screen-loader',\n    'Magento_Checkout/js/action/recollect-shipping-rates'\n], function (ko, $, quote, urlManager, errorProcessor, messageContainer, storage, $t, getPaymentInformationAction,\n    totals, fullScreenLoader, recollectShippingRates\n) {\n    'use strict';\n\n    var dataModifiers = [],\n        successCallbacks = [],\n        failCallbacks = [],\n        action;\n\n    /**\n     * Apply provided coupon.\n     *\n     * @param {String} couponCode\n     * @param {Boolean}isApplied\n     * @returns {Deferred}\n     */\n    action = function (couponCode, isApplied) {\n        var quoteId = quote.getQuoteId(),\n            url = urlManager.getApplyCouponUrl(couponCode, quoteId),\n            message = $t('Your coupon was successfully applied.'),\n            data = {},\n            headers = {};\n\n        //Allowing to modify coupon-apply request\n        dataModifiers.forEach(function (modifier) {\n            modifier(headers, data);\n        });\n        fullScreenLoader.startLoader();\n\n        return storage.put(\n            url,\n            data,\n            false,\n            null,\n            headers\n        ).done(function (response) {\n            var deferred;\n\n            if (response) {\n                deferred = $.Deferred();\n\n                isApplied(true);\n                totals.isLoading(true);\n                recollectShippingRates();\n                getPaymentInformationAction(deferred);\n                $.when(deferred).done(function () {\n                    fullScreenLoader.stopLoader();\n                    totals.isLoading(false);\n                });\n                messageContainer.addSuccessMessage({\n                    'message': message\n                });\n                //Allowing to tap into apply-coupon process.\n                successCallbacks.forEach(function (callback) {\n                    callback(response);\n                });\n            }\n        }).fail(function (response) {\n            fullScreenLoader.stopLoader();\n            totals.isLoading(false);\n            errorProcessor.process(response, messageContainer);\n            //Allowing to tap into apply-coupon process.\n            failCallbacks.forEach(function (callback) {\n                callback(response);\n            });\n        });\n    };\n\n    /**\n     * Modifying data to be sent.\n     *\n     * @param {Function} modifier\n     */\n    action.registerDataModifier = function (modifier) {\n        dataModifiers.push(modifier);\n    };\n\n    /**\n     * When successfully added a coupon.\n     *\n     * @param {Function} callback\n     */\n    action.registerSuccessCallback = function (callback) {\n        successCallbacks.push(callback);\n    };\n\n    /**\n     * When failed to add a coupon.\n     *\n     * @param {Function} callback\n     */\n    action.registerFailCallback = function (callback) {\n        failCallbacks.push(callback);\n    };\n\n    return action;\n});\n","Magento_SalesRule/js/action/cancel-coupon.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * Customer store credit(balance) application\n */\ndefine([\n    'jquery',\n    'Magento_Checkout/js/model/quote',\n    'Magento_Checkout/js/model/resource-url-manager',\n    'Magento_Checkout/js/model/error-processor',\n    'Magento_SalesRule/js/model/payment/discount-messages',\n    'mage/storage',\n    'Magento_Checkout/js/action/get-payment-information',\n    'Magento_Checkout/js/model/totals',\n    'mage/translate',\n    'Magento_Checkout/js/model/full-screen-loader',\n    'Magento_Checkout/js/action/recollect-shipping-rates'\n], function ($, quote, urlManager, errorProcessor, messageContainer, storage, getPaymentInformationAction, totals, $t,\n  fullScreenLoader, recollectShippingRates\n) {\n    'use strict';\n\n    var successCallbacks = [],\n        action,\n        callSuccessCallbacks;\n\n    /**\n     * Execute callbacks when a coupon is successfully canceled.\n     */\n    callSuccessCallbacks = function () {\n        successCallbacks.forEach(function (callback) {\n            callback();\n        });\n    };\n\n    /**\n     * Cancel applied coupon.\n     *\n     * @param {Boolean} isApplied\n     * @returns {Deferred}\n     */\n    action =  function (isApplied) {\n        var quoteId = quote.getQuoteId(),\n            url = urlManager.getCancelCouponUrl(quoteId),\n            message = $t('Your coupon was successfully removed.');\n\n        messageContainer.clear();\n        fullScreenLoader.startLoader();\n\n        return storage.delete(\n            url,\n            false\n        ).done(function () {\n            var deferred = $.Deferred();\n\n            totals.isLoading(true);\n            recollectShippingRates();\n            getPaymentInformationAction(deferred);\n            $.when(deferred).done(function () {\n                isApplied(false);\n                totals.isLoading(false);\n                fullScreenLoader.stopLoader();\n                //Allowing to tap into coupon-cancel process.\n                callSuccessCallbacks();\n            });\n            messageContainer.addSuccessMessage({\n                'message': message\n            });\n        }).fail(function (response) {\n            totals.isLoading(false);\n            fullScreenLoader.stopLoader();\n            errorProcessor.process(response, messageContainer);\n        });\n    };\n\n    /**\n     * Callback for when the cancel-coupon process is finished.\n     *\n     * @param {Function} callback\n     */\n    action.registerSuccessCallback = function (callback) {\n        successCallbacks.push(callback);\n    };\n\n    return action;\n});\n","Magento_SalesRule/js/action/select-payment-method-mixin.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'mage/utils/wrapper',\n    'Magento_Checkout/js/model/quote',\n    'Magento_SalesRule/js/model/payment/discount-messages',\n    'Magento_Checkout/js/action/set-payment-information-extended',\n    'Magento_Checkout/js/action/get-totals',\n    'Magento_SalesRule/js/model/coupon'\n], function ($, wrapper, quote, messageContainer, setPaymentInformationExtended, getTotalsAction, coupon) {\n    'use strict';\n\n    return function (selectPaymentMethodAction) {\n\n        return wrapper.wrap(selectPaymentMethodAction, function (originalSelectPaymentMethodAction, paymentMethod) {\n\n            originalSelectPaymentMethodAction(paymentMethod);\n\n            if (paymentMethod === null) {\n                return;\n            }\n\n            $.when(\n                setPaymentInformationExtended(\n                    messageContainer,\n                    {\n                        method: paymentMethod.method\n                    },\n                    true\n                )\n            ).done(\n                function () {\n                    var deferred = $.Deferred(),\n\n                        /**\n                         * Update coupon form.\n                         */\n                        updateCouponCallback = function () {\n                            if (quote.totals() && !quote.totals()['coupon_code']) {\n                                coupon.setCouponCode('');\n                                coupon.setIsApplied(false);\n                            }\n                        };\n\n                    getTotalsAction([], deferred);\n                    $.when(deferred).done(updateCouponCallback);\n                }\n            );\n        });\n    };\n\n});\n","Magento_SalesRule/js/view/payment/discount-messages.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/view/messages',\n    '../../model/payment/discount-messages'\n], function (Component, messageContainer) {\n    'use strict';\n\n    return Component.extend({\n        /** @inheritdoc */\n        initialize: function (config) {\n            return this._super(config, messageContainer);\n        }\n    });\n});\n","Magento_SalesRule/js/view/payment/captcha.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n        'Magento_Captcha/js/view/checkout/defaultCaptcha',\n        'Magento_Captcha/js/model/captchaList',\n        'Magento_SalesRule/js/action/set-coupon-code',\n        'Magento_SalesRule/js/action/cancel-coupon',\n        'Magento_Checkout/js/model/quote',\n        'ko'\n    ],\n    function (defaultCaptcha, captchaList, setCouponCodeAction, cancelCouponAction, quote, ko) {\n        'use strict';\n\n        var totals = quote.getTotals(),\n            couponCode = ko.observable(null),\n            isApplied;\n\n        if (totals()) {\n            couponCode(totals()['coupon_code']);\n        }\n        //Captcha can only be required for adding a coupon so we need to know if one was added already.\n        isApplied = ko.observable(couponCode() != null);\n\n        return defaultCaptcha.extend({\n            /** @inheritdoc */\n            initialize: function () {\n                var self = this,\n                    currentCaptcha;\n\n                this._super();\n                //Getting coupon captcha model.\n                currentCaptcha = captchaList.getCaptchaByFormId(this.formId);\n\n                if (currentCaptcha != null) {\n                    if (!isApplied()) {\n                        //Show captcha if we don't have a coupon applied.\n                        currentCaptcha.setIsVisible(true);\n                    }\n                    this.setCurrentCaptcha(currentCaptcha);\n                    //Add captcha code to coupon-apply request.\n                    setCouponCodeAction.registerDataModifier(function (headers) {\n                        if (self.isRequired()) {\n                            headers['X-Captcha'] = self.captchaValue()();\n                        }\n                    });\n                    //Refresh captcha after failed request.\n                    setCouponCodeAction.registerFailCallback(function () {\n                        if (self.isRequired()) {\n                            self.refresh();\n                        }\n                    });\n                    //Hide captcha when a coupon has been applied.\n                    setCouponCodeAction.registerSuccessCallback(function () {\n                        self.setIsVisible(false);\n                    });\n                    //Show captcha again if it was canceled.\n                    cancelCouponAction.registerSuccessCallback(function () {\n                        if (self.isRequired()) {\n                            self.setIsVisible(true);\n                        }\n                    });\n                }\n            }\n        });\n    });\n","Magento_SalesRule/js/view/payment/discount.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'ko',\n    'uiComponent',\n    'Magento_Checkout/js/model/quote',\n    'Magento_SalesRule/js/action/set-coupon-code',\n    'Magento_SalesRule/js/action/cancel-coupon',\n    'Magento_SalesRule/js/model/coupon'\n], function ($, ko, Component, quote, setCouponCodeAction, cancelCouponAction, coupon) {\n    'use strict';\n\n    var totals = quote.getTotals(),\n        couponCode = coupon.getCouponCode(),\n        isApplied = coupon.getIsApplied();\n\n    if (totals()) {\n        couponCode(totals()['coupon_code']);\n    }\n    isApplied(couponCode() != null);\n\n    return Component.extend({\n        defaults: {\n            template: 'Magento_SalesRule/payment/discount'\n        },\n        couponCode: couponCode,\n\n        /**\n         * Applied flag\n         */\n        isApplied: isApplied,\n\n        /**\n         * Coupon code application procedure\n         */\n        apply: function () {\n            if (this.validate()) {\n                setCouponCodeAction(couponCode(), isApplied);\n            }\n        },\n\n        /**\n         * Cancel using coupon\n         */\n        cancel: function () {\n            if (this.validate()) {\n                couponCode('');\n                cancelCouponAction(isApplied);\n            }\n        },\n\n        /**\n         * Coupon form validation\n         *\n         * @returns {Boolean}\n         */\n        validate: function () {\n            var form = '#discount-form';\n\n            return $(form).validation() && $(form).validation('isValid');\n        }\n    });\n});\n","Magento_SalesRule/js/view/cart/totals/discount.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_SalesRule/js/view/summary/discount'\n], function (Component) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: 'Magento_SalesRule/cart/totals/discount'\n        },\n\n        /**\n         * @override\n         *\n         * @returns {Boolean}\n         */\n        isDisplayed: function () {\n            return this.getPureValue() != 0; //eslint-disable-line eqeqeq\n        }\n    });\n});\n","Magento_SalesRule/js/view/summary/discount.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Checkout/js/view/summary/abstract-total',\n    'Magento_Checkout/js/model/quote'\n], function (Component, quote) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: 'Magento_SalesRule/summary/discount'\n        },\n        totals: quote.getTotals(),\n\n        /**\n         * @return {*|Boolean}\n         */\n        isDisplayed: function () {\n            return this.isFullMode() && this.getPureValue() != 0; //eslint-disable-line eqeqeq\n        },\n\n        /**\n         * @return {*}\n         */\n        getCouponCode: function () {\n            if (!this.totals()) {\n                return null;\n            }\n\n            return this.totals()['coupon_code'];\n        },\n\n        /**\n         * @return {*}\n         */\n        getCouponLabel: function () {\n            if (!this.totals()) {\n                return null;\n            }\n\n            return this.totals()['coupon_label'];\n        },\n\n        /**\n         * Get discount title\n         *\n         * @returns {null|String}\n         */\n        getTitle: function () {\n            var discountSegments;\n\n            if (!this.totals()) {\n                return null;\n            }\n\n            discountSegments = this.totals()['total_segments'].filter(function (segment) {\n                return segment.code.indexOf('discount') !== -1;\n            });\n\n            return discountSegments.length ? discountSegments[0].title : null;\n        },\n\n        /**\n         * @return {Number}\n         */\n        getPureValue: function () {\n            var price = 0;\n\n            if (this.totals() && this.totals()['discount_amount']) {\n                price = parseFloat(this.totals()['discount_amount']);\n            }\n\n            return price;\n        },\n\n        /**\n         * @return {*|String}\n         */\n        getValue: function () {\n            return this.getFormattedPrice(this.getPureValue());\n        }\n    });\n});\n","Magento_Ui/js/block-loader.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'ko',\n    'jquery',\n    'Magento_Ui/js/lib/knockout/template/loader',\n    'mage/template'\n], function (ko, $, templateLoader, template) {\n    'use strict';\n\n    var blockLoaderTemplatePath = 'ui/block-loader',\n        blockContentLoadingClass = '_block-content-loading',\n        blockLoader,\n        blockLoaderClass,\n        blockLoaderElement = $.Deferred(),\n        loaderImageHref = $.Deferred();\n\n    templateLoader.loadTemplate(blockLoaderTemplatePath).done(function (blockLoaderTemplate) {\n        loaderImageHref.done(function (loaderHref) {\n            blockLoader = template(blockLoaderTemplate.trim(), {\n                loaderImageHref: loaderHref\n            });\n            blockLoader = $(blockLoader);\n            blockLoaderClass = '.' + blockLoader.attr('class');\n            blockLoaderElement.resolve();\n        });\n    });\n\n    /**\n     * Helper function to check if blockContentLoading class should be applied.\n     * @param {Object} element\n     * @returns {Boolean}\n     */\n    function isLoadingClassRequired(element) {\n        var position = element.css('position');\n\n        if (position === 'absolute' || position === 'fixed') {\n            return false;\n        }\n\n        return true;\n    }\n\n    /**\n     * Add loader to block.\n     * @param {Object} element\n     */\n    function addBlockLoader(element) {\n        element.find(':focus').trigger('blur');\n        element.find('input:disabled, select:disabled').addClass('_disabled');\n        element.find('input, select').prop('disabled', true);\n\n        if (isLoadingClassRequired(element)) {\n            element.addClass(blockContentLoadingClass);\n        }\n        element.append(blockLoader.clone());\n    }\n\n    /**\n     * Remove loader from block.\n     * @param {Object} element\n     */\n    function removeBlockLoader(element) {\n        if (!element.has(blockLoaderClass).length) {\n            return;\n        }\n        element.find(blockLoaderClass).remove();\n        element.find('input:not(\"._disabled\"), select:not(\"._disabled\")').prop('disabled', false);\n        element.find('input:disabled, select:disabled').removeClass('_disabled');\n        element.removeClass(blockContentLoadingClass);\n    }\n\n    return function (loaderHref) {\n        loaderImageHref.resolve(loaderHref);\n        ko.bindingHandlers.blockLoader = {\n            /**\n             * Process loader for block\n             * @param {String} element\n             * @param {Boolean} displayBlockLoader\n             */\n            update: function (element, displayBlockLoader) {\n                element = $(element);\n\n                if (ko.unwrap(displayBlockLoader())) {\n                    blockLoaderElement.done(addBlockLoader(element));\n                } else {\n                    blockLoaderElement.done(removeBlockLoader(element));\n                }\n            }\n        };\n    };\n});\n","Magento_Ui/js/model/messageList.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    './messages'\n], function (Messages) {\n    'use strict';\n\n    return new Messages();\n});\n","Magento_Ui/js/model/messages.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'ko',\n    'uiClass'\n], function (ko, Class) {\n    'use strict';\n\n    return Class.extend({\n        /** @inheritdoc */\n        initialize: function () {\n            this._super()\n                .initObservable();\n\n            return this;\n        },\n\n        /** @inheritdoc */\n        initObservable: function () {\n            this.errorMessages = ko.observableArray([]);\n            this.successMessages = ko.observableArray([]);\n\n            return this;\n        },\n\n        /**\n         * Add  message to list.\n         * @param {Object} messageObj\n         * @param {Object} type\n         * @returns {Boolean}\n         */\n        add: function (messageObj, type) {\n            var expr = /([%])\\w+/g,\n                message;\n\n            if (!messageObj.hasOwnProperty('parameters')) {\n                this.clear();\n                type.push(messageObj.message);\n\n                return true;\n            }\n            message = messageObj.message.replace(expr, function (varName) {\n                varName = varName.substr(1);\n\n                if (!isNaN(varName)) {\n                    varName--;\n                }\n\n                if (messageObj.parameters.hasOwnProperty(varName)) {\n                    return messageObj.parameters[varName];\n                }\n\n                return messageObj.parameters.shift();\n            });\n            this.clear();\n            type.push(message);\n\n            return true;\n        },\n\n        /**\n         * Add success message.\n         *\n         * @param {Object} message\n         * @return {*|Boolean}\n         */\n        addSuccessMessage: function (message) {\n            return this.add(message, this.successMessages);\n        },\n\n        /**\n         * Add error message.\n         *\n         * @param {Object} message\n         * @return {*|Boolean}\n         */\n        addErrorMessage: function (message) {\n            return this.add(message, this.errorMessages);\n        },\n\n        /**\n         * Get error messages.\n         *\n         * @return {Array}\n         */\n        getErrorMessages: function () {\n            return this.errorMessages;\n        },\n\n        /**\n         * Get success messages.\n         *\n         * @return {Array}\n         */\n        getSuccessMessages: function () {\n            return this.successMessages;\n        },\n\n        /**\n         * Checks if an instance has stored messages.\n         *\n         * @return {Boolean}\n         */\n        hasMessages: function () {\n            return this.errorMessages().length > 0 || this.successMessages().length > 0;\n        },\n\n        /**\n         * Removes stored messages.\n         */\n        clear: function () {\n            this.errorMessages.removeAll();\n            this.successMessages.removeAll();\n        }\n    });\n});\n","Magento_Ui/js/form/button-adapter.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'uiClass',\n    'jquery',\n    'underscore',\n    'uiRegistry'\n], function (Class, $, _, registry) {\n    'use strict';\n\n    return Class.extend({\n\n        /**\n         * Initialize actions and adapter.\n         *\n         * @param {Object} config\n         * @param {Element} elem\n         * @returns {Object}\n         */\n        initialize: function (config, elem) {\n            return this._super()\n                .initActions()\n                .initAdapter(elem);\n        },\n\n        /**\n         * Creates callback from declared actions.\n         *\n         * @returns {Object}\n         */\n        initActions: function () {\n            var callbacks = [];\n\n            _.each(this.actions, function (action) {\n                callbacks.push({\n                    action: registry.async(action.targetName),\n                    args: _.union([action.actionName], action.params)\n                });\n            });\n\n            /**\n             * Callback function.\n             */\n            this.callback = function () {\n                _.each(callbacks, function (callback) {\n                    callback.action.apply(callback.action, callback.args);\n                });\n            };\n\n            return this;\n        },\n\n        /**\n         * Attach callback handler on button.\n         *\n         * @param {Element} elem\n         */\n        initAdapter: function (elem) {\n            $(elem).on('click', this.callback);\n\n            return this;\n        }\n    });\n});\n","Magento_Ui/js/form/adapter.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'underscore',\n    'Magento_Ui/js/form/adapter/buttons'\n], function ($, _, buttons) {\n    'use strict';\n\n    var selectorPrefix = '',\n        eventPrefix;\n\n    /**\n     * Initialize listener.\n     *\n     * @param {Function} callback\n     * @param {String} action\n     */\n    function initListener(callback, action) {\n        var selector    = selectorPrefix ? selectorPrefix + ' ' + buttons[action] : buttons[action],\n            elem        = $(selector)[0];\n\n        if (!elem) {\n            return;\n        }\n\n        if (elem.onclick) {\n            elem.onclick = null;\n        }\n\n        $(elem).on('click' + eventPrefix, callback);\n    }\n\n    /**\n     * Destroy listener.\n     *\n     * @param {String} action\n     */\n    function destroyListener(action) {\n        var selector    = selectorPrefix ? selectorPrefix + ' ' + buttons[action] : buttons[action],\n            elem        = $(selector)[0];\n\n        if (!elem) {\n            return;\n        }\n\n        if (elem.onclick) {\n            elem.onclick = null;\n        }\n\n        $(elem).off('click' + eventPrefix);\n    }\n\n    return {\n\n        /**\n         * Attaches events handlers.\n         *\n         * @param {Object} handlers\n         * @param {String} selectorPref\n         * @param {String} eventPref\n         */\n        on: function (handlers, selectorPref, eventPref) {\n            selectorPrefix = selectorPrefix || selectorPref;\n            eventPrefix = eventPref;\n            _.each(handlers, initListener);\n            selectorPrefix = '';\n        },\n\n        /**\n         * Removes events handlers.\n         *\n         * @param {Object} handlers\n         * @param {String} eventPref\n         */\n        off: function (handlers, eventPref) {\n            eventPrefix = eventPref;\n            _.each(handlers, destroyListener);\n        }\n    };\n});\n","Magento_Ui/js/form/client.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'underscore',\n    'mageUtils',\n    'uiClass'\n], function ($, _, utils, Class) {\n    'use strict';\n\n    /**\n     * Before save validate request.\n     *\n     * @param {Object} data\n     * @param {String} url\n     * @param {String} selectorPrefix\n     * @param {String} messagesClass\n     * @returns {*}\n     */\n    function beforeSave(data, url, selectorPrefix, messagesClass) {\n        var save = $.Deferred();\n\n        data = utils.serialize(utils.filterFormData(data));\n        data['form_key'] = window.FORM_KEY;\n\n        if (!url || url === 'undefined') {\n            return save.resolve();\n        }\n\n        $('body').trigger('processStart');\n\n        $.ajax({\n            url: url,\n            data: data,\n\n            /**\n             * Success callback.\n             * @param {Object} resp\n             * @returns {Boolean}\n             */\n            success: function (resp) {\n                if (!resp.error) {\n                    save.resolve();\n\n                    return true;\n                }\n\n                $('body').notification('clear');\n                $.each(resp.messages || [resp.message] || [], function (key, message) {\n                    $('body').notification('add', {\n                        error: resp.error,\n                        message: message,\n\n                        /**\n                         * Insert method.\n                         *\n                         * @param {String} msg\n                         */\n                        insertMethod: function (msg) {\n                            var $wrapper = $('<div></div>').addClass(messagesClass).html(msg);\n\n                            $('.page-main-actions', selectorPrefix).after($wrapper);\n                            $('html, body').animate({\n                                scrollTop: $('.page-main-actions', selectorPrefix).offset().top\n                            });\n                        }\n                    });\n                });\n            },\n\n            /**\n             * Complete callback.\n             */\n            complete: function () {\n                $('body').trigger('processStop');\n            }\n        });\n\n        return save.promise();\n    }\n\n    return Class.extend({\n\n        /**\n         * Assembles data and submits it using 'utils.submit' method\n         */\n        save: function (data, options) {\n            var url = this.urls.beforeSave,\n                save = this._save.bind(this, data, options);\n\n            beforeSave(data, url, this.selectorPrefix, this.messagesClass).then(save);\n\n            return this;\n        },\n\n        /**\n         * Save data.\n         *\n         * @param {Object} data\n         * @param {Object} options\n         * @returns {Object}\n         * @private\n         */\n        _save: function (data, options) {\n            var url = this.urls.save;\n\n            $('body').trigger('processStart');\n            options = options || {};\n\n            if (!options.redirect) {\n                url += 'back/edit';\n            }\n\n            if (options.ajaxSave) {\n                utils.ajaxSubmit({\n                    url: url,\n                    data: data\n                }, options);\n\n                $('body').trigger('processStop');\n\n                return this;\n            }\n\n            utils.submit({\n                url: url,\n                data: data\n            }, options.attributes);\n\n            return this;\n        }\n    });\n});\n","Magento_Ui/js/form/provider.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'uiElement',\n    './client',\n    'mageUtils'\n], function (_, Element, Client, utils) {\n    'use strict';\n\n    return Element.extend({\n        defaults: {\n            clientConfig: {\n                urls: {\n                    save: '${ $.submit_url }',\n                    beforeSave: '${ $.validate_url }'\n                }\n            },\n            ignoreTmpls: {\n                data: true\n            }\n        },\n\n        /**\n         * Initializes provider component.\n         *\n         * @returns {Provider} Chainable.\n         */\n        initialize: function () {\n            this._super()\n                .initClient();\n\n            return this;\n        },\n\n        /**\n         * Initializes client component.\n         *\n         * @returns {Provider} Chainable.\n         */\n        initClient: function () {\n            this.client = new Client(this.clientConfig);\n\n            return this;\n        },\n\n        /**\n         * Saves currently available data.\n         *\n         * @param {Object} [options] - Addtitional request options.\n         * @returns {Provider} Chainable.\n         */\n        save: function (options) {\n            var data = this.get('data');\n\n            this.client.save(data, options);\n\n            return this;\n        },\n\n        /**\n         * Update data that stored in provider.\n         *\n         * @param {Boolean} isProvider\n         * @param {Object} newData\n         * @param {Object} oldData\n         *\n         * @returns {Provider}\n         */\n        updateConfig: function (isProvider, newData, oldData) {\n            if (isProvider === true) {\n                this.setData(oldData, newData, this);\n            }\n\n            return this;\n        },\n\n        /**\n         *  Set data to provider based on current data.\n         *\n         * @param {Object} oldData\n         * @param {Object} newData\n         * @param {Provider} current\n         * @param {String} parentPath\n         */\n        setData: function (oldData, newData, current, parentPath) {\n            _.each(newData, function (val, key) {\n                if (_.isObject(val) || _.isArray(val)) {\n                    this.setData(oldData[key], val, current[key], utils.fullPath(parentPath, key));\n                } else if (val != oldData[key] && oldData[key] == current[key]) {//eslint-disable-line eqeqeq\n                    this.set(utils.fullPath(parentPath, key), val);\n                }\n            }, this);\n        }\n    });\n});\n","Magento_Ui/js/form/form.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'Magento_Ui/js/lib/spinner',\n    'rjsResolver',\n    './adapter',\n    'uiCollection',\n    'mageUtils',\n    'jquery',\n    'Magento_Ui/js/core/app',\n    'mage/validation'\n], function (_, loader, resolver, adapter, Collection, utils, $, app) {\n    'use strict';\n\n    /**\n     * Format params\n     *\n     * @param {Object} params\n     * @returns {Array}\n     */\n    function prepareParams(params) {\n        var result = '?';\n\n        _.each(params, function (value, key) {\n            result += key + '=' + value + '&';\n        });\n\n        return result.slice(0, -1);\n    }\n\n    /**\n     * Collect form data.\n     *\n     * @param {Array} items\n     * @returns {Object}\n     */\n    function collectData(items) {\n        var result = {},\n            name;\n\n        items = Array.prototype.slice.call(items);\n\n        items.forEach(function (item) {\n            switch (item.type) {\n                case 'checkbox':\n                    result[item.name] = +!!item.checked;\n                    break;\n\n                case 'radio':\n                    if (item.checked) {\n                        result[item.name] = item.value;\n                    }\n                    break;\n\n                case 'select-multiple':\n                    name = item.name.substring(0, item.name.length - 2); //remove [] from the name ending\n                    result[name] = _.pluck(item.selectedOptions, 'value');\n                    break;\n\n                default:\n                    result[item.name] = item.value;\n            }\n        });\n\n        return result;\n    }\n\n    /**\n     * Makes ajax request\n     *\n     * @param {Object} params\n     * @param {Object} data\n     * @param {String} url\n     * @returns {*}\n     */\n    function makeRequest(params, data, url) {\n        var save = $.Deferred();\n\n        data = utils.serialize(data);\n        data['form_key'] = window.FORM_KEY;\n\n        if (!url) {\n            save.resolve();\n        }\n\n        $('body').trigger('processStart');\n\n        $.ajax({\n            url: url + prepareParams(params),\n            data: data,\n            dataType: 'json',\n\n            /**\n             * Success callback.\n             * @param {Object} resp\n             * @returns {Boolean}\n             */\n            success: function (resp) {\n                if (resp.ajaxExpired) {\n                    window.location.href = resp.ajaxRedirect;\n                }\n\n                if (!resp.error) {\n                    save.resolve(resp);\n\n                    return true;\n                }\n\n                $('body').notification('clear');\n                $.each(resp.messages, function (key, message) {\n                    $('body').notification('add', {\n                        error: resp.error,\n                        message: message,\n\n                        /**\n                         * Inserts message on page\n                         * @param {String} msg\n                         */\n                        insertMethod: function (msg) {\n                            $('.page-main-actions').after(msg);\n                        }\n                    });\n                });\n            },\n\n            /**\n             * Complete callback.\n             */\n            complete: function () {\n                $('body').trigger('processStop');\n            }\n        });\n\n        return save.promise();\n    }\n\n    /**\n     * Check if fields is valid.\n     *\n     * @param {Array}items\n     * @returns {Boolean}\n     */\n    function isValidFields(items) {\n        var result = true;\n\n        _.each(items, function (item) {\n            if (!$.validator.validateSingleElement(item)) {\n                result = false;\n            }\n        });\n\n        return result;\n    }\n\n    return Collection.extend({\n        defaults: {\n            additionalFields: [],\n            additionalInvalid: false,\n            selectorPrefix: '.page-content',\n            messagesClass: 'messages',\n            errorClass: '.admin__field._error',\n            eventPrefix: '.${ $.index }',\n            ajaxSave: false,\n            ajaxSaveType: 'default',\n            imports: {\n                reloadUrl: '${ $.provider}:reloadUrl'\n            },\n            listens: {\n                selectorPrefix: 'destroyAdapter initAdapter',\n                '${ $.name }.${ $.reloadItem }': 'params.set reload'\n            },\n            exports: {\n                selectorPrefix: '${ $.provider }:client.selectorPrefix',\n                messagesClass: '${ $.provider }:client.messagesClass'\n            }\n        },\n\n        /** @inheritdoc */\n        initialize: function () {\n            this._super()\n                .initAdapter();\n\n            resolver(this.hideLoader, this);\n\n            return this;\n        },\n\n        /** @inheritdoc */\n        initObservable: function () {\n            return this._super()\n                .observe([\n                    'responseData',\n                    'responseStatus'\n                ]);\n        },\n\n        /** @inheritdoc */\n        initConfig: function () {\n            this._super();\n\n            this.selector = '[data-form-part=' + this.namespace + ']';\n\n            return this;\n        },\n\n        /**\n         * Initialize adapter handlers.\n         *\n         * @returns {Object}\n         */\n        initAdapter: function () {\n            adapter.on({\n                'reset': this.reset.bind(this),\n                'save': this.save.bind(this, true, {}),\n                'saveAndContinue': this.save.bind(this, false, {})\n            }, this.selectorPrefix, this.eventPrefix);\n\n            return this;\n        },\n\n        /**\n         * Destroy adapter handlers.\n         *\n         * @returns {Object}\n         */\n        destroyAdapter: function () {\n            adapter.off([\n                'reset',\n                'save',\n                'saveAndContinue'\n            ], this.eventPrefix);\n\n            return this;\n        },\n\n        /**\n         * Hide loader.\n         *\n         * @returns {Object}\n         */\n        hideLoader: function () {\n            loader.get(this.name).hide();\n\n            return this;\n        },\n\n        /**\n         * Validate and save form.\n         *\n         * @param {String} redirect\n         * @param {Object} data\n         */\n        save: function (redirect, data) {\n            this.validate();\n\n            if (!this.additionalInvalid && !this.source.get('params.invalid')) {\n                this.setAdditionalData(data)\n                    .submit(redirect);\n            } else {\n                this.focusInvalid();\n            }\n        },\n\n        /**\n         * Tries to set focus on first invalid form field.\n         *\n         * @returns {Object}\n         */\n        focusInvalid: function () {\n            var invalidField = _.find(this.delegate('checkInvalid'));\n\n            if (!_.isUndefined(invalidField) && _.isFunction(invalidField.focused)) {\n                invalidField.focused(true);\n            }\n\n            return this;\n        },\n\n        /**\n         * Set additional data to source before form submit and after validation.\n         *\n         * @param {Object} data\n         * @returns {Object}\n         */\n        setAdditionalData: function (data) {\n            _.each(data, function (value, name) {\n                this.source.set('data.' + name, value);\n            }, this);\n\n            return this;\n        },\n\n        /**\n         * Submits form\n         *\n         * @param {String} redirect\n         */\n        submit: function (redirect) {\n            var additional = collectData(this.additionalFields),\n                source = this.source;\n\n            _.each(additional, function (value, name) {\n                source.set('data.' + name, value);\n            });\n\n            source.save({\n                redirect: redirect,\n                ajaxSave: this.ajaxSave,\n                ajaxSaveType: this.ajaxSaveType,\n                response: {\n                    data: this.responseData,\n                    status: this.responseStatus\n                },\n                attributes: {\n                    id: this.namespace\n                }\n            });\n        },\n\n        /**\n         * Validates each element and returns true, if all elements are valid.\n         */\n        validate: function () {\n            this.additionalFields = document.querySelectorAll(this.selector);\n            this.source.set('params.invalid', false);\n            this.source.trigger('data.validate');\n            this.set('additionalInvalid', !isValidFields(this.additionalFields));\n        },\n\n        /**\n         * Trigger reset form data.\n         */\n        reset: function () {\n            this.source.trigger('data.reset');\n            $('[data-bind*=datepicker]').val('');\n        },\n\n        /**\n         * Trigger overload form data.\n         */\n        overload: function () {\n            this.source.trigger('data.overload');\n        },\n\n        /**\n         * Updates data from server.\n         */\n        reload: function () {\n            makeRequest(this.params, this.data, this.reloadUrl).then(function (data) {\n                app(data, true);\n            });\n        }\n    });\n});\n","Magento_Ui/js/form/switcher.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'uiRegistry',\n    'uiClass'\n], function (_, registry, Class) {\n    'use strict';\n\n    return Class.extend({\n        defaults: {\n            rules: []\n        },\n\n        /**\n         * Initializes instance of a DataSwitcher.\n         *\n         * @returns {DataSwitcher} Chainable.\n         */\n        initialize: function () {\n            this._super()\n                .initRules();\n\n            return this;\n        },\n\n        /**\n         *\n         * @returns {DataSwitcher} Chainable.\n         */\n        initRules: function () {\n            this.rules.forEach(this.initRule, this);\n\n            return this;\n        },\n\n        /**\n         *\n         * @param {Object} rule - Rule definition.\n         * @returns {DataSwitcher} Chainable.\n         */\n        initRule: function (rule) {\n            var handler = this.onValueChange.bind(this, rule);\n\n            if (!rule.target) {\n                rule.target = this.target;\n            }\n\n            if (!rule.property) {\n                rule.property = this.property;\n            }\n\n            registry.get(rule.target, function (target) {\n                this.applyRule(rule, target.get(rule.property));\n                target.on(rule.property, handler);\n            }.bind(this));\n\n            return this;\n        },\n\n        /**\n         *\n         * @param {Object} rule - Rule definition.\n         * @returns {DataSwitcher} Chainable.\n         */\n        addRule: function (rule) {\n            this.rules.push(rule);\n            this.initRule(rule);\n\n            return this;\n        },\n\n        /**\n         *\n         * @param {Object} rule - Rule object.\n         * @param {*} value - Current value associated with a rule.\n         */\n        applyRule: function (rule, value) {\n            var actions = rule.actions;\n\n            //TODO Refactor this logic in scope of MAGETWO-48585\n            /* eslint-disable eqeqeq */\n            if (rule.value != value) {\n                return;\n            } else if (rule.strict) {\n                return;\n            }\n\n            /* eslint-enable eqeqeq */\n            actions.forEach(this.applyAction, this);\n        },\n\n        /**\n         *\n         * @param {Object} action - Action object.\n         */\n        applyAction: function (action) {\n            registry.get(action.target, function (target) {\n                var callback = target[action.callback];\n\n                callback.apply(target, action.params || []);\n            });\n        },\n\n        /**\n         *\n         * @param {Object} rule - Rules object.\n         * @param {*} value - Current value associated with a rule.\n         */\n        onValueChange: function (rule, value) {\n            this.applyRule(rule, value);\n        }\n    });\n});\n","Magento_Ui/js/form/adapter/buttons.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine(function () {\n    'use strict';\n\n    return {\n        'reset': '#reset',\n        'save': '#save',\n        'saveAndContinue': '#save_and_continue'\n    };\n});\n","Magento_Ui/js/form/components/multiline.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    './group'\n], function (Group) {\n    'use strict';\n\n    return Group.extend({\n        defaults: {\n            links: {\n                value: '${ $.provider }:${ $.dataScope }'\n            }\n        },\n\n        /**\n         * Initialize Multiline component.\n         *\n         * @returns {Object}\n         */\n        initialize: function () {\n            return this._super()\n                ._prepareValue();\n        },\n\n        /**\n         * {@inheritdoc}\n         */\n        initObservable: function () {\n            this._super()\n                .observe('value');\n\n            return this;\n        },\n\n        /**\n         * Prepare value for Multiline options.\n         *\n         * @returns {Object} Chainable.\n         * @private\n         */\n        _prepareValue: function () {\n            var value = this.value();\n\n            if (typeof value === 'string') {\n                this.value(value.split('\\n'));\n            }\n\n            return this;\n        }\n    });\n});\n","Magento_Ui/js/form/components/fieldset.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'Magento_Ui/js/lib/collapsible',\n    'underscore'\n], function (Collapsible, _) {\n    'use strict';\n\n    return Collapsible.extend({\n        defaults: {\n            template: 'ui/form/fieldset',\n            collapsible: false,\n            changed: false,\n            loading: false,\n            error: false,\n            opened: false,\n            level: 0,\n            visible: true,\n            initializeFieldsetDataByDefault: false, /* Data in some fieldsets should be initialized before open */\n            disabled: false,\n            listens: {\n                'opened': 'onVisibilityChange'\n            },\n            additionalClasses: {}\n        },\n\n        /**\n         * Extends instance with defaults. Invokes parent initialize method.\n         * Calls initListeners and pushParams methods.\n         */\n        initialize: function () {\n            _.bindAll(this, 'onChildrenUpdate', 'onChildrenError', 'onContentLoading');\n\n            return this._super()\n                ._setClasses();\n        },\n\n        /**\n         * Initializes components' configuration.\n         *\n         * @returns {Fieldset} Chainable.\n         */\n        initConfig: function () {\n            this._super();\n            this._wasOpened = this.opened || !this.collapsible;\n\n            return this;\n        },\n\n        /**\n         * Calls initObservable of parent class.\n         * Defines observable properties of instance.\n         *\n         * @returns {Object} Reference to instance\n         */\n        initObservable: function () {\n            this._super()\n                .observe('changed loading error visible');\n\n            return this;\n        },\n\n        /**\n         * Calls parent's initElement method.\n         * Assigns callbacks on various events of incoming element.\n         *\n         * @param  {Object} elem\n         * @return {Object} - reference to instance\n         */\n        initElement: function (elem) {\n            elem.initContainer(this);\n\n            elem.on({\n                'update': this.onChildrenUpdate,\n                'loading': this.onContentLoading,\n                'error': this.onChildrenError\n            });\n\n            if (this.disabled) {\n                try {\n                    elem.disabled(true);\n                }\n                catch (e) {\n\n                }\n            }\n\n            return this;\n        },\n\n        /**\n         * Is being invoked on children update.\n         * Sets changed property to one incoming.\n         *\n         * @param  {Boolean} hasChanged\n         */\n        onChildrenUpdate: function (hasChanged) {\n            if (!hasChanged) {\n                hasChanged = _.some(this.delegate('hasChanged'));\n            }\n\n            this.bubble('update', hasChanged);\n            this.changed(hasChanged);\n        },\n\n        /**\n         * Extends 'additionalClasses' object.\n         *\n         * @returns {Group} Chainable.\n         */\n        _setClasses: function () {\n            var additional = this.additionalClasses,\n                classes;\n\n            if (_.isString(additional)) {\n                additional = this.additionalClasses.split(' ');\n                classes = this.additionalClasses = {};\n\n                additional.forEach(function (name) {\n                    classes[name] = true;\n                }, this);\n            }\n\n            _.extend(this.additionalClasses, {\n                'admin__collapsible-block-wrapper': this.collapsible,\n                _show: this.opened,\n                _hide: !this.opened,\n                _disabled: this.disabled\n            });\n\n            return this;\n        },\n\n        /**\n         * Handler of the \"opened\" property changes.\n         *\n         * @param {Boolean} isOpened\n         */\n        onVisibilityChange: function (isOpened) {\n            if (!this._wasOpened) {\n                this._wasOpened = isOpened;\n            }\n        },\n\n        /**\n         * Is being invoked on children validation error.\n         * Sets error property to one incoming.\n         *\n         * @param {String} message - error message.\n         */\n        onChildrenError: function (message) {\n            var hasErrors = false;\n\n            if (!message) {\n                hasErrors = this._isChildrenHasErrors(hasErrors, this);\n            }\n\n            this.error(hasErrors || message);\n\n            if (hasErrors || message) {\n                this.open();\n            }\n        },\n\n        /**\n         * Returns errors of children if exist\n         *\n         * @param {Boolean} hasErrors\n         * @param {*} container\n         * @return {Boolean}\n         * @private\n         */\n        _isChildrenHasErrors: function (hasErrors, container) {\n            var self = this;\n\n            if (hasErrors === false && container.hasOwnProperty('elems')) {\n                hasErrors = container.elems.some('error');\n\n                if (hasErrors === false && container.hasOwnProperty('_elems')) {\n                    container._elems.forEach(function (child) {\n\n                        if (hasErrors === false) {\n                            hasErrors = self._isChildrenHasErrors(hasErrors, child);\n                        }\n                    });\n                }\n            }\n\n            return hasErrors;\n        },\n\n        /**\n         * Callback that sets loading property to true.\n         */\n        onContentLoading: function (isLoading) {\n            this.loading(isLoading);\n        }\n    });\n});\n","Magento_Ui/js/form/components/tab_group.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'Magento_Ui/js/lib/collapsible'\n], function (_, Collapsible) {\n    'use strict';\n\n    return Collapsible.extend({\n        defaults: {\n            listens: {\n                '${ $.provider }:data.validate': 'onValidate'\n            },\n            collapsible: false,\n            opened: true\n        },\n\n        /**\n         * Invokes initElement method of parent class, calls 'initActivation' method\n         * passing element to it.\n         * @param {Object} elem\n         * @returns {Object} - reference to instance\n         */\n        initElement: function (elem) {\n            this._super()\n                .initActivation(elem);\n\n            return this;\n        },\n\n        /**\n         * Activates element if one is first or if one has 'active' propert\n         * set to true.\n         *\n         * @param  {Object} elem\n         * @returns {Object} - reference to instance\n         */\n        initActivation: function (elem) {\n            var elems   = this.elems(),\n                isFirst = !elems.indexOf(elem);\n\n            if (isFirst || elem.active()) {\n                elem.activate();\n            }\n\n            return this;\n        },\n\n        /**\n         * Delegates 'validate' method on element, then reads 'invalid' property\n         * of params storage, and if defined, activates element, sets\n         * 'allValid' property of instance to false and sets invalid's\n         * 'focused' property to true.\n         *\n         * @param {Object} elem\n         */\n        validate: function (elem) {\n            var result  = elem.delegate('validate'),\n                invalid;\n\n            invalid = _.find(result, function (item) {\n                return typeof item !== 'undefined' && !item.valid;\n            });\n\n            if (invalid) {\n                elem.activate();\n                invalid.target.focused(true);\n            }\n\n            return invalid;\n        },\n\n        /**\n         * Sets 'allValid' property of instance to true, then calls 'validate' method\n         * of instance for each element.\n         */\n        onValidate: function () {\n            this.elems.sortBy(function (elem) {\n                return !elem.active();\n            }).some(this.validate, this);\n        }\n    });\n});\n","Magento_Ui/js/form/components/tab.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'uiCollection'\n], function (Collection) {\n    'use strict';\n\n    return Collection.extend({\n        defaults: {\n            uniqueProp:     'active',\n            active:         false,\n            wasActivated:   false\n        },\n\n        /**\n         * Extends instance with defaults. Invokes parent initialize method.\n         * Calls initListeners and pushParams methods.\n         */\n        initialize: function () {\n            this._super()\n                .setUnique();\n        },\n\n        /**\n         * Calls initObservable of parent class.\n         * Defines observable properties of instance.\n         * @return {Object} - reference to instance\n         */\n        initObservable: function () {\n            this._super()\n                .observe('active wasActivated');\n\n            return this;\n        },\n\n        /**\n         * Sets active property to true, then invokes pushParams method.\n         */\n        activate: function () {\n            this.active(true);\n            this.wasActivated(true);\n\n            this.setUnique();\n\n            return true;\n        }\n    });\n});\n","Magento_Ui/js/form/components/group.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'uiCollection'\n], function (_, Collection) {\n    'use strict';\n\n    return Collection.extend({\n        defaults: {\n            visible: true,\n            label: '',\n            showLabel: true,\n            required: false,\n            template: 'ui/group/group',\n            fieldTemplate: 'ui/form/field',\n            breakLine: true,\n            validateWholeGroup: false,\n            additionalClasses: {}\n        },\n\n        /**\n         * Extends this with defaults and config.\n         * Then calls initObservable, iniListenes and extractData methods.\n         */\n        initialize: function () {\n            this._super()\n                ._setClasses();\n\n            return this;\n        },\n\n        /**\n         * Calls initObservable of parent class.\n         * Defines observable properties of instance.\n         *\n         * @return {Object} - reference to instance\n         */\n        initObservable: function () {\n            this._super()\n                .observe('visible')\n                .observe({\n                    required: !!+this.required\n                });\n\n            return this;\n        },\n\n        /**\n         * Extends 'additionalClasses' object.\n         *\n         * @returns {Group} Chainable.\n         */\n        _setClasses: function () {\n            var additional = this.additionalClasses,\n                classes;\n\n            if (_.isString(additional)) {\n                additional = this.additionalClasses.split(' ');\n                classes = this.additionalClasses = {};\n\n                additional.forEach(function (name) {\n                    classes[name] = true;\n                }, this);\n            }\n\n            _.extend(this.additionalClasses, {\n                'admin__control-grouped': !this.breakLine,\n                'admin__control-fields': this.breakLine,\n                required:   this.required,\n                _error:     this.error,\n                _disabled:  this.disabled\n            });\n\n            return this;\n        },\n\n        /**\n         * Defines if group has only one element.\n         * @return {Boolean}\n         */\n        isSingle: function () {\n            return this.elems.getLength() === 1;\n        },\n\n        /**\n         * Defines if group has multiple elements.\n         * @return {Boolean}\n         */\n        isMultiple: function () {\n            return this.elems.getLength() > 1;\n        },\n\n        /**\n         * Returns an array of child components previews.\n         *\n         * @returns {Array}\n         */\n        getPreview: function () {\n            return this.elems.map('getPreview');\n        }\n    });\n});\n","Magento_Ui/js/form/components/area.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    './tab'\n], function (_, Tab) {\n    'use strict';\n\n    return Tab.extend({\n        defaults: {\n            uniqueNs:   'params.activeArea',\n            template:   'ui/area',\n            changed:    false,\n            loading:    false\n        },\n\n        /**\n         * Extends instance with defaults. Invokes parent initialize method.\n         * Calls initListeners and pushParams methods.\n         */\n        initialize: function () {\n            _.bindAll(this, 'onChildrenUpdate', 'onContentLoading');\n\n            return this._super();\n        },\n\n        /**\n         * Calls initObservable of parent class.\n         * Defines observable properties of instance.\n         * @return {Object} - reference to instance\n         */\n        initObservable: function () {\n            this._super()\n                .observe('changed loading');\n\n            return this;\n        },\n\n        /**\n         * Calls parent's initElement method.\n         * Assigns callbacks on various events of incoming element.\n         * @param  {Object} elem\n         * @return {Object} - reference to instance\n         */\n        initElement: function (elem) {\n            this._super();\n\n            elem.on({\n                'update':   this.onChildrenUpdate,\n                'loading':  this.onContentLoading\n            });\n\n            return this;\n        },\n\n        /**\n         * Is being invoked on children update.\n         * Sets changed property to one incoming.\n         * Invokes setActive method if settings\n         * contain makeVisible property set to true.\n         *\n         * @param  {Boolean} hasChanged\n         */\n        onChildrenUpdate: function (hasChanged) {\n            if (!hasChanged) {\n                hasChanged = _.some(this.delegate('hasChanged'));\n            }\n\n            this.changed(hasChanged);\n        },\n\n        /**\n         * Callback that sets loading property to true.\n         */\n        onContentLoading: function (isLoading) {\n            this.loading(isLoading);\n        }\n    });\n});\n","Magento_Ui/js/form/components/collection.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'mageUtils',\n    'uiRegistry',\n    'uiComponent',\n    'uiLayout',\n    'Magento_Ui/js/modal/confirm'\n], function (_, utils, registry, Component, layout, confirm) {\n    'use strict';\n\n    var childTemplate = {\n        parent: '${ $.$data.name }',\n        name: '${ $.$data.childIndex }',\n        dataScope: '${ $.name }',\n        nodeTemplate: '${ $.$data.name }.${ $.$data.itemTemplate }'\n    };\n\n    return Component.extend({\n        defaults: {\n            lastIndex: 0,\n            template: 'ui/form/components/collection'\n        },\n\n        /**\n         * Extends instance with default config, calls initialize of parent\n         * class, calls initChildren method.\n         */\n        initialize: function () {\n            this._super()\n                .initChildren();\n\n            return this;\n        },\n\n        /**\n         * Activates the incoming child and triggers the update event.\n         *\n         * @param {Object} elem - Incoming child.\n         */\n        initElement: function (elem) {\n            this._super();\n\n            elem.activate();\n\n            this.bubble('update');\n\n            return this;\n        },\n\n        /**\n         * Loops over corresponding data in data storage,\n         * creates child for each and pushes it's identifier to initialItems array.\n         *\n         * @returns {Collection} Chainable.\n         */\n        initChildren: function () {\n            var children = this.source.get(this.dataScope),\n                initial = this.initialItems = [];\n\n            _.each(children, function (item, index) {\n                initial.push(index);\n                this.addChild(index);\n            }, this);\n\n            return this;\n        },\n\n        /**\n         * Creates new item of collection, based on incoming 'index'.\n         * If not passed creates one with 'new_' prefix.\n         *\n         * @param {String|Object} [index] - Index of a child.\n         * @returns {Collection} Chainable.\n         */\n        addChild: function (index) {\n            this.childIndex = !_.isString(index) ?\n                'new_' + this.lastIndex++ :\n                index;\n\n            layout([utils.template(childTemplate, this)]);\n\n            return this;\n        },\n\n        /**\n         * Returns true if current set of items differ from initial one,\n         * or if some child has been changed.\n         *\n         * @returns {Boolean}\n         */\n        hasChanged: function () {\n            var initial = this.initialItems,\n                current = this.elems.pluck('index'),\n                changed = !utils.equalArrays(initial, current);\n\n            return changed || this.elems.some(function (elem) {\n                return _.some(elem.delegate('hasChanged'));\n            });\n        },\n\n        /**\n         * Initiates validation of its' children components.\n         *\n         * @returns {Array} An array of validation results.\n         */\n        validate: function () {\n            var elems;\n\n            this.allValid = true;\n\n            elems = this.elems.sortBy(function (elem) {\n                return !elem.active();\n            });\n\n            elems = elems.map(this._validate, this);\n\n            return _.flatten(elems);\n        },\n\n        /**\n         * Iterator function for components validation.\n         * Activates first invalid child component.\n         *\n         * @param {Object} elem - Element to run validation on.\n         * @returns {Array} An array of validation results.\n         */\n        _validate: function (elem) {\n            var result = elem.delegate('validate'),\n                invalid;\n\n            invalid = _.some(result, function (item) {\n                return !item.valid;\n            });\n\n            if (this.allValid && invalid) {\n                this.allValid = false;\n\n                elem.activate();\n            }\n\n            return result;\n        },\n\n        /**\n         * Creates function that removes element\n         * from collection using '_removeChild' method.\n         * @param  {Object} elem - Element that should be removed.\n         * @deprecated Not used anymore\n         */\n        removeAddress: function (elem) {\n            var self = this;\n\n            confirm({\n                content: this.removeMessage,\n                actions: {\n                    /** @inheritdoc */\n                    confirm: function () {\n                        self._removeAddress(elem);\n                    }\n                }\n            });\n        },\n\n        /**\n         * Removes element from both collection and data storage,\n         * activates first element if removed one was active,\n         * triggers 'update' event.\n         *\n         * @param {Object} elem - Element to remove.\n         */\n        _removeAddress: function (elem) {\n            var isActive = elem.active(),\n                first;\n\n            elem.destroy();\n\n            first = this.elems.first();\n\n            if (first && isActive) {\n                first.activate();\n            }\n\n            this.bubble('update');\n        }\n    });\n});\n","Magento_Ui/js/form/components/html.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'underscore',\n    'uiComponent'\n], function ($, _, Component) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            content:        '',\n            showSpinner:    false,\n            loading:        false,\n            visible:        true,\n            template:       'ui/content/content',\n            additionalClasses: {},\n            ignoreTmpls: {\n                content: true\n            }\n        },\n\n        /**\n         * Extends instance with default config, calls 'initialize' method of\n         *     parent, calls 'initAjaxConfig'\n         */\n        initialize: function () {\n            _.bindAll(this, 'onContainerToggle', 'onDataLoaded');\n\n            this._super()\n                ._setClasses()\n                .initAjaxConfig();\n\n            return this;\n        },\n\n        /**\n         * Calls 'initObservable' method of parent, initializes observable\n         * properties of instance\n         *\n         * @return {Object} - reference to instance\n         */\n        initObservable: function () {\n            this._super()\n                .observe('content loading visible');\n\n            return this;\n        },\n\n        /**\n         * Extends 'additionalClasses' object.\n         *\n         * @returns {Group} Chainable.\n         */\n        _setClasses: function () {\n            var additional = this.additionalClasses,\n                classes;\n\n            if (_.isString(additional)) {\n                additional = this.additionalClasses.split(' ');\n                classes = this.additionalClasses = {};\n\n                additional.forEach(function (name) {\n                    classes[name] = true;\n                }, this);\n            }\n\n            _.extend(this.additionalClasses, {\n                'admin__scope-old': !!additional\n            });\n\n            return this;\n        },\n\n        /** @inheritdoc */\n        initContainer: function (parent) {\n            this._super();\n\n            parent.on('active', this.onContainerToggle);\n\n            return this;\n        },\n\n        /**\n         * Initializes default ajax config on instance\n         *\n         * @return {Object} - reference to instance\n         */\n        initAjaxConfig: function () {\n            this.ajaxConfig = {\n                url: this.url,\n                data: {\n                    FORM_KEY: window.FORM_KEY\n                },\n                success:    this.onDataLoaded\n            };\n\n            return this;\n        },\n\n        /**\n         * Calls 'loadData' if both 'active' variable and 'shouldLoad'\n         * property are truthy\n         *\n         * @param  {Boolean} active\n         */\n        onContainerToggle: function (active) {\n            if (active && this.shouldLoad()) {\n                this.loadData();\n            }\n        },\n\n        /**\n         * Defines if instance has 'content' property defined.\n         *\n         * @return {Boolean} [description]\n         */\n        hasData: function () {\n            return !!this.content();\n        },\n\n        /**\n         * Defines if instance should load external data\n         *\n         * @return {Boolean}\n         */\n        shouldLoad: function () {\n            return this.url && !this.hasData() && !this.loading();\n        },\n\n        /**\n         * Sets loading property to true, makes ajax call\n         *\n         * @return {Object} - reference to instance\n         */\n        loadData: function () {\n            this.loading(true);\n\n            $.ajax(this.ajaxConfig);\n\n            return this;\n        },\n\n        /**\n         * Ajax's request success handler. Calls 'updateContent' passing 'data'\n         * to it, then sets 'loading' property to false.\n         *\n         * @param  {String} data\n         */\n        onDataLoaded: function (data) {\n            this.updateContent(data)\n                .loading(false);\n        },\n\n        /**\n         * Sets incoming data 'content' property's value\n         *\n         * @param  {String} content\n         * @return {Object} - reference to instance\n         */\n        updateContent: function (content) {\n            this.content(content);\n\n            return this;\n        },\n\n        /**\n         * Content getter\n         *\n         * @returns {String}\n         */\n        getContentUnsanitizedHtml: function () {\n            return this.content();\n        }\n    });\n});\n","Magento_Ui/js/form/components/insert-form.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    './insert',\n    'mageUtils',\n    'jquery'\n], function (Insert, utils, $) {\n    'use strict';\n\n    /**\n     * Get page actions element.\n     *\n     * @param {String} elem\n     * @param {String} actionsClass\n     * @returns {String}\n     */\n    function getPageActions(elem, actionsClass) {\n        var el = document.createElement('div');\n\n        el.innerHTML = elem;\n\n        return el.getElementsByClassName(actionsClass)[0];\n    }\n\n    /**\n     * Return element without page actions toolbar\n     *\n     * @param {String} elem\n     * @param {String} actionsClass\n     * @returns {String}\n     */\n    function removePageActions(elem, actionsClass) {\n        var el = document.createElement('div'),\n            actions;\n\n        el.innerHTML = elem;\n        actions = el.getElementsByClassName(actionsClass)[0];\n\n        if (actions) {\n            el.removeChild(actions);\n        }\n\n        return el.innerHTML;\n    }\n\n    return Insert.extend({\n        defaults: {\n            externalFormName: '${ $.ns }.${ $.ns }',\n            pageActionsClass: 'page-actions',\n            actionsContainerClass: 'page-main-actions',\n            exports: {\n                prefix: '${ $.externalFormName }:selectorPrefix'\n            },\n            imports: {\n                toolbarSection: '${ $.toolbarContainer }:toolbarSection',\n                prefix: '${ $.toolbarContainer }:rootSelector',\n                messagesClass: '${ $.externalFormName }:messagesClass'\n            },\n            settings: {\n                ajax: {\n                    ajaxSave: true,\n                    exports: {\n                        ajaxSave: '${ $.externalFormName }:ajaxSave'\n                    },\n                    imports: {\n                        responseStatus: '${ $.externalFormName }:responseStatus',\n                        responseData: '${ $.externalFormName }:responseData'\n                    }\n                }\n            },\n            modules: {\n                externalForm: '${ $.externalFormName }'\n            }\n        },\n\n        /** @inheritdoc */\n        initObservable: function () {\n            return this._super()\n                .observe('responseStatus');\n        },\n\n        /** @inheritdoc */\n        initConfig: function (config) {\n            var defaults = this.constructor.defaults;\n\n            utils.extend(defaults, defaults.settings[config.formSubmitType] || {});\n\n            return this._super();\n        },\n\n        /** @inheritdoc*/\n        destroyInserted: function () {\n            if (this.isRendered && this.externalForm()) {\n                this.externalForm().delegate('destroy');\n                this.removeActions();\n                this.responseStatus(undefined);\n                this.responseData = {};\n            }\n\n            return this._super();\n        },\n\n        /** @inheritdoc */\n        onRender: function (data) {\n            var actions = getPageActions(data, this.pageActionsClass);\n\n            if (!data.length) {\n                return this;\n            }\n            data = removePageActions(data, this.pageActionsClass);\n            this.renderActions(actions);\n            this._super(data);\n        },\n\n        /**\n         * Insert actions in toolbar.\n         *\n         * @param {String} actions\n         */\n        renderActions: function (actions) {\n            var $container = $('<div></div>');\n\n            $container\n                .addClass(this.actionsContainerClass)\n                .append(actions);\n\n            this.formHeader = $container;\n\n            $(this.toolbarSection).append(this.formHeader);\n        },\n\n        /**\n         * Remove actions toolbar.\n         */\n        removeActions: function () {\n            $(this.formHeader).siblings('.' + this.messagesClass).remove();\n            $(this.formHeader).remove();\n            this.formHeader = $();\n        },\n\n        /**\n         * Reset external form data.\n         */\n        resetForm: function () {\n            if (this.externalSource()) {\n                this.externalSource().trigger('data.reset');\n                this.responseStatus(undefined);\n            }\n        }\n    });\n});\n","Magento_Ui/js/form/components/button.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'uiElement',\n    'uiRegistry',\n    'uiLayout',\n    'mageUtils',\n    'underscore'\n], function (Element, registry, layout, utils, _) {\n    'use strict';\n\n    return Element.extend({\n        defaults: {\n            buttonClasses: {},\n            additionalClasses: {},\n            displayArea: 'outsideGroup',\n            displayAsLink: false,\n            elementTmpl: 'ui/form/element/button',\n            template: 'ui/form/components/button/simple',\n            visible: true,\n            disabled: false,\n            title: '',\n            buttonTextId: '',\n            ariLabelledby: ''\n        },\n\n        /**\n         * Initializes component.\n         *\n         * @returns {Object} Chainable.\n         */\n        initialize: function () {\n            return this._super()\n                ._setClasses()\n                ._setButtonClasses();\n        },\n\n        /** @inheritdoc */\n        initObservable: function () {\n            return this._super()\n                .observe([\n                    'visible',\n                    'disabled',\n                    'title',\n                    'childError'\n                ]);\n        },\n\n        /**\n         * Performs configured actions\n         */\n        action: function () {\n            this.actions.forEach(this.applyAction, this);\n        },\n\n        /**\n         * Apply action on target component,\n         * but previously create this component from template if it is not existed\n         *\n         * @param {Object} action - action configuration\n         */\n        applyAction: function (action) {\n            var targetName = action.targetName,\n                params = utils.copy(action.params) || [],\n                actionName = action.actionName,\n                target;\n\n            if (!registry.has(targetName)) {\n                this.getFromTemplate(targetName);\n            }\n            target = registry.async(targetName);\n\n            if (target && typeof target === 'function' && actionName) {\n                params.unshift(actionName);\n                target.apply(target, params);\n            }\n        },\n\n        /**\n         * Create target component from template\n         *\n         * @param {Object} targetName - name of component,\n         * that supposed to be a template and need to be initialized\n         */\n        getFromTemplate: function (targetName) {\n            var parentName = targetName.split('.'),\n                index = parentName.pop(),\n                child;\n\n            parentName = parentName.join('.');\n            child = utils.template({\n                parent: parentName,\n                name: index,\n                nodeTemplate: targetName\n            });\n            layout([child]);\n        },\n\n        /**\n         * Extends 'additionalClasses' object.\n         *\n         * @returns {Object} Chainable.\n         */\n        _setClasses: function () {\n            if (typeof this.additionalClasses === 'string') {\n                if (this.additionalClasses === '') {\n                    this.additionalClasses = {};\n\n                    return this;\n                }\n\n                this.additionalClasses = this.additionalClasses\n                    .trim()\n                    .split(' ')\n                    .reduce(function (classes, name) {\n                        classes[name] = true;\n\n                        return classes;\n                    }, {}\n                );\n            }\n\n            return this;\n        },\n\n        /**\n         * Extends 'buttonClasses' object.\n         *\n         * @returns {Object} Chainable.\n         */\n        _setButtonClasses: function () {\n            var additional = this.buttonClasses;\n\n            if (_.isString(additional)) {\n                this.buttonClasses = {};\n\n                if (additional.trim().length) {\n                    additional = additional.trim().split(' ');\n\n                    additional.forEach(function (name) {\n                        if (name.length) {\n                            this.buttonClasses[name] = true;\n                        }\n                    }, this);\n                }\n            }\n\n            _.extend(this.buttonClasses, {\n                'action-basic': !this.displayAsLink,\n                'action-additional': this.displayAsLink\n            });\n\n            return this;\n        }\n    });\n});\n","Magento_Ui/js/form/components/collection/item.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'mageUtils',\n    '../tab'\n], function (_, utils, Tab) {\n    'use strict';\n\n    var previewConfig = {\n        separator: ' ',\n        prefix: ''\n    };\n\n    /**\n     * Parses incoming data and returns result merged with default preview config\n     *\n     * @param  {Object|String} data\n     * @return {Object}\n     */\n    function parsePreview(data) {\n        if (typeof data == 'string') {\n            data = {\n                items: data\n            };\n        }\n\n        data.items = utils.stringToArray(data.items);\n\n        return _.defaults(data, previewConfig);\n    }\n\n    return Tab.extend({\n        defaults: {\n            label: '',\n            uniqueNs: 'activeCollectionItem',\n            previewTpl: 'ui/form/components/collection/preview'\n        },\n\n        /**\n         * Extends instance with default config, calls initializes of parent class\n         */\n        initialize: function () {\n            _.bindAll(this, 'buildPreview', 'hasPreview');\n\n            return this._super();\n        },\n\n        /**\n         * Calls initProperties of parent class, initializes properties\n         * of instance.\n         *\n         * @return {Object} - reference to instance\n         */\n        initConfig: function () {\n            this._super();\n\n            this.displayed = [];\n\n            return this;\n        },\n\n        /**\n         * Calls initObservable of parent class, initializes observable\n         * properties of instance.\n         *\n         * @return {Object} - reference to instance\n         */\n        initObservable: function () {\n            this._super()\n                .observe({\n                    noPreview: true,\n                    indexed: {}\n                });\n\n            return this;\n        },\n\n        /**\n         * Is being called when child element has been initialized,\n         *     calls initElement of parent class, binds to element's update event,\n         *     calls insertToArea and insertToIndexed methods passing element to it\n         *\n         * @param  {Object} elem\n         */\n        initElement: function (elem) {\n            this._super()\n                .insertToIndexed(elem);\n\n            return this;\n        },\n\n        /**\n         * Adds element to observable indexed object of instance\n         *\n         * @param  {Object} elem\n         * @return {Object} - reference to instance\n         */\n        insertToIndexed: function (elem) {\n            var indexed = this.indexed();\n\n            indexed[elem.index] = elem;\n\n            this.indexed(indexed);\n\n            return this;\n        },\n\n        /**\n         * Destroys current instance along with all of its' children.\n         * Overrides base method to clear data when this method is called.\n         */\n        destroy: function () {\n            this._super();\n            this._clearData();\n        },\n\n        /**\n         * Clears all data associated with component.\n         * @private\n         *\n         * @returns {Item} Chainable.\n         */\n        _clearData: function () {\n            this.source.remove(this.dataScope);\n\n            return this;\n        },\n\n        /**\n         * Formats incoming previews array via parsePreview function.\n         *\n         * @param  {Array} previews\n         * @return {Array} - formatted previews\n         */\n        formatPreviews: function (previews) {\n            return previews.map(parsePreview);\n        },\n\n        /**\n         * Creates string view of previews\n         *\n         * @param  {Object} data\n         * @return {Strict} - formatted preview string\n         */\n        buildPreview: function (data) {\n            var preview = this.getPreview(data.items),\n                prefix = data.prefix;\n\n            return prefix + preview.join(data.separator);\n        },\n\n        /**\n         * Defines if instance has preview for incoming data\n         *\n         * @param  {Object}  data\n         * @return {Boolean}\n         */\n        hasPreview: function (data) {\n            return !!this.getPreview(data.items).length;\n        },\n\n        /**\n         * Creates an array of previews for elements specified in incoming\n         * items array, calls updatePreview afterwards.\n         *\n         * @param  {Array} items - An array of element's indexes.\n         * @returns {Array} An array of previews.\n         */\n        getPreview: function (items) {\n            var elems = this.indexed(),\n                displayed = this.displayed,\n                preview;\n\n            items = items.map(function (index) {\n                var elem = elems[index];\n\n                preview = elem && elem.visible() ? elem.getPreview() : '';\n\n                preview = Array.isArray(preview) ?\n                    _.compact(preview).join(', ') :\n                    preview;\n\n                utils.toggle(displayed, index, !!preview);\n\n                return preview;\n            });\n\n            this.noPreview(!displayed.length);\n\n            return _.compact(items);\n        }\n    });\n});\n","Magento_Ui/js/form/element/text.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'uiElement',\n    'mageUtils'\n], function (Element, utils) {\n    'use strict';\n\n    return Element.extend({\n        defaults: {\n            visible: true,\n            label: '',\n            error: '',\n            uid: utils.uniqueid(),\n            disabled: false,\n            links: {\n                value: '${ $.provider }:${ $.dataScope }'\n            }\n        },\n\n        /**\n         * Has service\n         *\n         * @returns {Boolean} false.\n         */\n        hasService: function () {\n            return false;\n        },\n\n        /**\n         * Has addons\n         *\n         * @returns {Boolean} false.\n         */\n        hasAddons: function () {\n            return false;\n        },\n\n        /**\n         * Calls 'initObservable' of parent\n         *\n         * @returns {Object} Chainable.\n         */\n        initObservable: function () {\n            this._super()\n                .observe('disabled visible value');\n\n            return this;\n        }\n    });\n});\n","Magento_Ui/js/form/element/region.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'uiRegistry',\n    './select',\n    'Magento_Checkout/js/model/default-post-code-resolver'\n], function (_, registry, Select, defaultPostCodeResolver) {\n    'use strict';\n\n    return Select.extend({\n        defaults: {\n            skipValidation: false,\n            imports: {\n                countryOptions: '${ $.parentName }.country_id:indexedOptions',\n                update: '${ $.parentName }.country_id:value'\n            }\n        },\n\n        /**\n         * {@inheritdoc}\n         */\n        initialize: function () {\n            var option;\n\n            this._super();\n\n            option = _.find(this.countryOptions, function (row) {\n                return row['is_default'] === true;\n            });\n            this.hideRegion(option);\n\n            return this;\n        },\n\n        /**\n         * Method called every time country selector's value gets changed.\n         * Updates all validations and requirements for certain country.\n         * @param {String} value - Selected country ID.\n         */\n        update: function (value) {\n            var isRegionRequired,\n                option;\n\n            if (!value) {\n                return;\n            }\n\n            option = _.isObject(this.countryOptions) && this.countryOptions[value];\n\n            if (!option) {\n                return;\n            }\n\n            this.hideRegion(option);\n\n            defaultPostCodeResolver.setUseDefaultPostCode(!option['is_zipcode_optional']);\n\n            isRegionRequired = !this.skipValidation && !!option['is_region_required'];\n\n            if (!isRegionRequired) {\n                this.error(false);\n            }\n\n            this.required(isRegionRequired);\n            this.validation['required-entry'] = isRegionRequired;\n\n            registry.get(this.customName, function (input) {\n                input.required(isRegionRequired);\n                input.validation['required-entry'] = isRegionRequired;\n                input.validation['validate-not-number-first'] = !this.options().length;\n            }.bind(this));\n        },\n\n        /**\n         * Hide select and corresponding text input field if region must not be shown for selected country.\n         *\n         * @private\n         * @param {Object}option\n         */\n        hideRegion: function (option) {\n            if (!option || option['is_region_visible'] !== false) {\n                return;\n            }\n\n            this.setVisible(false);\n\n            if (this.customEntry) {\n                this.toggleInput(false);\n            }\n        }\n    });\n});\n","Magento_Ui/js/form/element/country.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'uiRegistry',\n    './select'\n], function (_, registry, Select) {\n    'use strict';\n\n    return Select.extend({\n        defaults: {\n            imports: {\n                update: '${ $.parentName }.website_id:value'\n            }\n        },\n\n        /**\n         * Filters 'initialOptions' property by 'field' and 'value' passed,\n         * calls 'setOptions' passing the result to it\n         *\n         * @param {*} value\n         * @param {String} field\n         */\n        filter: function (value, field) {\n            var result, defaultCountry, defaultValue;\n\n            if (!field) { //validate field, if we are on update\n                field = this.filterBy.field;\n            }\n\n            this._super(value, field);\n            result = _.filter(this.initialOptions, function (item) {\n\n                if (item[field]) {\n                    return ~item[field].indexOf(value);\n                }\n\n                return false;\n            });\n\n            this.setOptions(result);\n            this.reset();\n\n            if (!this.value()) {\n                defaultCountry = _.filter(result, function (item) {\n                    return item['is_default'] && _.contains(item['is_default'], value);\n                });\n\n                if (defaultCountry.length) {\n                    defaultValue = defaultCountry.shift();\n                    this.value(defaultValue.value);\n                }\n            }\n        }\n    });\n});\n\n","Magento_Ui/js/form/element/color-picker-palette.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/**\n * @api\n */\ndefine([], function () {\n    'use strict';\n\n    return [\n        [\n            'rgb(0,0,0)', 'rgb(52,52,52)', 'rgb(83,83,83)', 'rgb(135,135,135)', 'rgb(193,193,193)',\n            'rgb(234,234,234)', 'rgb(240,240,240)', 'rgb(255,255,255)'\n        ],\n        [\n            'rgb(252,0,9)', 'rgb(253,135,10)', 'rgb(255,255,13)', 'rgb(35,255,9)', 'rgb(33,255,255)',\n            'rgb(0,0,254)', 'rgb(132,0,254)', 'rgb(251,0,255)'\n        ],\n        [\n            'rgb(240,192,194)', 'rgb(251,223,194)', 'rgb(255,241,193)', 'rgb(210,230,201)',\n            'rgb(199,217,220)', 'rgb(197,219,240)', 'rgb(208,200,227)', 'rgb(229,199,212)'\n        ],\n        [\n            'rgb(228,133,135)', 'rgb(246,193,139)', 'rgb(254,225,136)', 'rgb(168,208,152)',\n            'rgb(146,184,190)', 'rgb(143,184,227)', 'rgb(165,148,204)', 'rgb(202,147,175)'\n        ],\n        [\n            'rgb(214,78,83)', 'rgb(243,163,88)', 'rgb(254,211,83)', 'rgb(130,187,106)',\n            'rgb(99,149,159)', 'rgb(93,150,211)', 'rgb(123,100,182)', 'rgb(180,100,142)'\n        ],\n        [\n            'rgb(190,0,5)', 'rgb(222,126,44)', 'rgb(236,183,39)', 'rgb(89,155,61)', 'rgb(55,110,123)',\n            'rgb(49,112,185)', 'rgb(83,55,150)', 'rgb(147,55,101)'\n        ],\n        [\n            'rgb(133,0,3)', 'rgb(163,74,10)', 'rgb(177,127,7)', 'rgb(45,101,23)', 'rgb(18,62,74)',\n            'rgb(14,62,129)', 'rgb(40,15,97)', 'rgb(95,16,55)'\n        ],\n        [\n            'rgb(81,0,1)', 'rgb(100,48,7)', 'rgb(107,78,3)', 'rgb(31,63,16)',\n            'rgb(13,39,46)', 'rgb(10,40,79)', 'rgb(24,12,59)', 'rgb(59,10,36)'\n        ]\n    ];\n});\n","Magento_Ui/js/form/element/website.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'uiRegistry',\n    './select'\n], function (_, registry, Select) {\n    'use strict';\n\n    return Select.extend({\n        defaults: {\n            customerId: null,\n            isGlobalScope: 0\n        },\n\n        /**\n         * Website component constructor.\n         * @returns {exports}\n         */\n        initialize: function () {\n            this._super();\n\n            return this;\n        }\n    });\n});\n","Magento_Ui/js/form/element/wysiwyg.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'wysiwygAdapter',\n    'Magento_Ui/js/lib/view/utils/async',\n    'underscore',\n    'ko',\n    './abstract',\n    'mage/adminhtml/events',\n    'Magento_Variable/variables'\n], function (wysiwyg, $, _, ko, Abstract, varienGlobalEvents) {\n    'use strict';\n\n    return Abstract.extend({\n        currentWysiwyg: undefined,\n        defaults: {\n            elementSelector: 'textarea',\n            suffixRegExpPattern: '${ $.wysiwygUniqueSuffix }',\n            $wysiwygEditorButton: '',\n            links: {\n                value: '${ $.provider }:${ $.dataScope }'\n            },\n            template: 'ui/form/field',\n            elementTmpl: 'ui/form/element/wysiwyg',\n            content:        '',\n            showSpinner:    false,\n            loading:        false,\n            listens: {\n                disabled: 'setDisabled'\n            }\n        },\n\n        /**\n         *\n         * @returns {} Chainable.\n         */\n        initialize: function () {\n            this._super()\n                .initNodeListener();\n\n            $.async({\n                component: this,\n                selector: 'button'\n            }, function (element) {\n                this.$wysiwygEditorButton = this.$wysiwygEditorButton ?\n                    this.$wysiwygEditorButton.add($(element)) : $(element);\n            }.bind(this));\n\n            // disable editor completely after initialization is field is disabled\n            varienGlobalEvents.attachEventHandler('wysiwygEditorInitialized', function () {\n                if (!_.isUndefined(window.tinyMceEditors)) {\n                    this.currentWysiwyg = window.tinyMceEditors[this.wysiwygId];\n                }\n\n                if (this.disabled()) {\n                    this.setDisabled(true);\n                }\n            }.bind(this));\n\n            return this;\n        },\n\n        /** @inheritdoc */\n        initConfig: function (config) {\n            var pattern = config.suffixRegExpPattern || this.constructor.defaults.suffixRegExpPattern;\n\n            pattern = pattern.replace(/\\$/g, '\\\\$&');\n            config.content = config.content.replace(new RegExp(pattern, 'g'), this.getUniqueSuffix(config));\n            this._super();\n\n            return this;\n        },\n\n        /**\n         * Build unique id based on name, underscore separated.\n         *\n         * @param {Object} config\n         */\n        getUniqueSuffix: function (config) {\n            return config.name.replace(/(\\.|-)/g, '_');\n        },\n\n        /**\n         * @inheritdoc\n         */\n        destroy: function () {\n            this._super();\n            wysiwyg.removeEvents(this.wysiwygId);\n        },\n\n        /**\n         *\n         * @returns {exports}\n         */\n        initObservable: function () {\n            this._super()\n                .observe(['value', 'content']);\n\n            return this;\n        },\n\n        /**\n         *\n         * @returns {} Chainable.\n         */\n        initNodeListener: function () {\n            $.async({\n                component: this,\n                selector: this.elementSelector\n            }, this.setElementNode.bind(this));\n\n            return this;\n        },\n\n        /**\n         *\n         * @param {HTMLElement} node\n         */\n        setElementNode: function (node) {\n            $(node).bindings({\n                value: this.value\n            });\n        },\n\n        /**\n         * Set disabled property to wysiwyg component\n         *\n         * @param {Boolean} disabled\n         */\n        setDisabled: function (disabled) {\n            if (this.$wysiwygEditorButton && disabled) {\n                this.$wysiwygEditorButton.prop('disabled', 'disabled');\n            } else if (this.$wysiwygEditorButton) {\n                this.$wysiwygEditorButton.prop('disabled', false);\n            }\n\n            /* eslint-disable no-undef */\n            if (!_.isUndefined(this.currentWysiwyg) && this.currentWysiwyg.activeEditor()) {\n                this.currentWysiwyg.setEnabledStatus(!disabled);\n                this.currentWysiwyg.getPluginButtons().prop('disabled', disabled);\n            }\n        },\n\n        /**\n         * Content getter\n         *\n         * @returns {String}\n         */\n        getContentUnsanitizedHtml: function () {\n            return this.content();\n        }\n    });\n});\n","Magento_Ui/js/form/element/textarea.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    './abstract'\n], function (Abstract) {\n    'use strict';\n\n    return Abstract.extend({\n        defaults: {\n            cols: 15,\n            rows: 2,\n            elementTmpl: 'ui/form/element/textarea'\n        }\n    });\n});\n","Magento_Ui/js/form/element/single-checkbox-use-config.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'Magento_Ui/js/form/element/single-checkbox'\n], function (Component) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            isUseDefault: false,\n            isUseConfig: false,\n            listens: {\n                'isUseConfig': 'toggleElement',\n                'isUseDefault': 'toggleElement'\n            }\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initObservable: function () {\n\n            return this\n                ._super()\n                .observe('isUseConfig');\n        },\n\n        /**\n         * Toggle element\n         */\n        toggleElement: function () {\n            this.disabled(this.isUseDefault() || this.isUseConfig());\n\n            if (this.source) {\n                this.source.set('data.use_default.' + this.index, Number(this.isUseDefault()));\n            }\n        }\n    });\n});\n","Magento_Ui/js/form/element/color-picker.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'mage/translate',\n    'Magento_Ui/js/form/element/abstract',\n    'Magento_Ui/js/form/element/color-picker-palette'\n], function ($t, Abstract, palette) {\n    'use strict';\n\n    return Abstract.extend({\n\n        defaults: {\n            colorPickerConfig: {\n                chooseText: $t('Apply'),\n                cancelText: $t('Cancel'),\n                maxSelectionSize: 8,\n                clickoutFiresChange: true,\n                allowEmpty: true,\n                localStorageKey: 'magento.spectrum',\n                palette: palette\n            }\n        },\n\n        /**\n         * Invokes initialize method of parent class,\n         * contains initialization logic\n         */\n        initialize: function () {\n            this._super();\n\n            this.colorPickerConfig.value = this.value;\n\n            return this;\n        }\n    });\n});\n","Magento_Ui/js/form/element/boolean.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    './abstract'\n], function (Abstract) {\n    'use strict';\n\n    return Abstract.extend({\n        defaults: {\n            checked: false,\n            links: {\n                checked: 'value'\n            }\n        },\n\n        /**\n         * @returns {*|void|Element}\n         */\n        initObservable: function () {\n            return this._super()\n                    .observe('checked');\n        },\n\n        /**\n         * Converts provided value to boolean.\n         *\n         * @returns {Boolean}\n         */\n        normalizeData: function () {\n            return !!+this._super();\n        },\n\n        /**\n         * Calls 'onUpdate' method of parent, if value is defined and instance's\n         *     'unique' property set to true, calls 'setUnique' method\n         *\n         * @return {Object} - reference to instance\n         */\n        onUpdate: function () {\n            if (this.hasUnique) {\n                this.setUnique();\n            }\n\n            return this._super();\n        }\n    });\n});\n","Magento_Ui/js/form/element/multiselect.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'mageUtils',\n    './select'\n], function (_, utils, Select) {\n    'use strict';\n\n    return Select.extend({\n        defaults: {\n            size: 5,\n            elementTmpl: 'ui/form/element/multiselect',\n            listens: {\n                value: 'setDifferedFromDefault setPrepareToSendData'\n            }\n        },\n\n        /**\n         * @inheritdoc\n         */\n        setInitialValue: function () {\n            this._super();\n\n            this.initialValue = utils.copy(this.initialValue);\n\n            return this;\n        },\n\n        /**\n         * @inheritdoc\n         */\n        normalizeData: function (value) {\n            if (utils.isEmpty(value)) {\n                value = [];\n            }\n\n            return _.isString(value) ? value.split(',') : value;\n        },\n\n        /**\n         * Sets the prepared data to dataSource\n         * by path, where key is component link to dataSource with\n         * suffix \"-prepared-for-send\"\n         *\n         * @param {Array} data - current component value\n         */\n        setPrepareToSendData: function (data) {\n            if (_.isUndefined(data) || !data.length) {\n                data = '';\n            }\n\n            this.source.set(this.dataScope + '-prepared-for-send', data);\n        },\n\n        /**\n         * @inheritdoc\n         */\n        getInitialValue: function () {\n            var values = [\n                    this.normalizeData(this.source.get(this.dataScope)),\n                    this.normalizeData(this.default)\n                ],\n                value;\n\n            values.some(function (v) {\n                return _.isArray(v) && (value = utils.copy(v)) && !_.isEmpty(v);\n            });\n\n            return value;\n        },\n\n        /**\n         * @inheritdoc\n         */\n        hasChanged: function () {\n            var value = this.value(),\n                initial = this.initialValue;\n\n            return !utils.equalArrays(value, initial);\n        },\n\n        /**\n         * @inheritdoc\n         */\n        reset: function () {\n            this.value(utils.copy(this.initialValue));\n            this.error(false);\n\n            return this;\n        },\n\n        /**\n         * @inheritdoc\n         */\n        clear: function () {\n            this.value([]);\n            this.error(false);\n\n            return this;\n        }\n    });\n});\n","Magento_Ui/js/form/element/url-input.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'uiLayout',\n    'mage/translate',\n    'Magento_Ui/js/form/element/abstract'\n], function (_, layout, $t, Abstract) {\n    'use strict';\n\n    return Abstract.extend({\n        defaults: {\n            linkedElement: {},\n            settingTemplate: 'ui/form/element/urlInput/setting',\n            typeSelectorTemplate: 'ui/form/element/urlInput/typeSelector',\n            options: [],\n            linkedElementInstances: {},\n            //checkbox\n            isDisplayAdditionalSettings: true,\n            settingValue: false,\n            settingLabel: $t('Open in new tab'),\n            tracks: {\n                linkedElement: true\n            },\n            baseLinkSetting: {\n                namePrefix: '${$.name}.',\n                dataScopePrefix: '${$.dataScope}.',\n                provider: '${$.provider}'\n            },\n            urlTypes: {},\n            listens: {\n                settingValue: 'checked',\n                disabled: 'hideLinkedElement',\n                linkType: 'createChildUrlInputComponent'\n            },\n            links: {\n                linkType: '${$.provider}:${$.dataScope}.type',\n                settingValue: '${$.provider}:${$.dataScope}.setting'\n            }\n        },\n\n        /** @inheritdoc */\n        initConfig: function (config) {\n            var processedLinkTypes = {},\n                baseLinkType = this.constructor.defaults.baseLinkSetting;\n\n            _.each(config.urlTypes, function (linkSettingsArray, linkName) {\n                //add link name by link type\n                linkSettingsArray.name = baseLinkType.namePrefix + linkName;\n                linkSettingsArray.dataScope = baseLinkType.dataScopePrefix + linkName;\n                linkSettingsArray.type = linkName;\n                linkSettingsArray.disabled = config.disabled;\n                linkSettingsArray.visible = config.visible;\n                processedLinkTypes[linkName] = {};\n                _.extend(processedLinkTypes[linkName], baseLinkType, linkSettingsArray);\n            });\n            _.extend(this.constructor.defaults.urlTypes, processedLinkTypes);\n\n            this._super();\n        },\n\n        /**\n         * Initializes observable properties of instance\n         *\n         * @returns {Abstract} Chainable.\n         */\n        initObservable: function () {\n            this._super()\n                .observe('componentTemplate options value linkType settingValue checked isDisplayAdditionalSettings')\n                .setOptions();\n\n            return this;\n        },\n\n        /**\n         * Set options to select based on link types configuration\n         *\n         * @return {Object}\n         */\n        setOptions: function () {\n            var result = [];\n\n            _.each(this.urlTypes, function (option, key) {\n                result.push({\n                    value: key,\n                    label: option.label,\n                    sortOrder: option.sortOrder || 0\n                });\n            });\n\n            //sort options by sortOrder\n            result.sort(function (a, b) {\n                return a.sortOrder > b.sortOrder ? 1 : -1;\n            });\n\n            this.options(result);\n\n            return this;\n        },\n\n        /** @inheritdoc */\n        setPreview: function (visible) {\n            this.linkedElement().visible(visible);\n        },\n\n        /**\n         * Initializes observable properties of instance\n         *\n         * @param {Boolean} disabled\n         */\n        hideLinkedElement: function (disabled) {\n            this.linkedElement().disabled(disabled);\n        },\n\n        /** @inheritdoc */\n        destroy: function () {\n            _.each(this.linkedElementInstances, function (value) {\n                value().destroy();\n            });\n            this._super();\n        },\n\n        /**\n         * Create child component by value\n         *\n         * @param {String} value\n         * @return void\n         */\n        createChildUrlInputComponent: function (value) {\n            var elementConfig;\n\n            if (!_.isEmpty(value) && _.isUndefined(this.linkedElementInstances[value])) {\n                elementConfig = this.urlTypes[value];\n                layout([elementConfig]);\n                this.linkedElementInstances[value] = this.requestModule(elementConfig.name);\n            }\n            this.linkedElement = this.linkedElementInstances[value];\n\n        },\n\n        /**\n         * Returns linked element to display related field in template\n         * @return String\n         */\n        getLinkedElementName: function () {\n            return this.linkedElement;\n        },\n\n        /**\n         * Add ability to choose check box by clicking on label\n         */\n        checkboxClick: function () {\n            if (!this.disabled()) {\n                this.settingValue(!this.settingValue());\n            }\n        }\n    });\n});\n","Magento_Ui/js/form/element/single-checkbox.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'Magento_Ui/js/form/element/abstract',\n    'underscore',\n    'mage/translate'\n], function (AbstractField, _, $t) {\n    'use strict';\n\n    return AbstractField.extend({\n        defaults: {\n            template: 'ui/form/components/single/field',\n            checked: false,\n            initialChecked: false,\n            multiple: false,\n            prefer: 'checkbox', // 'radio' | 'checkbox' | 'toggle'\n            valueMap: {},\n\n            templates: {\n                radio: 'ui/form/components/single/radio',\n                checkbox: 'ui/form/components/single/checkbox',\n                toggle: 'ui/form/components/single/switcher'\n            },\n\n            listens: {\n                'checked': 'onCheckedChanged',\n                'value': 'onExtendedValueChanged'\n            }\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initConfig: function (config) {\n            this._super();\n\n            if (!config.elementTmpl) {\n                if (!this.prefer && !this.multiple) {\n                    this.elementTmpl = this.templates.radio;\n                } else if (this.prefer === 'radio') {\n                    this.elementTmpl = this.templates.radio;\n                } else if (this.prefer === 'checkbox') {\n                    this.elementTmpl = this.templates.checkbox;\n                } else if (this.prefer === 'toggle') {\n                    this.elementTmpl = this.templates.toggle;\n                } else {\n                    this.elementTmpl = this.templates.checkbox;\n                }\n            }\n\n            if (this.prefer === 'toggle' && _.isEmpty(this.toggleLabels)) {\n                this.toggleLabels = {\n                    'on': $t('Yes'),\n                    'off': $t('No')\n                };\n            }\n\n            if (typeof this.default === 'undefined' || this.default === null) {\n                this.default = '';\n            }\n\n            if (typeof this.value === 'undefined' || this.value === null) {\n                this.value = _.isEmpty(this.valueMap) || this.default !== '' ? this.default : this.valueMap.false;\n                this.initialValue = this.value;\n            } else {\n                this.initialValue = this.value;\n            }\n\n            if (this.multiple && !_.isArray(this.value)) {\n                this.value = []; // needed for correct observable assignment\n            }\n\n            this.initialChecked = this.checked;\n\n            return this;\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initObservable: function () {\n            return this\n                ._super()\n                .observe('checked');\n        },\n\n        /**\n         * Get true/false key from valueMap by value.\n         *\n         * @param {*} value\n         * @returns {Boolean|undefined}\n         */\n        getReverseValueMap: function getReverseValueMap(value) {\n            var bool = false;\n\n            _.some(this.valueMap, function (iValue, iBool) {\n                if (iValue === value) {\n                    bool = iBool === 'true';\n\n                    return true;\n                }\n            });\n\n            return bool;\n        },\n\n        /**\n         * @inheritdoc\n         */\n        setInitialValue: function () {\n            if (_.isEmpty(this.valueMap)) {\n                this.on('value', this.onUpdate.bind(this));\n            } else {\n                this._super();\n                this.checked(this.getReverseValueMap(this.value()));\n            }\n\n            return this;\n        },\n\n        /**\n         * Handle dataScope changes for checkbox / radio button.\n         *\n         * @param {*} newExportedValue\n         */\n        onExtendedValueChanged: function (newExportedValue) {\n            var isMappedUsed = !_.isEmpty(this.valueMap),\n                oldChecked = this.checked.peek(),\n                oldValue = this.initialValue,\n                newChecked;\n\n            if (this.multiple) {\n                newChecked = newExportedValue.indexOf(oldValue) !== -1;\n            } else if (isMappedUsed) {\n                newChecked = this.getReverseValueMap(newExportedValue);\n            } else if (typeof newExportedValue === 'boolean') {\n                newChecked = newExportedValue;\n            } else {\n                newChecked = newExportedValue === oldValue;\n            }\n\n            if (newChecked !== oldChecked) {\n                this.checked(newChecked);\n            }\n        },\n\n        /**\n         * Handle checked state changes for checkbox / radio button.\n         *\n         * @param {Boolean} newChecked\n         */\n        onCheckedChanged: function (newChecked) {\n            var isMappedUsed = !_.isEmpty(this.valueMap),\n                oldValue = this.initialValue,\n                newValue;\n\n            if (isMappedUsed) {\n                newValue = this.valueMap[newChecked];\n            } else {\n                newValue = oldValue;\n            }\n\n            if (!this.multiple && newChecked) {\n                this.value(newValue);\n            } else if (!this.multiple && !newChecked) {\n                if (typeof newValue === 'boolean') {\n                    this.value(newChecked);\n                } else if (newValue === this.value.peek()) {\n                    this.value('');\n                }\n\n                if (isMappedUsed) {\n                    this.value(newValue);\n                }\n            } else if (this.multiple && newChecked && this.value.indexOf(newValue) === -1) {\n                this.value.push(newValue);\n            } else if (this.multiple && !newChecked && this.value.indexOf(newValue) !== -1) {\n                this.value.splice(this.value.indexOf(newValue), 1);\n            }\n        },\n\n        /**\n         * @inheritdoc\n         */\n        onUpdate: function () {\n            if (this.hasUnique) {\n                this.setUnique();\n            }\n\n            return this._super();\n        },\n\n        /**\n         * @inheritdoc\n         */\n        reset: function () {\n            if (this.multiple && this.initialChecked) {\n                this.value.push(this.initialValue);\n            } else if (this.multiple && !this.initialChecked) {\n                this.value.splice(this.value.indexOf(this.initialValue), 1);\n            } else {\n                this.value(this.initialValue);\n            }\n\n            this.error(false);\n\n            return this;\n        },\n\n        /**\n         * @inheritdoc\n         */\n        clear: function () {\n            if (this.multiple) {\n                this.value([]);\n            } else {\n                this.value('');\n            }\n\n            this.error(false);\n\n            return this;\n        }\n    });\n});\n","Magento_Ui/js/form/element/select.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'mageUtils',\n    'uiRegistry',\n    './abstract',\n    'uiLayout'\n], function (_, utils, registry, Abstract, layout) {\n    'use strict';\n\n    var inputNode = {\n        parent: '${ $.$data.parentName }',\n        component: 'Magento_Ui/js/form/element/abstract',\n        template: '${ $.$data.template }',\n        provider: '${ $.$data.provider }',\n        name: '${ $.$data.index }_input',\n        dataScope: '${ $.$data.customEntry }',\n        customScope: '${ $.$data.customScope }',\n        sortOrder: {\n            after: '${ $.$data.name }'\n        },\n        displayArea: 'body',\n        label: '${ $.$data.label }'\n    };\n\n    /**\n     * Parses incoming options, considers options with undefined value property\n     *     as caption\n     *\n     * @param  {Array} nodes\n     * @return {Object}\n     */\n    function parseOptions(nodes, captionValue) {\n        var caption,\n            value;\n\n        nodes = _.map(nodes, function (node) {\n            value = node.value;\n\n            if (value === null || value === captionValue) {\n                if (_.isUndefined(caption)) {\n                    caption = node.label;\n                }\n            } else {\n                return node;\n            }\n        });\n\n        return {\n            options: _.compact(nodes),\n            caption: _.isString(caption) ? caption : false\n        };\n    }\n\n    /**\n     * Recursively loops over data to find non-undefined, non-array value\n     *\n     * @param  {Array} data\n     * @return {*} - first non-undefined value in array\n     */\n    function findFirst(data) {\n        var value;\n\n        data.some(function (node) {\n            value = node.value;\n\n            if (Array.isArray(value)) {\n                value = findFirst(value);\n            }\n\n            return !_.isUndefined(value);\n        });\n\n        return value;\n    }\n\n    /**\n     * Recursively set to object item like value and item.value like key.\n     *\n     * @param {Array} data\n     * @param {Object} result\n     * @returns {Object}\n     */\n    function indexOptions(data, result) {\n        var value;\n\n        result = result || {};\n\n        data.forEach(function (item) {\n            value = item.value;\n\n            if (Array.isArray(value)) {\n                indexOptions(value, result);\n            } else {\n                result[value] = item;\n            }\n        });\n\n        return result;\n    }\n\n    return Abstract.extend({\n        defaults: {\n            customName: '${ $.parentName }.${ $.index }_input',\n            elementTmpl: 'ui/form/element/select',\n            caption: '',\n            options: []\n        },\n\n        /**\n         * Extends instance with defaults, extends config with formatted values\n         *     and options, and invokes initialize method of AbstractElement class.\n         *     If instance's 'customEntry' property is set to true, calls 'initInput'\n         */\n        initialize: function () {\n            this._super();\n\n            if (this.customEntry) {\n                registry.get(this.name, this.initInput.bind(this));\n            }\n\n            if (this.filterBy) {\n                this.initFilter();\n            }\n\n            return this;\n        },\n\n        /**\n         * Calls 'initObservable' of parent, initializes 'options' and 'initialOptions'\n         *     properties, calls 'setOptions' passing options to it\n         *\n         * @returns {Object} Chainable.\n         */\n        initObservable: function () {\n            this._super();\n\n            this.initialOptions = this.options;\n\n            this.observe('options caption')\n                .setOptions(this.options());\n\n            return this;\n        },\n\n        /**\n         * Set link for filter.\n         *\n         * @returns {Object} Chainable\n         */\n        initFilter: function () {\n            var filter = this.filterBy;\n\n            this.filter(this.default, filter.field);\n            this.setLinks({\n                filter: filter.target\n            }, 'imports');\n\n            return this;\n        },\n\n        /**\n         * Creates input from template, renders it via renderer.\n         *\n         * @returns {Object} Chainable.\n         */\n        initInput: function () {\n            layout([utils.template(inputNode, this)]);\n\n            return this;\n        },\n\n        /**\n         * Matches specified value with existing options\n         * or, if value is not specified, returns value of the first option.\n         *\n         * @returns {*}\n         */\n        normalizeData: function () {\n            var value = this._super(),\n                option;\n\n            if (value !== '') {\n                option = this.getOption(value);\n\n                return option && option.value;\n            }\n\n            if (!this.caption()) {\n                return findFirst(this.options);\n            }\n        },\n\n        /**\n         * Filters 'initialOptions' property by 'field' and 'value' passed,\n         * calls 'setOptions' passing the result to it\n         *\n         * @param {*} value\n         * @param {String} field\n         */\n        filter: function (value, field) {\n            var source = this.initialOptions,\n                result;\n\n            field = field || this.filterBy.field;\n\n            result = _.filter(source, function (item) {\n                return item[field] === value || item.value === '';\n            });\n\n            this.setOptions(result);\n        },\n\n        /**\n         * Change visibility for input.\n         *\n         * @param {Boolean} isVisible\n         */\n        toggleInput: function (isVisible) {\n            registry.get(this.customName, function (input) {\n                input.setVisible(isVisible);\n            });\n        },\n\n        /**\n         * Sets 'data' to 'options' observable array, if instance has\n         * 'customEntry' property set to true, calls 'setHidden' method\n         *  passing !options.length as a parameter\n         *\n         * @param {Array} data\n         * @returns {Object} Chainable\n         */\n        setOptions: function (data) {\n            var captionValue = this.captionValue || '',\n                result = parseOptions(data, captionValue),\n                isVisible;\n\n            this.indexedOptions = indexOptions(result.options);\n\n            this.options(result.options);\n\n            if (!this.caption()) {\n                this.caption(result.caption);\n            }\n\n            if (this.customEntry) {\n                isVisible = !!result.options.length;\n\n                this.setVisible(isVisible);\n                this.toggleInput(!isVisible);\n            }\n\n            return this;\n        },\n\n        /**\n         * Processes preview for option by it's value, and sets the result\n         * to 'preview' observable\n         *\n         * @returns {Object} Chainable.\n         */\n        getPreview: function () {\n            var value = this.value(),\n                option = this.indexedOptions[value],\n                preview = option ? option.label : '';\n\n            this.preview(preview);\n\n            return preview;\n        },\n\n        /**\n         * Get option from indexedOptions list.\n         *\n         * @param {Number} value\n         * @returns {Object} Chainable\n         */\n        getOption: function (value) {\n            return this.indexedOptions[value];\n        },\n\n        /**\n         * Select first available option\n         *\n         * @returns {Object} Chainable.\n         */\n        clear: function () {\n            var value = this.caption() ? '' : findFirst(this.options);\n\n            this.value(value);\n\n            return this;\n        },\n\n        /**\n         * Initializes observable properties of instance\n         *\n         * @returns {Object} Chainable.\n         */\n        setInitialValue: function () {\n            if (_.isUndefined(this.value()) && !this.default) {\n                this.clear();\n            }\n\n            return this._super();\n        }\n    });\n});\n","Magento_Ui/js/form/element/single-checkbox-toggle-notice.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'Magento_Ui/js/form/element/single-checkbox'\n], function (SingleCheckbox) {\n    'use strict';\n\n    return SingleCheckbox.extend({\n        defaults: {\n            notices: [],\n            tracks: {\n                notice: true\n            }\n        },\n\n        /**\n         * Choose notice on initialization\n         *\n         * @returns {*|void|Element}\n         */\n        initialize: function () {\n            this._super()\n                .chooseNotice();\n\n            return this;\n        },\n\n        /**\n         * Choose notice function\n         *\n         * @returns void\n         */\n        chooseNotice: function () {\n            var checkedNoticeNumber = Number(this.checked());\n\n            this.notice = this.notices[checkedNoticeNumber];\n        },\n\n        /**\n         * Choose notice on update\n         *\n         * @returns void\n         */\n        onUpdate: function () {\n            this._super();\n            this.chooseNotice();\n        }\n    });\n});\n","Magento_Ui/js/form/element/image-uploader.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global Base64 */\ndefine([\n    'jquery',\n    'underscore',\n    'mageUtils',\n    'Magento_Ui/js/modal/alert',\n    'Magento_Ui/js/lib/validation/validator',\n    'Magento_Ui/js/form/element/file-uploader',\n    'mage/adminhtml/browser'\n], function ($, _, utils, uiAlert, validator, Element, browser) {\n    'use strict';\n\n    return Element.extend({\n        /**\n         * {@inheritDoc}\n         */\n        initialize: function () {\n            this._super();\n\n            // Listen for file deletions from the media browser\n            $(window).on('fileDeleted.mediabrowser', this.onDeleteFile.bind(this));\n        },\n\n        /**\n         * Assign uid for media gallery\n         *\n         * @return {ImageUploader} Chainable.\n         */\n        initConfig: function () {\n            var mediaGalleryUid = utils.uniqueid();\n\n            this._super();\n\n            _.extend(this, {\n                mediaGalleryUid: mediaGalleryUid\n            });\n\n            return this;\n        },\n\n        /**\n         * Add file event callback triggered from media gallery\n         *\n         * @param {ImageUploader} imageUploader - UI Class\n         * @param {Event} e\n         */\n        addFileFromMediaGallery: function (imageUploader, e) {\n            var $buttonEl = $(e.target),\n                fileSize = $buttonEl.data('size'),\n                fileMimeType = $buttonEl.data('mime-type'),\n                filePathname = $buttonEl.val(),\n                fileBasename = filePathname.split('/').pop();\n\n            this.addFile({\n                type: fileMimeType,\n                name: fileBasename,\n                size: fileSize,\n                url: filePathname\n            });\n        },\n\n        /**\n         * Open the media browser dialog\n         *\n         * @param {ImageUploader} imageUploader - UI Class\n         * @param {Event} e\n         */\n        openMediaBrowserDialog: function (imageUploader, e) {\n            var $buttonEl = $(e.target),\n                openDialogUrl = this.mediaGallery.openDialogUrl +\n                'target_element_id/' + $buttonEl.attr('id') +\n                '/store/' + this.mediaGallery.storeId +\n                '/type/image/?isAjax=true';\n\n            if (this.mediaGallery.initialOpenSubpath) {\n                openDialogUrl += '&current_tree_path=' + Base64.idEncode(this.mediaGallery.initialOpenSubpath);\n            }\n\n            browser.openDialog(\n                openDialogUrl,\n                null,\n                null,\n                this.mediaGallery.openDialogTitle,\n                {\n                    targetElementId: $buttonEl.attr('id')\n                }\n            );\n        },\n\n        /**\n         * @param {jQuery.event} e\n         * @param {Object} data\n         * @returns {Object} Chainables\n         */\n        onDeleteFile: function (e, data) {\n            var fileId = this.getFileId(),\n                deletedFileIds = data.ids;\n\n            if (fileId && $.inArray(fileId, deletedFileIds) > -1) {\n                this.clear();\n            }\n\n            return this;\n        },\n\n        /**\n         * {@inheritDoc}\n         */\n        clear: function () {\n            this.value([]);\n\n            return this;\n        },\n\n        /**\n         * Gets the ID of the file used if set\n         *\n         * @return {String|Null} ID\n         */\n        getFileId: function () {\n            return this.hasData() ? this.value()[0].id : null;\n        },\n\n        /**\n         * Trigger native browser file upload UI via clicking on 'Upload' button\n         *\n         * @param {ImageUploader} imageUploader - UI Class\n         * @param {Event} e\n         */\n        triggerImageUpload: function (imageUploader, e) {\n            $(e.target).closest('.file-uploader').find('input[type=\"file\"]').trigger('click');\n        },\n\n        /**\n         * Get list of file extensions allowed in comma delimited format\n         *\n         * @return {String}\n         */\n        getAllowedFileExtensionsInCommaDelimitedFormat: function () {\n            var allowedExtensions = this.allowedExtensions.toUpperCase().split(' ');\n\n            // if jpg and jpeg in allowed extensions, remove jpeg from list\n            if (allowedExtensions.indexOf('JPG') !== -1 && allowedExtensions.indexOf('JPEG') !== -1) {\n                allowedExtensions.splice(allowedExtensions.indexOf('JPEG'), 1);\n            }\n\n            return allowedExtensions.join(', ');\n        }\n    });\n});\n","Magento_Ui/js/form/element/post-code.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    './abstract'\n], function (_, Abstract) {\n    'use strict';\n\n    return Abstract.extend({\n        defaults: {\n            imports: {\n                countryOptions: '${ $.parentName }.country_id:indexedOptions',\n                update: '${ $.parentName }.country_id:value'\n            }\n        },\n\n        /**\n         * Initializes observable properties of instance\n         *\n         * @returns {Abstract} Chainable.\n         */\n        initObservable: function () {\n            this._super();\n\n            /**\n             * equalityComparer function\n             *\n             * @returns boolean.\n             */\n            this.value.equalityComparer = function (oldValue, newValue) {\n                return !oldValue && !newValue || oldValue === newValue;\n            };\n\n            return this;\n        },\n\n        /**\n         * Method called every time country selector's value gets changed.\n         * Updates all validations and requirements for certain country.\n         * @param {String} value - Selected country ID.\n         */\n        update: function (value) {\n            var isZipCodeOptional,\n                option;\n\n            if (!value) {\n                return;\n            }\n\n            option = _.isObject(this.countryOptions) && this.countryOptions[value];\n\n            if (!option) {\n                return;\n            }\n\n            isZipCodeOptional = !!option['is_zipcode_optional'];\n\n            if (isZipCodeOptional) {\n                this.error(false);\n            }\n\n            this.validation['required-entry'] = !isZipCodeOptional;\n            this.required(!isZipCodeOptional);\n        }\n    });\n});\n","Magento_Ui/js/form/element/abstract.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'mageUtils',\n    'uiLayout',\n    'uiElement',\n    'Magento_Ui/js/lib/validation/validator'\n], function (_, utils, layout, Element, validator) {\n    'use strict';\n\n    return Element.extend({\n        defaults: {\n            visible: true,\n            preview: '',\n            focused: false,\n            required: false,\n            disabled: false,\n            valueChangedByUser: false,\n            elementTmpl: 'ui/form/element/input',\n            tooltipTpl: 'ui/form/element/helper/tooltip',\n            fallbackResetTpl: 'ui/form/element/helper/fallback-reset',\n            'input_type': 'input',\n            placeholder: false,\n            description: '',\n            labelVisible: true,\n            label: '',\n            error: '',\n            warn: '',\n            notice: '',\n            customScope: '',\n            default: '',\n            isDifferedFromDefault: false,\n            showFallbackReset: false,\n            additionalClasses: {},\n            isUseDefault: '',\n            serviceDisabled: false,\n            valueUpdate: false, // ko binding valueUpdate\n\n            switcherConfig: {\n                component: 'Magento_Ui/js/form/switcher',\n                name: '${ $.name }_switcher',\n                target: '${ $.name }',\n                property: 'value'\n            },\n            listens: {\n                visible: 'setPreview',\n                value: 'setDifferedFromDefault',\n                '${ $.provider }:data.reset': 'reset',\n                '${ $.provider }:data.overload': 'overload',\n                '${ $.provider }:${ $.customScope ? $.customScope + \".\" : \"\"}data.validate': 'validate',\n                'isUseDefault': 'toggleUseDefault'\n            },\n            ignoreTmpls: {\n                value: true\n            },\n\n            links: {\n                value: '${ $.provider }:${ $.dataScope }'\n            }\n        },\n\n        /**\n         * Invokes initialize method of parent class,\n         * contains initialization logic\n         */\n        initialize: function () {\n            _.bindAll(this, 'reset');\n\n            this._super()\n                .setInitialValue()\n                ._setClasses()\n                .initSwitcher();\n\n            return this;\n        },\n\n        /**\n         * Checks if component has error.\n         *\n         * @returns {Object}\n         */\n        checkInvalid: function () {\n            return this.error() && this.error().length ? this : null;\n        },\n\n        /**\n         * Initializes observable properties of instance\n         *\n         * @returns {Abstract} Chainable.\n         */\n        initObservable: function () {\n            var rules = this.validation = this.validation || {};\n\n            this._super();\n\n            this.observe('error disabled focused preview visible value warn notice isDifferedFromDefault')\n                .observe('isUseDefault serviceDisabled')\n                .observe({\n                    'required': !!rules['required-entry']\n                });\n\n            return this;\n        },\n\n        /**\n         * Initializes regular properties of instance.\n         *\n         * @returns {Abstract} Chainable.\n         */\n        initConfig: function () {\n            var uid = utils.uniqueid(),\n                name,\n                valueUpdate,\n                scope;\n\n            this._super();\n\n            scope = this.dataScope.split('.');\n            name = scope.length > 1 ? scope.slice(1) : scope;\n\n            valueUpdate = this.showFallbackReset ? 'afterkeydown' : this.valueUpdate;\n\n            _.extend(this, {\n                uid: uid,\n                noticeId: 'notice-' + uid,\n                errorId: 'error-' + uid,\n                tooltipId: 'tooltip-' + uid,\n                inputName: utils.serializeName(name.join('.')),\n                valueUpdate: valueUpdate\n            });\n\n            return this;\n        },\n\n        /**\n         * Initializes switcher element instance.\n         *\n         * @returns {Abstract} Chainable.\n         */\n        initSwitcher: function () {\n            if (this.switcherConfig.enabled) {\n                layout([this.switcherConfig]);\n            }\n\n            return this;\n        },\n\n        /**\n         * Sets initial value of the element and subscribes to it's changes.\n         *\n         * @returns {Abstract} Chainable.\n         */\n        setInitialValue: function () {\n            this.initialValue = this.getInitialValue();\n\n            if (this.value.peek() !== this.initialValue) {\n                this.value(this.initialValue);\n            }\n\n            this.on('value', this.onUpdate.bind(this));\n            this.isUseDefault(this.disabled());\n\n            return this;\n        },\n\n        /**\n         * Extends 'additionalClasses' object.\n         *\n         * @returns {Abstract} Chainable.\n         */\n        _setClasses: function () {\n            var additional = this.additionalClasses;\n\n            if (_.isString(additional)) {\n                this.additionalClasses = {};\n\n                if (additional.trim().length) {\n                    additional = additional.trim().split(' ');\n\n                    additional.forEach(function (name) {\n                        if (name.length) {\n                            this.additionalClasses[name] = true;\n                        }\n                    }, this);\n                }\n            }\n\n            _.extend(this.additionalClasses, {\n                _required: this.required,\n                _error: this.error,\n                _warn: this.warn,\n                _disabled: this.disabled\n            });\n\n            return this;\n        },\n\n        /**\n         * Gets initial value of element\n         *\n         * @returns {*} Elements' value.\n         */\n        getInitialValue: function () {\n            var values = [this.value(), this.default],\n                value;\n\n            values.some(function (v) {\n                if (v !== null && v !== undefined) {\n                    value = v;\n\n                    return true;\n                }\n\n                return false;\n            });\n\n            return this.normalizeData(value);\n        },\n\n        /**\n         * Sets 'value' as 'hidden' property's value, triggers 'toggle' event,\n         * sets instance's hidden identifier in params storage based on\n         * 'value'.\n         *\n         * @returns {Abstract} Chainable.\n         */\n        setVisible: function (isVisible) {\n            this.visible(isVisible);\n\n            return this;\n        },\n\n        /**\n         * Show element.\n         *\n         * @returns {Abstract} Chainable.\n         */\n        show: function () {\n            this.visible(true);\n\n            return this;\n        },\n\n        /**\n         * Hide element.\n         *\n         * @returns {Abstract} Chainable.\n         */\n        hide: function () {\n            this.visible(false);\n\n            return this;\n        },\n\n        /**\n         * Disable element.\n         *\n         * @returns {Abstract} Chainable.\n         */\n        disable: function () {\n            this.disabled(true);\n\n            return this;\n        },\n\n        /**\n         * Enable element.\n         *\n         * @returns {Abstract} Chainable.\n         */\n        enable: function () {\n            this.disabled(false);\n\n            return this;\n        },\n\n        /**\n         *\n         * @param {(String|Object)} rule\n         * @param {(Object|Boolean)} [options]\n         * @returns {Abstract} Chainable.\n         */\n        setValidation: function (rule, options) {\n            var rules = utils.copy(this.validation),\n                changed;\n\n            if (_.isObject(rule)) {\n                _.extend(this.validation, rule);\n            } else {\n                this.validation[rule] = options;\n            }\n\n            changed = !utils.compare(rules, this.validation).equal;\n\n            if (changed) {\n                this.required(!!rules['required-entry']);\n                this.validate();\n            }\n\n            return this;\n        },\n\n        /**\n         * Returns unwrapped preview observable.\n         *\n         * @returns {String} Value of the preview observable.\n         */\n        getPreview: function () {\n            return this.value();\n        },\n\n        /**\n         * Checks if element has addons\n         *\n         * @returns {Boolean}\n         */\n        hasAddons: function () {\n            return this.addbefore || this.addafter;\n        },\n\n        /**\n         * Checks if element has service setting\n         *\n         * @returns {Boolean}\n         */\n        hasService: function () {\n            return this.service && this.service.template;\n        },\n\n        /**\n         * Defines if value has changed.\n         *\n         * @returns {Boolean}\n         */\n        hasChanged: function () {\n            var notEqual = this.value() !== this.initialValue;\n\n            return !this.visible() ? false : notEqual;\n        },\n\n        /**\n         * Checks if 'value' is not empty.\n         *\n         * @returns {Boolean}\n         */\n        hasData: function () {\n            return !utils.isEmpty(this.value());\n        },\n\n        /**\n         * Sets value observable to initialValue property.\n         *\n         * @returns {Abstract} Chainable.\n         */\n        reset: function () {\n            this.value(this.initialValue);\n            this.error(false);\n\n            return this;\n        },\n\n        /**\n         * Sets current state as initial.\n         */\n        overload: function () {\n            this.setInitialValue();\n            this.bubble('update', this.hasChanged());\n        },\n\n        /**\n         * Clears 'value' property.\n         *\n         * @returns {Abstract} Chainable.\n         */\n        clear: function () {\n            this.value('');\n\n            return this;\n        },\n\n        /**\n         * Converts values like 'null' or 'undefined' to an empty string.\n         *\n         * @param {*} value - Value to be processed.\n         * @returns {*}\n         */\n        normalizeData: function (value) {\n            return utils.isEmpty(value) ? '' : value;\n        },\n\n        /**\n         * Validates itself by it's validation rules using validator object.\n         * If validation of a rule did not pass, writes it's message to\n         * 'error' observable property.\n         *\n         * @returns {Object} Validate information.\n         */\n        validate: function () {\n            var value = this.value(),\n                result = validator(this.validation, value, this.validationParams),\n                message = !this.disabled() && this.visible() ? result.message : '',\n                isValid = this.disabled() || !this.visible() || result.passed;\n\n            this.error(message);\n            this.error.valueHasMutated();\n            this.bubble('error', message);\n\n            //TODO: Implement proper result propagation for form\n            if (this.source && !isValid) {\n                this.source.set('params.invalid', true);\n            }\n\n            return {\n                valid: isValid,\n                target: this\n            };\n        },\n\n        /**\n         * Callback that fires when 'value' property is updated.\n         */\n        onUpdate: function () {\n            this.bubble('update', this.hasChanged());\n\n            this.validate();\n        },\n\n        /**\n         * Restore value to default\n         */\n        restoreToDefault: function () {\n            this.value(this.default);\n            this.focused(true);\n        },\n\n        /**\n         * Update whether value differs from default value\n         */\n        setDifferedFromDefault: function () {\n            var value = typeof this.value() != 'undefined' && this.value() !== null ? this.value() : '',\n                defaultValue = typeof this.default != 'undefined' && this.default !== null ? this.default : '';\n\n            this.isDifferedFromDefault(value !== defaultValue);\n        },\n\n        /**\n         * @param {Boolean} state\n         */\n        toggleUseDefault: function (state) {\n            this.disabled(state);\n\n            if (this.source && this.hasService()) {\n                this.source.set('data.use_default.' + this.index, Number(state));\n            }\n        },\n\n        /**\n         *  Callback when value is changed by user\n         */\n        userChanges: function () {\n            this.valueChangedByUser = true;\n        },\n\n        /**\n         * Returns correct id for 'aria-describedby' accessibility attribute\n         *\n         * @returns {Boolean|String}\n         */\n        getDescriptionId: function () {\n            var id = false;\n\n            if (this.error()) {\n                id = this.errorId;\n            } else if (this.notice()) {\n                id = this.noticeId;\n            }\n\n            return id;\n        }\n    });\n});\n","Magento_Ui/js/form/element/date.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'moment',\n    'mageUtils',\n    './abstract',\n    'moment-timezone-with-data'\n], function (moment, utils, Abstract) {\n    'use strict';\n\n    return Abstract.extend({\n        defaults: {\n            options: {},\n\n            storeTimeZone: 'UTC',\n\n            validationParams: {\n                dateFormat: '${ $.outputDateFormat }'\n            },\n\n            /**\n             * Format of date that comes from the\n             * server (ICU Date Format).\n             *\n             * Used only in date picker mode\n             * (this.options.showsTime == false).\n             *\n             * @type {String}\n             */\n            inputDateFormat: 'y-MM-dd',\n\n            /**\n             * Format of date that should be sent to the\n             * server (ICU Date Format).\n             *\n             * Used only in date picker mode\n             * (this.options.showsTime == false).\n             *\n             * @type {String}\n             */\n            outputDateFormat: 'MM/dd/y',\n\n            /**\n             * Date/time format that is used to display date in\n             * the input field.\n             *\n             * @type {String}\n             */\n            pickerDateTimeFormat: '',\n\n            pickerDefaultDateFormat: 'MM/dd/y', // ICU Date Format\n            pickerDefaultTimeFormat: 'h:mm a', // ICU Time Format\n\n            elementTmpl: 'ui/form/element/date',\n\n            /**\n             * Format needed by moment timezone for conversion\n             */\n            timezoneFormat: 'YYYY-MM-DD HH:mm',\n\n            listens: {\n                'value': 'onValueChange',\n                'shiftedValue': 'onShiftedValueChange'\n            },\n\n            /**\n             * Date/time value shifted to corresponding timezone\n             * according to this.storeTimeZone property. This value\n             * will be sent to the server.\n             *\n             * @type {String}\n             */\n            shiftedValue: ''\n        },\n\n        /**\n         * Initializes regular properties of instance.\n         *\n         * @returns {Object} Chainable.\n         */\n        initConfig: function () {\n            this._super();\n\n            if (!this.options.dateFormat) {\n                this.options.dateFormat = this.pickerDefaultDateFormat;\n            }\n\n            if (!this.options.timeFormat) {\n                this.options.timeFormat = this.pickerDefaultTimeFormat;\n            }\n\n            this.prepareDateTimeFormats();\n\n            return this;\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initObservable: function () {\n            return this._super().observe(['shiftedValue']);\n        },\n\n        /**\n         * @inheritdoc\n         */\n        getPreview: function () {\n            return this.shiftedValue();\n        },\n\n        /**\n         * Prepares and sets date/time value that will be displayed\n         * in the input field.\n         *\n         * @param {String} value\n         */\n        onValueChange: function (value) {\n            var shiftedValue;\n\n            if (value) {\n                if (this.options.showsTime && !this.options.timeOnly) {\n                    shiftedValue = moment.tz(value, 'UTC').tz(this.storeTimeZone);\n                } else {\n                    shiftedValue = moment(value, this.outputDateFormat, true);\n                }\n\n                if (!shiftedValue.isValid()) {\n                    shiftedValue = moment(value, this.inputDateFormat);\n                }\n                shiftedValue = shiftedValue.format(this.pickerDateTimeFormat);\n            } else {\n                shiftedValue = '';\n            }\n\n            if (shiftedValue !== this.shiftedValue()) {\n                this.shiftedValue(shiftedValue);\n            }\n        },\n\n        /**\n         * Prepares and sets date/time value that will be sent\n         * to the server.\n         *\n         * @param {String} shiftedValue\n         */\n        onShiftedValueChange: function (shiftedValue) {\n            var value,\n                formattedValue,\n                momentValue;\n\n            if (shiftedValue) {\n                momentValue = moment(shiftedValue, this.pickerDateTimeFormat);\n\n                if (this.options.showsTime && !this.options.timeOnly) {\n                    formattedValue = moment(momentValue).format(this.timezoneFormat);\n                    value = moment.tz(formattedValue, this.storeTimeZone).tz('UTC').toISOString();\n                } else {\n                    value = momentValue.format(this.outputDateFormat);\n                }\n            } else {\n                value = '';\n            }\n\n            if (value !== this.value()) {\n                this.value(value);\n            }\n        },\n\n        /**\n         * Prepares and converts all date/time formats to be compatible\n         * with moment.js library.\n         */\n        prepareDateTimeFormats: function () {\n            if (this.options.timeOnly) {\n                this.pickerDateTimeFormat = this.options.timeFormat;\n            } else {\n                this.pickerDateTimeFormat = this.options.dateFormat;\n\n                if (this.options.showsTime) {\n                    this.pickerDateTimeFormat += ' ' + this.options.timeFormat;\n                }\n            }\n\n            this.pickerDateTimeFormat = utils.convertToMomentFormat(this.pickerDateTimeFormat);\n\n            if (this.options.dateFormat) {\n                this.outputDateFormat = this.options.dateFormat;\n            }\n\n            this.inputDateFormat = this.options.timeOnly ?\n                utils.convertToMomentFormat(this.pickerDefaultTimeFormat) :\n                utils.convertToMomentFormat(this.inputDateFormat);\n            this.outputDateFormat = this.options.timeOnly ?\n                utils.convertToMomentFormat(this.options.timeFormat) :\n                utils.convertToMomentFormat(this.outputDateFormat);\n\n            this.validationParams.dateFormat = this.outputDateFormat;\n        }\n    });\n});\n","Magento_Ui/js/form/element/checkbox-set.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'mageUtils',\n    './abstract'\n], function (_, utils, Abstract) {\n    'use strict';\n\n    return Abstract.extend({\n        defaults: {\n            template: 'ui/form/element/checkbox-set',\n            multiple: false,\n            multipleScopeValue: null\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initConfig: function () {\n            this._super();\n\n            this.value = this.normalizeData(this.value);\n\n            return this;\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initLinks: function () {\n            var scope = this.source.get(this.dataScope);\n\n            this.multipleScopeValue = this.multiple && _.isArray(scope) ? utils.copy(scope) : undefined;\n\n            return this._super();\n        },\n\n        /**\n         * @inheritdoc\n         */\n        reset: function () {\n            this.value(utils.copy(this.initialValue));\n            this.error(false);\n\n            return this;\n        },\n\n        /**\n         * @inheritdoc\n         */\n        clear: function () {\n            var value = this.multiple ? [] : '';\n\n            this.value(value);\n            this.error(false);\n\n            return this;\n        },\n\n        /**\n         * @inheritdoc\n         */\n        normalizeData: function (value) {\n            if (!this.multiple) {\n                return this._super();\n            }\n\n            return _.isArray(value) ? utils.copy(value) : [];\n        },\n\n        /**\n         * @inheritdoc\n         */\n        setInitialValue: function () {\n            this._super();\n\n            this.initialValue = utils.copy(this.initialValue);\n\n            return this;\n        },\n\n        /**\n         * @inheritdoc\n         */\n        getInitialValue: function () {\n            var values = [this.multipleScopeValue, this.default, this.value.peek(), []],\n                value;\n\n            if (!this.multiple) {\n                return this._super();\n            }\n\n            values.some(function (v) {\n                return _.isArray(v) && (value = utils.copy(v));\n            });\n\n            return value;\n        },\n\n        /**\n         * Returns labels which matches current value.\n         *\n         * @returns {String|Array}\n         */\n        getPreview: function () {\n            var option;\n\n            if (!this.multiple) {\n                option = this.getOption(this.value());\n\n                return option ? option.label : '';\n            }\n\n            return this.value.map(function (value) {\n                return this.getOption(value).label;\n            }, this);\n        },\n\n        /**\n         * Returns option object associated with provided value.\n         *\n         * @param {String} value\n         * @returns {Object}\n         */\n        getOption: function (value) {\n            return _.findWhere(this.options, {\n                value: value\n            });\n        },\n\n        /**\n         * @inheritdoc\n         */\n        hasChanged: function () {\n            var value = this.value(),\n                initial = this.initialValue;\n\n            return this.multiple ?\n                !utils.equalArrays(value, initial) :\n                this._super();\n        }\n    });\n});\n","Magento_Ui/js/form/element/media.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'mageUtils',\n    './abstract'\n], function (utils, Abstract) {\n    'use strict';\n\n    return Abstract.extend({\n        defaults: {\n            links: {\n                value: ''\n            }\n        },\n\n        /**\n         * Initializes file component.\n         *\n         * @returns {Media} Chainable.\n         */\n        initialize: function () {\n            this._super()\n                .initFormId();\n\n            return this;\n        },\n\n        /**\n         * Defines form ID with which file input will be associated.\n         *\n         * @returns {Media} Chainable.\n         */\n        initFormId: function () {\n            var namespace;\n\n            if (this.formId) {\n                return this;\n            }\n\n            namespace   = this.name.split('.');\n            this.formId = namespace[0];\n\n            return this;\n        }\n    });\n});\n","Magento_Ui/js/modal/prompt.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'underscore',\n    'mage/template',\n    'text!ui/template/modal/modal-prompt-content.html',\n    'jquery-ui-modules/widget',\n    'Magento_Ui/js/modal/modal',\n    'mage/translate'\n], function ($, _, template, promptContentTmpl) {\n    'use strict';\n\n    $.widget('mage.prompt', $.mage.modal, {\n        options: {\n            modalClass: 'prompt',\n            promptContentTmpl: promptContentTmpl,\n            promptField: '[data-role=\"promptField\"]',\n            attributesForm: {},\n            attributesField: {},\n            value: '',\n            validation: false,\n            validationRules: [],\n            keyEventHandlers: {\n\n                /**\n                 * Enter key press handler,\n                 * submit result and close modal window\n                 * @param {Object} event - event\n                 */\n                enterKey: function (event) {\n                    if (this.options.isOpen && this.modal.find(document.activeElement).length ||\n                        this.options.isOpen && this.modal[0] === document.activeElement) {\n                        this.closeModal(true);\n                        event.preventDefault();\n                    }\n                },\n\n                /**\n                 * Tab key press handler,\n                 * set focus to elements\n                 */\n                tabKey: function () {\n                    if (document.activeElement === this.modal[0]) {\n                        this._setFocus('start');\n                    }\n                },\n\n                /**\n                 * Escape key press handler,\n                 * cancel and close modal window\n                 * @param {Object} event - event\n                 */\n                escapeKey: function (event) {\n                    if (this.options.isOpen && this.modal.find(document.activeElement).length ||\n                        this.options.isOpen && this.modal[0] === document.activeElement) {\n                        this.closeModal();\n                        event.preventDefault();\n                    }\n                }\n            },\n            actions: {\n\n                /**\n                 * Callback always - called on all actions.\n                 */\n                always: function () {},\n\n                /**\n                 * Callback confirm.\n                 */\n                confirm: function () {},\n\n                /**\n                 * Callback cancel.\n                 */\n                cancel: function () {}\n            },\n            buttons: [{\n                text: $.mage.__('Cancel'),\n                class: 'action-secondary action-dismiss',\n\n                /**\n                 * Click handler.\n                 */\n                click: function () {\n                    this.closeModal();\n                }\n            }, {\n                text: $.mage.__('OK'),\n                class: 'action-primary action-accept',\n\n                /**\n                 * Click handler.\n                 */\n                click: function () {\n                    this.closeModal(true);\n                }\n            }]\n        },\n\n        /**\n         * Create widget.\n         */\n        _create: function () {\n            this.options.focus = this.options.promptField;\n            this.options.validation = this.options.validation && this.options.validationRules.length;\n            this.options.outerClickHandler = this.options.outerClickHandler || _.bind(this.closeModal, this, false);\n            this._super();\n            this.modal.find(this.options.modalContent).append(this.getFormTemplate());\n            this.modal.find(this.options.modalCloseBtn).off().on('click',  _.bind(this.closeModal, this, false));\n\n            if (this.options.validation) {\n                this.setValidationClasses();\n            }\n\n            this.openModal();\n        },\n\n        /**\n         * Form template getter.\n         *\n         * @returns {Object} Form template.\n         */\n        getFormTemplate: function () {\n            var formTemplate,\n                formAttr = '',\n                inputAttr = '',\n                attributeName;\n\n            for (attributeName in this.options.attributesForm) {\n                if (this.options.attributesForm.hasOwnProperty(attributeName)) {\n                    formAttr = formAttr + ' ' + attributeName + '=\"' +\n                        this.options.attributesForm[attributeName] + '\"';\n                }\n            }\n\n            for (attributeName in this.options.attributesField) {\n                if (this.options.attributesField.hasOwnProperty(attributeName)) {\n                    inputAttr = inputAttr + ' ' + attributeName + '=\"' +\n                        this.options.attributesField[attributeName] + '\"';\n                }\n            }\n\n            formTemplate = $(template(this.options.promptContentTmpl, {\n                data: this.options,\n                formAttr: formAttr,\n                inputAttr: inputAttr\n            }));\n\n            return formTemplate;\n        },\n\n        /**\n         * Remove widget\n         */\n        _remove: function () {\n            this.modal.remove();\n        },\n\n        /**\n         * Validate prompt field\n         */\n        validate: function () {\n            return $.validator.validateSingleElement(this.options.promptField);\n        },\n\n        /**\n         * Add validation classes to prompt field\n         */\n        setValidationClasses: function () {\n            this.modal.find(this.options.promptField).attr('class', $.proxy(function (i, val) {\n                return val + ' ' + this.options.validationRules.join(' ');\n            }, this));\n        },\n\n        /**\n         * Open modal window\n         */\n        openModal: function () {\n            this._super();\n            this.modal.find(this.options.promptField).val(this.options.value);\n        },\n\n        /**\n         * Close modal window\n         */\n        closeModal: function (result) {\n            var value;\n\n            if (result) {\n                if (this.options.validation && !this.validate()) {\n                    return false;\n                }\n\n                value = this.modal.find(this.options.promptField).val();\n                this.options.actions.confirm.call(this, value);\n            } else {\n                this.options.actions.cancel.call(this, result);\n            }\n\n            this.options.actions.always();\n            this.element.on('promptclosed', _.bind(this._remove, this));\n\n            return this._super();\n        }\n    });\n\n    return function (config) {\n        return $('<div class=\"prompt-message\"></div>').html(config.content).prompt(config);\n    };\n});\n","Magento_Ui/js/modal/modal.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'underscore',\n    'mage/template',\n    'text!ui/template/modal/modal-popup.html',\n    'text!ui/template/modal/modal-slide.html',\n    'text!ui/template/modal/modal-custom.html',\n    'Magento_Ui/js/lib/key-codes',\n    'jquery-ui-modules/widget',\n    'jquery-ui-modules/core',\n    'mage/translate',\n    'jquery/z-index'\n], function ($, _, template, popupTpl, slideTpl, customTpl, keyCodes) {\n    'use strict';\n\n    /**\n     * Detect browser transition end event.\n     * @return {String|undefined} - transition event.\n     */\n    var transitionEvent = (function () {\n        var transition,\n            elementStyle = document.createElement('div').style,\n            transitions = {\n                'transition': 'transitionend',\n                'OTransition': 'oTransitionEnd',\n                'MozTransition': 'transitionend',\n                'WebkitTransition': 'webkitTransitionEnd'\n            };\n\n        for (transition in transitions) {\n            if (elementStyle[transition] !== undefined && transitions.hasOwnProperty(transition)) {\n                return transitions[transition];\n            }\n        }\n    })();\n\n    /**\n     * Modal Window Widget\n     */\n    $.widget('mage.modal', {\n        options: {\n            id: null,\n            type: 'popup',\n            title: '',\n            subTitle: '',\n            modalClass: '',\n            focus: '[data-role=\"closeBtn\"]',\n            autoOpen: false,\n            clickableOverlay: true,\n            popupTpl: popupTpl,\n            slideTpl: slideTpl,\n            customTpl: customTpl,\n            modalVisibleClass: '_show',\n            parentModalClass: '_has-modal',\n            innerScrollClass: '_inner-scroll',\n            responsive: false,\n            innerScroll: false,\n            modalTitle: '[data-role=\"title\"]',\n            modalSubTitle: '[data-role=\"subTitle\"]',\n            modalBlock: '[data-role=\"modal\"]',\n            modalCloseBtn: '[data-role=\"closeBtn\"]',\n            modalContent: '[data-role=\"content\"]',\n            modalAction: '[data-role=\"action\"]',\n            focusableScope: '[data-role=\"focusable-scope\"]',\n            focusableStart: '[data-role=\"focusable-start\"]',\n            focusableEnd: '[data-role=\"focusable-end\"]',\n            appendTo: 'body',\n            wrapperClass: 'modals-wrapper',\n            overlayClass: 'modals-overlay',\n            responsiveClass: 'modal-slide',\n            trigger: '',\n            modalLeftMargin: 45,\n            closeText: $.mage.__('Close'),\n            buttons: [{\n                text: $.mage.__('Ok'),\n                class: '',\n                attr: {},\n\n                /**\n                 * Default action on button click\n                 */\n                click: function (event) {\n                    this.closeModal(event);\n                }\n            }],\n            keyEventHandlers: {\n\n                /**\n                 * Tab key press handler,\n                 * set focus to elements\n                 */\n                tabKey: function () {\n                    if (document.activeElement === this.modal[0]) {\n                        this._setFocus('start');\n                    }\n                },\n\n                /**\n                 * Escape key press handler,\n                 * close modal window\n                 * @param {Object} event - event\n                 */\n                escapeKey: function (event) {\n                    if (this.options.isOpen && this.modal.find(document.activeElement).length ||\n                        this.options.isOpen && this.modal[0] === document.activeElement) {\n                        this.closeModal(event);\n                    }\n                }\n            }\n        },\n\n        /**\n         * Creates modal widget.\n         */\n        _create: function () {\n            _.bindAll(\n                this,\n                'keyEventSwitcher',\n                '_tabSwitcher',\n                'closeModal'\n            );\n\n            this.options.id = this.uuid;\n            this.options.transitionEvent = transitionEvent;\n            this._createWrapper();\n            this._renderModal();\n            this._createButtons();\n\n            if (this.options.trigger) {\n                $(document).on('click', this.options.trigger, _.bind(this.toggleModal, this));\n            }\n            this._on(this.modal.find(this.options.modalCloseBtn), {\n                'click': this.options.modalCloseBtnHandler ? this.options.modalCloseBtnHandler : this.closeModal\n            });\n            this._on(this.element, {\n                'openModal': this.openModal,\n                'closeModal': this.closeModal\n            });\n            this.options.autoOpen ? this.openModal() : false;\n        },\n\n        /**\n         * Returns element from modal node.\n         * @return {Object} - element.\n         */\n        _getElem: function (elem) {\n            return this.modal.find(elem);\n        },\n\n        /**\n         * Gets visible modal count.\n         * * @return {Number} - visible modal count.\n         */\n        _getVisibleCount: function () {\n            var modals = this.modalWrapper.find(this.options.modalBlock);\n\n            return modals.filter('.' + this.options.modalVisibleClass).length;\n        },\n\n        /**\n         * Gets count of visible modal by slide type.\n         * * @return {Number} - visible modal count.\n         */\n        _getVisibleSlideCount: function () {\n            var elems = this.modalWrapper.find('[data-type=\"slide\"]');\n\n            return elems.filter('.' + this.options.modalVisibleClass).length;\n        },\n\n        /**\n         * Listener key events.\n         * Call handler function if it exists\n         */\n        keyEventSwitcher: function (event) {\n            var key = keyCodes[event.keyCode];\n\n            if (this.options.keyEventHandlers.hasOwnProperty(key)) {\n                this.options.keyEventHandlers[key].apply(this, arguments);\n            }\n        },\n\n        /**\n         * Set title for modal.\n         *\n         * @param {String} title\n         */\n        setTitle: function (title) {\n            var $title = this.modal.find(this.options.modalTitle),\n                $subTitle = this.modal.find(this.options.modalSubTitle);\n\n            $title.text(title);\n            $title.append($subTitle);\n        },\n\n        /**\n         * Set sub title for modal.\n         *\n         * @param {String} subTitle\n         */\n        setSubTitle: function (subTitle) {\n            this.options.subTitle = subTitle;\n            this.modal.find(this.options.modalSubTitle).html(subTitle);\n        },\n\n        /**\n         * Toggle modal.\n         * * @return {Element} - current element.\n         */\n        toggleModal: function () {\n            if (this.options.isOpen === true) {\n                this.closeModal();\n            } else {\n                this.openModal();\n            }\n        },\n\n        /**\n         * Open modal.\n         * * @return {Element} - current element.\n         */\n        openModal: function () {\n            this.options.isOpen = true;\n            this.focussedElement = document.activeElement;\n            this._createOverlay();\n            this._setActive();\n            this._setKeyListener();\n            this.modal.one(this.options.transitionEvent, _.bind(this._setFocus, this, 'end', 'opened'));\n            this.modal.one(this.options.transitionEvent, _.bind(this._trigger, this, 'opened'));\n            this.modal.addClass(this.options.modalVisibleClass);\n\n            if (!this.options.transitionEvent) {\n                this._trigger('opened');\n            }\n\n            return this.element;\n        },\n\n        /**\n         * Set focus to element.\n         * @param {String} position - can be \"start\" and \"end\"\n         *      positions.\n         *      If position is \"end\" - sets focus to first\n         *      focusable element in modal window scope.\n         *      If position is \"start\" - sets focus to last\n         *      focusable element in modal window scope\n         *\n         *  @param {String} type - can be \"opened\" or false\n         *      If type is \"opened\" - looks to \"this.options.focus\"\n         *      property and sets focus\n         */\n        _setFocus: function (position, type) {\n            var focusableElements,\n                infelicity;\n\n            if (type === 'opened' && this.options.focus) {\n                this.modal.find($(this.options.focus)).trigger('focus');\n            } else if (type === 'opened' && !this.options.focus) {\n                this.modal.find(this.options.focusableScope).trigger('focus');\n            } else if (position === 'end') {\n                this.modal.find(this.options.modalCloseBtn).trigger('focus');\n            } else if (position === 'start') {\n                infelicity = 2; //Constant for find last focusable element\n                focusableElements = this.modal.find(':focusable');\n                focusableElements.eq(focusableElements.length - infelicity).trigger('focus');\n            }\n        },\n\n        /**\n         * Set events listener when modal is opened.\n         */\n        _setKeyListener: function () {\n            this.modal.find(this.options.focusableStart).on('focusin', this._tabSwitcher);\n            this.modal.find(this.options.focusableEnd).on('focusin', this._tabSwitcher);\n            this.modal.on('keydown', this.keyEventSwitcher);\n        },\n\n        /**\n         * Remove events listener when modal is closed.\n         */\n        _removeKeyListener: function () {\n            this.modal.find(this.options.focusableStart).off('focusin', this._tabSwitcher);\n            this.modal.find(this.options.focusableEnd).off('focusin', this._tabSwitcher);\n            this.modal.off('keydown', this.keyEventSwitcher);\n        },\n\n        /**\n         * Switcher for focus event.\n         * @param {Object} e - event\n         */\n        _tabSwitcher: function (e) {\n            var target = $(e.target);\n\n            if (target.is(this.options.focusableStart)) {\n                this._setFocus('start');\n            } else if (target.is(this.options.focusableEnd)) {\n                this._setFocus('end');\n            }\n        },\n\n        /**\n         * Close modal.\n         * * @return {Element} - current element.\n         */\n        closeModal: function () {\n            var that = this;\n\n            this._removeKeyListener();\n            this.options.isOpen = false;\n            this.modal.one(this.options.transitionEvent, function () {\n                that._close();\n            });\n            this.modal.removeClass(this.options.modalVisibleClass);\n\n            if (!this.options.transitionEvent) {\n                that._close();\n            }\n\n            return this.element;\n        },\n\n        /**\n         * Helper for closeModal function.\n         */\n        _close: function () {\n            var trigger = _.bind(this._trigger, this, 'closed', this.modal);\n\n            $(this.focussedElement).trigger('focus');\n            this._destroyOverlay();\n            this._unsetActive();\n            _.defer(trigger, this);\n        },\n\n        /**\n         * Set z-index and margin for modal and overlay.\n         */\n        _setActive: function () {\n            var zIndex = this.modal.zIndex(),\n                baseIndex = zIndex + this._getVisibleCount();\n\n            if (this.modal.data('active')) {\n                return;\n            }\n\n            this.modal.data('active', true);\n\n            this.overlay.zIndex(++baseIndex);\n            this.prevOverlayIndex = this.overlay.zIndex();\n            this.modal.zIndex(this.overlay.zIndex() + 1);\n\n            if (this._getVisibleSlideCount()) {\n                this.modal.css('marginLeft', this.options.modalLeftMargin * this._getVisibleSlideCount());\n            }\n        },\n\n        /**\n         * Unset styles for modal and set z-index for previous modal.\n         */\n        _unsetActive: function () {\n            this.modal.removeAttr('style');\n            this.modal.data('active', false);\n\n            if (this.overlay) {\n                this.overlay.zIndex(this.prevOverlayIndex - 1);\n            }\n        },\n\n        /**\n         * Creates wrapper to hold all modals.\n         */\n        _createWrapper: function () {\n            this.modalWrapper = $(this.options.appendTo).find('.' + this.options.wrapperClass);\n\n            if (!this.modalWrapper.length) {\n                this.modalWrapper = $('<div></div>')\n                    .addClass(this.options.wrapperClass)\n                    .appendTo(this.options.appendTo);\n            }\n        },\n\n        /**\n         * Compile template and append to wrapper.\n         */\n        _renderModal: function () {\n            $(template(\n                this.options[this.options.type + 'Tpl'],\n                {\n                    data: this.options\n                })).appendTo(this.modalWrapper);\n            this.modal = this.modalWrapper.find(this.options.modalBlock).last();\n            this.element.appendTo(this._getElem(this.options.modalContent));\n\n            if (this.element.is(':hidden')) {\n                this.element.show();\n            }\n        },\n\n        /**\n         * Creates buttons pane.\n         */\n        _createButtons: function () {\n            this.buttons = this._getElem(this.options.modalAction);\n            _.each(this.options.buttons, function (btn, key) {\n                var button = this.buttons[key];\n\n                if (btn.attr) {\n                    $(button).attr(btn.attr);\n                }\n\n                if (btn.class) {\n                    $(button).addClass(btn.class);\n                }\n\n                if (!btn.click) {\n                    btn.click = this.closeModal;\n                }\n                $(button).on('click', _.bind(btn.click, this));\n            }, this);\n        },\n\n        /**\n         * Creates overlay, append it to wrapper, set previous click event on overlay.\n         */\n        _createOverlay: function () {\n            var events,\n                outerClickHandler = this.options.outerClickHandler || this.closeModal;\n\n            this.overlay = $('.' + this.options.overlayClass);\n\n            if (!this.overlay.length) {\n                $(this.options.appendTo).addClass(this.options.parentModalClass);\n                this.overlay = $('<div></div>')\n                    .addClass(this.options.overlayClass)\n                    .appendTo(this.modalWrapper);\n            }\n            events = $._data(this.overlay.get(0), 'events');\n            events ? this.prevOverlayHandler = events.click[0].handler : false;\n            this.options.clickableOverlay ? this.overlay.off().on('click', outerClickHandler) : false;\n        },\n\n        /**\n         * Destroy overlay.\n         */\n        _destroyOverlay: function () {\n            if (this._getVisibleCount()) {\n                this.overlay.off().on('click', this.prevOverlayHandler);\n            } else {\n                $(this.options.appendTo).removeClass(this.options.parentModalClass);\n                this.overlay.remove();\n                this.overlay = null;\n            }\n        }\n    });\n\n    return $.mage.modal;\n});\n","Magento_Ui/js/modal/alert.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'underscore',\n    'jquery-ui-modules/widget',\n    'Magento_Ui/js/modal/confirm',\n    'mage/translate'\n], function ($, _) {\n    'use strict';\n\n    $.widget('mage.alert', $.mage.confirm, {\n        options: {\n            modalClass: 'confirm',\n            title: $.mage.__('Attention'),\n            actions: {\n\n                /**\n                 * Callback always - called on all actions.\n                 */\n                always: function () {}\n            },\n            buttons: [{\n                text: $.mage.__('OK'),\n                class: 'action-primary action-accept',\n\n                /**\n                 * Click handler.\n                 */\n                click: function () {\n                    this.closeModal(true);\n                }\n            }]\n        },\n\n        /**\n         * Close modal window.\n         */\n        closeModal: function () {\n            this.options.actions.always();\n            this.element.on('alertclosed', _.bind(this._remove, this));\n\n            return this._super();\n        }\n    });\n\n    return function (config) {\n        return $('<div></div>').html(config.content).alert(config);\n    };\n});\n","Magento_Ui/js/modal/confirm.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'underscore',\n    'mage/translate',\n    'jquery-ui-modules/widget',\n    'Magento_Ui/js/modal/modal'\n], function ($, _, $t) {\n    'use strict';\n\n    $.widget('mage.confirm', $.mage.modal, {\n        options: {\n            modalClass: 'confirm',\n            title: '',\n            focus: '.action-accept',\n            actions: {\n\n                /**\n                 * Callback always - called on all actions.\n                 */\n                always: function () {},\n\n                /**\n                 * Callback confirm.\n                 */\n                confirm: function () {},\n\n                /**\n                 * Callback cancel.\n                 */\n                cancel: function () {}\n            },\n            buttons: [{\n                text: $t('Cancel'),\n                class: 'action-secondary action-dismiss',\n\n                /**\n                 * Click handler.\n                 */\n                click: function (event) {\n                    this.closeModal(event);\n                }\n            }, {\n                text: $t('OK'),\n                class: 'action-primary action-accept',\n\n                /**\n                 * Click handler.\n                 */\n                click: function (event) {\n                    this.closeModal(event, true);\n                }\n            }]\n        },\n\n        /**\n         * Create widget.\n         */\n        _create: function () {\n            this._super();\n            this.modal.find(this.options.modalCloseBtn).off().on('click', _.bind(this.closeModal, this));\n            this.openModal();\n        },\n\n        /**\n         * Remove modal window.\n         */\n        _remove: function () {\n            this.modal.remove();\n        },\n\n        /**\n         * Open modal window.\n         */\n        openModal: function () {\n            return this._super();\n        },\n\n        /**\n         * Close modal window.\n         */\n        closeModal: function (event, result) {\n            result = result || false;\n\n            if (result) {\n                this.options.actions.confirm(event);\n            } else {\n                this.options.actions.cancel(event);\n            }\n            this.options.actions.always(event);\n            this.element.on('confirmclosed', _.bind(this._remove, this));\n\n            return this._super();\n        }\n    });\n\n    return function (config) {\n        return $('<div></div>').html(config.content).confirm(config);\n    };\n});\n","Magento_Ui/js/modal/modalToggle.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'Magento_Ui/js/modal/modal'\n], function ($) {\n    'use strict';\n\n    return function (config, el) {\n        var widget,\n            content;\n\n        if (config.contentSelector) {\n            content = $(config.contentSelector);\n        } else if (config.content) {\n            content = $('<div></div>').html(config.content);\n        } else {\n            content = $('<div></div>');\n        }\n\n        widget = content.modal(config);\n\n        $(el).on(config.toggleEvent, function () {\n            var state = widget.data('mage-modal').options.isOpen;\n\n            if (state) {\n                widget.modal('closeModal');\n            } else {\n                widget.modal('openModal');\n            }\n\n            return false;\n        });\n\n        return widget;\n    };\n});\n","Magento_Ui/js/modal/modal-component.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'Magento_Ui/js/lib/view/utils/async',\n    'uiCollection',\n    'uiRegistry',\n    'underscore',\n    './modal'\n], function ($, Collection, registry, _) {\n    'use strict';\n\n    return Collection.extend({\n        defaults: {\n            template: 'ui/modal/modal-component',\n            title: '',\n            subTitle: '',\n            options: {\n                modalClass: '',\n                title: '',\n                subTitle: '',\n                buttons: [],\n                keyEventHandlers: {}\n            },\n            valid: true,\n            links: {\n                title: 'options.title',\n                subTitle: 'options.subTitle'\n            },\n            listens: {\n                state: 'onState',\n                title: 'setTitle',\n                'options.subTitle': 'setSubTitle'\n            },\n            modalClass: 'modal-component',\n            onCancel: 'closeModal'\n        },\n\n        /**\n         * Initializes component.\n         *\n         * @returns {Object} Chainable.\n         */\n        initialize: function () {\n            this._super();\n            _.bindAll(this,\n                'initModal',\n                'openModal',\n                'closeModal',\n                'toggleModal',\n                'setPrevValues',\n                'validate');\n            this.initializeContent();\n\n            return this;\n        },\n\n        /**\n         * Initializes modal configuration\n         *\n         * @returns {Object} Chainable.\n         */\n        initConfig: function () {\n            return this._super()\n                .initSelector()\n                .initModalEvents();\n        },\n\n        /**\n         * Configure modal selector\n         *\n         * @returns {Object} Chainable.\n         */\n        initSelector: function () {\n            var modalClass = this.name.replace(/\\./g, '_');\n\n            this.contentSelector = '.' + this.modalClass;\n            this.options.modalClass = this.options.modalClass + ' ' + modalClass;\n            this.rootSelector = '.' + modalClass;\n\n            return this;\n        },\n\n        /**\n         * Configure modal keyboard handlers\n         * and outer click\n         *\n         * @returns {Object} Chainable.\n         */\n        initModalEvents: function () {\n            this.options.keyEventHandlers.escapeKey = this.options.outerClickHandler = this[this.onCancel].bind(this);\n\n            return this;\n        },\n\n        /**\n         * Initialize modal's content components\n         */\n        initializeContent: function () {\n            $.async({\n                component: this.name\n            }, this.initModal);\n        },\n\n        /**\n         * Init toolbar section so other components will be able to place something in it\n         */\n        initToolbarSection: function () {\n            this.set('toolbarSection', this.modal.data('mage-modal').modal.find('header').get(0));\n        },\n\n        /**\n         * Initializes observable properties.\n         *\n         * @returns {Object} Chainable.\n         */\n        initObservable: function () {\n            this._super();\n            this.observe(['state', 'focused']);\n\n            return this;\n        },\n\n        /**\n         * Wrap content in a modal of certain type\n         *\n         * @param {HTMLElement} element\n         * @returns {Object} Chainable.\n         */\n        initModal: function (element) {\n            if (!this.modal) {\n                this.overrideModalButtonCallback();\n                this.options.modalCloseBtnHandler = this[this.onCancel].bind(this);\n                this.modal = $(element).modal(this.options);\n                this.initToolbarSection();\n\n                if (this.waitCbk) {\n                    this.waitCbk();\n                    this.waitCbk = null;\n                }\n            }\n\n            return this;\n        },\n\n        /**\n         * Open modal\n         */\n        openModal: function () {\n            if (this.modal) {\n                this.state(true);\n            } else {\n                this.waitCbk = this.openModal;\n            }\n        },\n\n        /**\n         * Close modal\n         */\n        closeModal: function () {\n            if (this.modal) {\n                this.state(false);\n            } else {\n                this.waitCbk = this.closeModal;\n            }\n        },\n\n        /**\n         * Toggle modal\n         */\n        toggleModal: function () {\n            if (this.modal) {\n                this.state(!this.state());\n            } else {\n                this.waitCbk = this.toggleModal;\n            }\n        },\n\n        /**\n         * Sets title for modal\n         *\n         * @param {String} title\n         */\n        setTitle: function (title) {\n            if (this.title !== title) {\n                this.title = title;\n            }\n\n            if (this.modal) {\n                this.modal.modal('setTitle', title);\n            }\n        },\n\n        /**\n         * Sets subTitle for modal\n         *\n         * @param {String} subTitle\n         */\n        setSubTitle: function (subTitle) {\n            if (this.subTitle !== subTitle) {\n                this.subTitle = subTitle;\n            }\n\n            if (this.modal) {\n                this.modal.modal('setSubTitle', subTitle);\n            }\n        },\n\n        /**\n         * Wrap content in a modal of certain type\n         *\n         * @param {Boolean} state\n         */\n        onState: function (state) {\n            if (state) {\n                this.modal.modal('openModal');\n                this.applyData();\n            } else {\n                this.modal.modal('closeModal');\n            }\n        },\n\n        /**\n         * Validate everything validatable in modal\n         */\n        validate: function (elem) {\n            if (typeof elem === 'undefined') {\n                return;\n            }\n\n            if (typeof elem.validate === 'function') {\n                this.valid &= elem.validate().valid;\n            } else if (elem.elems) {\n                elem.elems().forEach(this.validate, this);\n            }\n        },\n\n        /**\n         * Reset data from provider\n         */\n        resetData: function () {\n            this.elems().forEach(this.resetValue, this);\n        },\n\n        /**\n         * Update 'applied' property with data from modal content\n         */\n        applyData: function () {\n            var applied = {};\n\n            this.elems().forEach(this.gatherValues.bind(this, applied), this);\n            this.applied = applied;\n        },\n\n        /**\n         * Gather values from modal content\n         *\n         * @param {Array} applied\n         * @param {HTMLElement} elem\n         */\n        gatherValues: function (applied, elem) {\n            if (typeof elem.value === 'function') {\n                applied[elem.name] = elem.value();\n            } else if (elem.elems) {\n                elem.elems().forEach(this.gatherValues.bind(this, applied), this);\n            }\n        },\n\n        /**\n         * Set to previous values from modal content\n         *\n         * @param {HTMLElement} elem\n         */\n        setPrevValues: function (elem) {\n            if (typeof elem.value === 'function') {\n                this.modal.focus();\n                elem.value(this.applied[elem.name]);\n            } else if (elem.elems) {\n                elem.elems().forEach(this.setPrevValues, this);\n            }\n        },\n\n        /**\n         * Triggers some method in every modal child elem, if this method is defined\n         *\n         * @param {Object} action - action configuration,\n         * must contain actionName and targetName and\n         * can contain params\n         */\n        triggerAction: function (action) {\n            var targetName = action.targetName,\n                params = action.params || [],\n                actionName = action.actionName,\n                target;\n\n            target = registry.async(targetName);\n\n            if (target && typeof target === 'function' && actionName) {\n                params.unshift(actionName);\n                target.apply(target, params);\n            }\n        },\n\n        /**\n         * Override modal buttons callback placeholders with real callbacks\n         */\n        overrideModalButtonCallback: function () {\n            var buttons = this.options.buttons;\n\n            if (buttons && buttons.length) {\n                buttons.forEach(function (button) {\n                    button.click = this.getButtonClickHandler(button.actions);\n                }, this);\n            }\n        },\n\n        /**\n         * Generate button click handler based on button's 'actions' configuration\n         */\n        getButtonClickHandler: function (actionsConfig) {\n            var actions = actionsConfig.map(\n                function (actionConfig) {\n                    if (_.isObject(actionConfig)) {\n                        return this.triggerAction.bind(this, actionConfig);\n                    }\n\n                    return this[actionConfig] ? this[actionConfig].bind(this) : function () {};\n                }, this);\n\n            return function () {\n                actions.forEach(\n                    function (action) {\n                        action();\n                    }\n                );\n            };\n        },\n\n        /**\n         * Cancels changes in modal:\n         * returning elems values to the previous state,\n         * and close modal\n         */\n        actionCancel: function () {\n            this.elems().forEach(this.setPrevValues, this);\n            this.closeModal();\n        },\n\n        /**\n         * Accept changes in modal by not preventing them.\n         * Can be extended by exporting 'gatherValues' result somewhere\n         */\n        actionDone: function () {\n            this.valid = true;\n            this.elems().forEach(this.validate, this);\n\n            if (this.valid) {\n                this.closeModal();\n            }\n        }\n    });\n});\n","Magento_Ui/js/lib/collapsible.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'uiComponent'\n], function (Component) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            opened: false,\n            collapsible: true\n        },\n\n        /**\n         * Initializes observable properties.\n         *\n         * @returns {Collapsible} Chainable.\n         */\n        initObservable: function () {\n            this._super()\n                .observe('opened');\n\n            return this;\n        },\n\n        /**\n         * Toggles value of the 'opened' property.\n         *\n         * @returns {Collapsible} Chainable.\n         */\n        toggleOpened: function () {\n            this.opened() ?\n                this.close() :\n                this.open();\n\n            return this;\n        },\n\n        /**\n         * Sets 'opened' flag to false.\n         *\n         * @returns {Collapsible} Chainable.\n         */\n        close: function () {\n            if (this.collapsible) {\n                this.opened(false);\n            }\n\n            return this;\n        },\n\n        /**\n         * Sets 'opened' flag to true.\n         *\n         * @returns {Collapsible} Chainable.\n         */\n        open: function () {\n            if (this.collapsible) {\n                this.opened(true);\n            }\n\n            return this;\n        }\n    });\n});\n","Magento_Ui/js/lib/key-codes.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([], function () {\n    'use strict';\n\n    return {\n        13: 'enterKey',\n        27: 'escapeKey',\n        40: 'pageDownKey',\n        38: 'pageUpKey',\n        32: 'spaceKey',\n        9:  'tabKey',\n        37: 'pageLeftKey',\n        39: 'pageRightKey',\n        17: 'ctrlKey',\n        18: 'altKey',\n        16: 'shiftKey',\n        191: 'forwardSlashKey',\n        66: 'bKey',\n        73: 'iKey',\n        85: 'uKey'\n    };\n});\n","Magento_Ui/js/lib/spinner.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    var selector = '[data-role=\"spinner\"]',\n        spinner = $(selector);\n\n    return {\n        /**\n         * Show spinner.\n         */\n        show: function () {\n            spinner.show();\n        },\n\n        /**\n         * Hide spinner.\n         */\n        hide: function () {\n            spinner.hide();\n        },\n\n        /**\n         * Get spinner by selector.\n         *\n         * @param {String} id\n         * @return {jQuery}\n         */\n        get: function (id) {\n            return $(selector + '[data-component=\"' + id + '\"]');\n        }\n    };\n});\n","Magento_Ui/js/lib/validation/rules.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'underscore',\n    './utils',\n    'moment',\n    'tinycolor',\n    'jquery/validate',\n    'mage/translate'\n], function ($, _, utils, moment, tinycolor) {\n    'use strict';\n\n    /**\n     * validate credit card number using mod10\n     * @param {String} s\n     * @return {Boolean}\n     */\n    function validateCreditCard(s) {\n        // remove non-numerics\n        var v = '0123456789',\n            w = '',\n            i, j, k, m, c, a, x;\n\n        for (i = 0; i < s.length; i++) {\n            x = s.charAt(i);\n\n            if (v.indexOf(x, 0) !== -1) {\n                w += x;\n            }\n        }\n        // validate number\n        j = w.length / 2;\n        k = Math.floor(j);\n        m = Math.ceil(j) - k;\n        c = 0;\n\n        for (i = 0; i < k; i++) {\n            a = w.charAt(i * 2 + m) * 2;\n            c += a > 9 ? Math.floor(a / 10 + a % 10) : a;\n        }\n\n        for (i = 0; i < k + m; i++) {\n            c += w.charAt(i * 2 + 1 - m) * 1;\n        }\n\n        return c % 10 === 0;\n    }\n\n    /**\n     * Collection of validation rules including rules from additional-methods.js\n     * @type {Object}\n     */\n    return _.mapObject({\n        'min_text_length': [\n            function (value, params) {\n                return _.isUndefined(value) || value.length === 0 || value.length >= +params;\n            },\n            $.mage.__('Please enter more or equal than {0} symbols.')\n        ],\n        'max_text_length': [\n            function (value, params) {\n                return !_.isUndefined(value) && value.length <= +params;\n            },\n            $.mage.__('Please enter less or equal than {0} symbols.')\n        ],\n        'max-words': [\n            function (value, params) {\n                return utils.isEmpty(value) || utils.stripHtml(value).match(/\\b\\w+\\b/g).length < params;\n            },\n            $.mage.__('Please enter {0} words or less.')\n        ],\n        'min-words': [\n            function (value, params) {\n                return utils.isEmpty(value) || utils.stripHtml(value).match(/\\b\\w+\\b/g).length >= params;\n            },\n            $.mage.__('Please enter at least {0} words.')\n        ],\n        'range-words': [\n            function (value, params) {\n                var match = utils.stripHtml(value).match(/\\b\\w+\\b/g) || [];\n\n                return utils.isEmpty(value) || match.length >= params[0] &&\n                    match.length <= params[1];\n            },\n            $.mage.__('Please enter between {0} and {1} words.')\n        ],\n        'letters-with-basic-punc': [\n            function (value) {\n                return utils.isEmpty(value) || /^[a-z\\-.,()\\u0027\\u0022\\s]+$/i.test(value);\n            },\n            $.mage.__('Letters or punctuation only please')\n        ],\n        'alphanumeric': [\n            function (value) {\n                return utils.isEmpty(value) || /^\\w+$/i.test(value);\n            },\n            $.mage.__('Letters, numbers, spaces or underscores only please')\n        ],\n        'letters-only': [\n            function (value) {\n                return utils.isEmpty(value) || /^[a-z]+$/i.test(value);\n            },\n            $.mage.__('Letters only please')\n        ],\n        'no-whitespace': [\n            function (value) {\n                return utils.isEmpty(value) || /^\\S+$/i.test(value);\n            },\n            $.mage.__('No white space please')\n        ],\n        'no-marginal-whitespace': [\n            function (value) {\n                return !/^\\s+|\\s+$/i.test(value);\n            },\n            $.mage.__('No marginal white space please')\n        ],\n        'zip-range': [\n            function (value) {\n                return utils.isEmpty(value) || /^90[2-5]-\\d{2}-\\d{4}$/.test(value);\n            },\n            $.mage.__('Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx')\n        ],\n        'integer': [\n            function (value) {\n                return utils.isEmpty(value) || /^-?\\d+$/.test(value);\n            },\n            $.mage.__('A positive or negative non-decimal number please')\n        ],\n        'vinUS': [\n            function (value) {\n                if (utils.isEmpty(value)) {\n                    return true;\n                }\n\n                if (value.length !== 17) {\n                    return false;\n                }\n                var i, n, d, f, cd, cdv,//eslint-disable-line vars-on-top\n                    LL = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'J', 'K', 'L', 'M', 'N', 'P', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'],//eslint-disable-line max-len\n                    VL = [1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 7, 9, 2, 3, 4, 5, 6, 7, 8, 9],\n                    FL = [8, 7, 6, 5, 4, 3, 2, 10, 0, 9, 8, 7, 6, 5, 4, 3, 2],\n                    rs = 0;\n\n                for (i = 0; i < 17; i++) {\n                    f = FL[i];\n                    d = value.slice(i, i + 1);\n\n                    if (i === 8) {\n                        cdv = d;\n                    }\n\n                    if (!isNaN(d)) {\n                        d *= f;\n                    } else {\n                        for (n = 0; n < LL.length; n++) {//eslint-disable-line max-depth\n                            if (d.toUpperCase() === LL[n]) {//eslint-disable-line max-depth\n                                d = VL[n];\n                                d *= f;\n\n                                if (isNaN(cdv) && n === 8) {//eslint-disable-line max-depth\n                                    cdv = LL[n];\n                                }\n                                break;\n                            }\n                        }\n                    }\n                    rs += d;\n                }\n                cd = rs % 11;\n\n                if (cd === 10) {\n                    cd = 'X';\n                }\n\n                if (cd === cdv) {\n                    return true;\n                }\n\n                return false;\n            },\n            $.mage.__('The specified vehicle identification number (VIN) is invalid.')\n        ],\n        'dateITA': [\n            function (value) {\n                var check = false,\n                    re = /^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/,\n                    adata, gg, mm, aaaa, xdata;\n\n                if (re.test(value)) {\n                    adata = value.split('/');\n                    gg = parseInt(adata[0], 10);\n                    mm = parseInt(adata[1], 10);\n                    aaaa = parseInt(adata[2], 10);\n                    xdata = new Date(aaaa, mm - 1, gg);\n\n                    if (xdata.getFullYear() === aaaa &&\n                        xdata.getMonth() === mm - 1 &&\n                        xdata.getDate() === gg\n                    ) {\n                        check = true;\n                    } else {\n                        check = false;\n                    }\n                } else {\n                    check = false;\n                }\n\n                return check;\n            },\n            $.mage.__('Please enter a correct date')\n        ],\n        'dateNL': [\n            function (value) {\n                return /^\\d\\d?[\\.\\/-]\\d\\d?[\\.\\/-]\\d\\d\\d?\\d?$/.test(value);\n            },\n            $.mage.__('Vul hier een geldige datum in.')\n        ],\n        'time': [\n            function (value) {\n                return utils.isEmpty(value) || /^([01]\\d|2[0-3])(:[0-5]\\d){0,2}$/.test(value);\n            },\n            $.mage.__('Please enter a valid time, between 00:00 and 23:59')\n        ],\n        'time12h': [\n            function (value) {\n                return utils.isEmpty(value) || /^((0?[1-9]|1[012])(:[0-5]\\d){0,2}(\\s[AP]M))$/i.test(value);\n            },\n            $.mage.__('Please enter a valid time, between 00:00 am and 12:00 pm')\n        ],\n        'phoneUS': [\n            function (value) {\n                value = value.replace(/\\s+/g, '');\n\n                return utils.isEmpty(value) || value.length > 9 &&\n                    value.match(/^(1-?)?(\\([2-9]\\d{2}\\)|[2-9]\\d{2})-?[2-9]\\d{2}-?\\d{4}$/);\n            },\n            $.mage.__('Please specify a valid phone number')\n        ],\n        'phoneUK': [\n            function (value) {\n                return utils.isEmpty(value) || value.length > 9 &&\n                    value.match(/^(\\(?(0|\\+44)[1-9]{1}\\d{1,4}?\\)?\\s?\\d{3,4}\\s?\\d{3,4})$/);\n            },\n            $.mage.__('Please specify a valid phone number')\n        ],\n        'mobileUK': [\n            function (value) {\n                return utils.isEmpty(value) || value.length > 9 && value.match(/^((0|\\+44)7\\d{3}\\s?\\d{6})$/);\n            },\n            $.mage.__('Please specify a valid mobile number')\n        ],\n        'stripped-min-length': [\n            function (value, param) {\n                return _.isUndefined(value) || value.length === 0 || utils.stripHtml(value).length >= param;\n            },\n            $.mage.__('Please enter at least {0} characters')\n        ],\n        'email2': [\n            function (value) {\n                return utils.isEmpty(value) || /^((([a-z]|\\d|[!#\\$%&\\u0027\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&\\u0027\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\u0022)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\u0022)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i.test(value);//eslint-disable-line max-len\n            },\n            $.validator.messages.email\n        ],\n        'url2': [\n            function (value) {\n                return utils.isEmpty(value) || /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&\\u0027\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&\\u0027\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&\\u0027\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&\\u0027\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&\\u0027\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test(value);//eslint-disable-line max-len\n            },\n            $.validator.messages.url\n        ],\n        'credit-card-types': [\n            function (value, param) {\n                var validTypes;\n\n                if (utils.isEmpty(value)) {\n                    return true;\n                }\n\n                if (/[^0-9-]+/.test(value)) {\n                    return false;\n                }\n                value = value.replace(/\\D/g, '');\n                validTypes = 0x0000;\n\n                if (param.mastercard) {\n                    validTypes |= 0x0001;\n                }\n\n                if (param.visa) {\n                    validTypes |= 0x0002;\n                }\n\n                if (param.amex) {\n                    validTypes |= 0x0004;\n                }\n\n                if (param.dinersclub) {\n                    validTypes |= 0x0008;\n                }\n\n                if (param.enroute) {\n                    validTypes |= 0x0010;\n                }\n\n                if (param.discover) {\n                    validTypes |= 0x0020;\n                }\n\n                if (param.jcb) {\n                    validTypes |= 0x0040;\n                }\n\n                if (param.unknown) {\n                    validTypes |= 0x0080;\n                }\n\n                if (param.all) {\n                    validTypes = 0x0001 | 0x0002 | 0x0004 | 0x0008 | 0x0010 | 0x0020 | 0x0040 | 0x0080;\n                }\n\n                if (validTypes & 0x0001 && /^(51|52|53|54|55)/.test(value)) { //mastercard\n                    return value.length === 16;\n                }\n\n                if (validTypes & 0x0002 && /^(4)/.test(value)) { //visa\n                    return value.length === 16;\n                }\n\n                if (validTypes & 0x0004 && /^(34|37)/.test(value)) { //amex\n                    return value.length === 15;\n                }\n\n                if (validTypes & 0x0008 && /^(300|301|302|303|304|305|36|38)/.test(value)) { //dinersclub\n                    return value.length === 14;\n                }\n\n                if (validTypes & 0x0010 && /^(2014|2149)/.test(value)) { //enroute\n                    return value.length === 15;\n                }\n\n                if (validTypes & 0x0020 && /^(6011)/.test(value)) { //discover\n                    return value.length === 16;\n                }\n\n                if (validTypes & 0x0040 && /^(3)/.test(value)) { //jcb\n                    return value.length === 16;\n                }\n\n                if (validTypes & 0x0040 && /^(2131|1800)/.test(value)) { //jcb\n                    return value.length === 15;\n                }\n\n                if (validTypes & 0x0080) { //unknown\n                    return true;\n                }\n\n                return false;\n            },\n            $.mage.__('Please enter a valid credit card number.')\n        ],\n        'ipv4': [\n            function (value) {\n                return utils.isEmpty(value) || /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i.test(value);//eslint-disable-line max-len\n            },\n            $.mage.__('Please enter a valid IP v4 address.')\n        ],\n        'ipv6': [\n            function (value) {\n                return utils.isEmpty(value) || /^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(value);//eslint-disable-line max-len\n            },\n            $.mage.__('Please enter a valid IP v6 address.')\n        ],\n        'pattern': [\n            function (value, param) {\n                return utils.isEmpty(value) || new RegExp(param).test(value);\n            },\n            $.mage.__('Invalid format.')\n        ],\n        'validate-no-html-tags': [\n            function (value) {\n                return !/<(\\/)?\\w+/.test(value);\n            },\n            $.mage.__('HTML tags are not allowed.')\n        ],\n        'validate-select': [\n            function (value) {\n                return value !== 'none' && value != null && value.length !== 0;\n            },\n            $.mage.__('Please select an option.')\n        ],\n        'validate-no-empty': [\n            function (value) {\n                return !utils.isEmpty(value);\n            },\n            $.mage.__('Empty Value.')\n        ],\n        'validate-alphanum-with-spaces': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /^[a-zA-Z0-9 ]+$/.test(value);\n            },\n            $.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or spaces only in this field.')\n        ],\n        'validate-data': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /^[A-Za-z]+[A-Za-z0-9_]+$/.test(value);\n            },\n            $.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or underscore (_) in this field, and the first character should be a letter.')//eslint-disable-line max-len\n        ],\n        'validate-street': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) ||\n                    /^[ \\w]{3,}([A-Za-z]\\.)?([ \\w]*\\#\\d+)?(\\r\\n| )[ \\w]{3,}/.test(value);\n            },\n            $.mage.__('Please use only letters (a-z or A-Z), numbers (0-9), spaces and \"#\" in this field.')\n        ],\n        'validate-phoneStrict': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4}$/.test(value);\n            },\n            $.mage.__('Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.')\n        ],\n        'validate-phoneLax': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) ||\n                    /^((\\d[\\-. ]?)?((\\(\\d{3}\\))|\\d{3}))?[\\-. ]?\\d{3}[\\-. ]?\\d{4}$/.test(value);\n            },\n            $.mage.__('Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.')\n        ],\n        'validate-fax': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4}$/.test(value);\n            },\n            $.mage.__('Please enter a valid fax number (Ex: 123-456-7890).')\n        ],\n        'validate-email': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /^([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*@([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*\\.(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]){2,})$/i.test(value);//eslint-disable-line max-len\n            },\n            $.mage.__('Please enter a valid email address (Ex: johndoe@domain.com).')\n        ],\n        'validate-emailSender': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /^[\\S ]+$/.test(value);\n            },\n            $.mage.__('Please enter a valid email address (Ex: johndoe@domain.com).')\n        ],\n        'validate-password': [\n            function (value) {\n                var pass;\n\n                if (value == null) {\n                    return false;\n                }\n\n                pass = value.trim();\n\n                if (!pass.length) {\n                    return true;\n                }\n\n                return !(pass.length > 0 && pass.length < 6);\n            },\n            $.mage.__('Please enter 6 or more characters. Leading and trailing spaces will be ignored.')\n        ],\n        'validate-admin-password': [\n            function (value) {\n                var pass;\n\n                if (value == null) {\n                    return false;\n                }\n\n                pass = value.trim();\n\n                if (pass.length === 0) {\n                    return true;\n                }\n\n                if (!/[a-z]/i.test(value) || !/[0-9]/.test(value)) {\n                    return false;\n                }\n\n                if (pass.length < 7) {\n                    return false;\n                }\n\n                return true;\n            },\n            $.mage.__('Please enter 7 or more characters, using both numeric and alphabetic.')\n        ],\n        'validate-customer-password': [\n            function (v, elm) {\n                var validator = this,\n                    counter = 0,\n                    passwordMinLength = $(elm).data('password-min-length'),\n                    passwordMinCharacterSets = $(elm).data('password-min-character-sets'),\n                    pass = v.trim(),\n                    result = pass.length >= passwordMinLength;\n\n                if (result === false) {\n                    validator.passwordErrorMessage = $.mage.__('Minimum length of this field must be equal or greater than %1 symbols. Leading and trailing spaces will be ignored.').replace('%1', passwordMinLength);//eslint-disable-line max-len\n\n                    return result;\n                }\n\n                if (pass.match(/\\d+/)) {\n                    counter++;\n                }\n\n                if (pass.match(/[a-z]+/)) {\n                    counter++;\n                }\n\n                if (pass.match(/[A-Z]+/)) {\n                    counter++;\n                }\n\n                if (pass.match(/[^a-zA-Z0-9]+/)) {\n                    counter++;\n                }\n\n                if (counter < passwordMinCharacterSets) {\n                    result = false;\n                    validator.passwordErrorMessage = $.mage.__('Minimum of different classes of characters in password is %1. Classes of characters: Lower Case, Upper Case, Digits, Special Characters.').replace('%1', passwordMinCharacterSets);//eslint-disable-line max-len\n                }\n\n                return result;\n            }, function () {\n                return this.passwordErrorMessage;\n            }\n        ],\n        'validate-url': [\n            function (value) {\n                if (utils.isEmptyNoTrim(value)) {\n                    return true;\n                }\n                value = (value || '').replace(/^\\s+/, '').replace(/\\s+$/, '');\n\n                return (/^(http|https|ftp):\\/\\/(([A-Z0-9]([A-Z0-9_-]*[A-Z0-9]|))(\\.[A-Z0-9]([A-Z0-9_-]*[A-Z0-9]|))*)(:(\\d+))?(\\/[A-Z0-9~](([A-Z0-9_~-]|\\.)*[A-Z0-9~]|))*\\/?(.*)?$/i).test(value);//eslint-disable-line max-len\n\n            },\n            $.mage.__('Please enter a valid URL. Protocol is required (http://, https:// or ftp://).')\n        ],\n        'validate-clean-url': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /^(http|https|ftp):\\/\\/(([A-Z0-9][A-Z0-9_-]*)(\\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\\d+))?\\/?/i.test(value) || /^(www)((\\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\\d+))?\\/?/i.test(value);//eslint-disable-line max-len\n\n            },\n            $.mage.__('Please enter a valid URL. For example http://www.example.com or www.example.com.')\n        ],\n        'validate-xml-identifier': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /^[A-Z][A-Z0-9_\\/-]*$/i.test(value);\n\n            },\n            $.mage.__('Please enter a valid XML-identifier (Ex: something_1, block5, id-4).')\n        ],\n        'validate-ssn': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /^\\d{3}-?\\d{2}-?\\d{4}$/.test(value);\n\n            },\n            $.mage.__('Please enter a valid social security number (Ex: 123-45-6789).')\n        ],\n        'validate-zip-us': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /(^\\d{5}$)|(^\\d{5}-\\d{4}$)/.test(value);\n\n            },\n            $.mage.__('Please enter a valid zip code (Ex: 90602 or 90602-1234).')\n        ],\n        'validate-date-au': [\n            function (value) {\n                var regex = /^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/,\n                    d;\n\n                if (utils.isEmptyNoTrim(value)) {\n                    return true;\n                }\n\n                if (utils.isEmpty(value) || !regex.test(value)) {\n                    return false;\n                }\n                d = new Date(value.replace(regex, '$2/$1/$3'));\n\n                return parseInt(RegExp.$2, 10) === 1 + d.getMonth() &&\n                    parseInt(RegExp.$1, 10) === d.getDate() &&\n                    parseInt(RegExp.$3, 10) === d.getFullYear();\n\n            },\n            $.mage.__('Please use this date format: dd/mm/yyyy. For example 17/03/2006 for the 17th of March, 2006.')\n        ],\n        'validate-currency-dollar': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /^\\$?\\-?([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}\\d*(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$/.test(value);//eslint-disable-line max-len\n\n            },\n            $.mage.__('Please enter a valid $ amount. For example $100.00.')\n        ],\n        'validate-not-negative-number': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || !isNaN(utils.parseNumber(value))\n                    && value >= 0 && (/^\\s*-?\\d+([,.]\\d+)*\\s*%?\\s*$/).test(value);\n\n            },\n            $.mage.__('Please enter a number 0 or greater, without comma in this field.')\n        ],\n        // validate-not-negative-number should be replaced in all places with this one and then removed\n        'validate-zero-or-greater': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || !isNaN(utils.parseNumber(value))\n                    && value >= 0 && (/^\\s*-?\\d+([,.]\\d+)*\\s*%?\\s*$/).test(value);\n            },\n            $.mage.__('Please enter a number 0 or greater, without comma in this field.')\n        ],\n        'validate-greater-than-zero': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || !isNaN(utils.parseNumber(value))\n                    && value > 0 && (/^\\s*-?\\d+([,.]\\d+)*\\s*%?\\s*$/).test(value);\n            },\n            $.mage.__('Please enter a number greater than 0, without comma in this field.')\n        ],\n        'validate-css-length': [\n            function (value) {\n                if (value !== '') {\n                    return (/^[0-9]*\\.*[0-9]+(px|pc|pt|ex|em|mm|cm|in|%)?$/).test(value);\n                }\n\n                return true;\n            },\n            $.mage.__('Please input a valid CSS-length (Ex: 100px, 77pt, 20em, .5ex or 50%).')\n        ],\n        'validate-number': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) ||\n                    !isNaN(utils.parseNumber(value)) &&\n                    /^\\s*-?\\d*(?:[.,|'|\\s]\\d+)*(?:[.,|'|\\s]\\d{2})?-?\\s*$/.test(value);\n            },\n            $.mage.__('Please enter a valid number in this field.')\n        ],\n        'validate-integer': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || !isNaN(utils.parseNumber(value)) && /^\\s*-?\\d*\\s*$/.test(value);\n            },\n            $.mage.__('Please enter a valid integer in this field.')\n        ],\n        'validate-number-range': [\n            function (value, param) {\n                var numValue, dataAttrRange, result, range, m;\n\n                if (utils.isEmptyNoTrim(value)) {\n                    return true;\n                }\n\n                numValue = utils.parseNumber(value);\n\n                if (isNaN(numValue)) {\n                    return false;\n                }\n\n                dataAttrRange = /^(-?[\\d.,]+)?-(-?[\\d.,]+)?$/;\n                result = true;\n                range = param;\n\n                if (range) {\n                    m = dataAttrRange.exec(range);\n\n                    if (m) {\n                        result = result && utils.isBetween(numValue, m[1], m[2]);\n                    }\n                }\n\n                return result;\n            },\n            $.mage.__('The value is not within the specified range.')\n        ],\n        'validate-positive-percent-decimal': [\n            function (value) {\n                var numValue;\n\n                if (utils.isEmptyNoTrim(value) || !/^\\s*-?\\d*(\\.\\d*)?\\s*$/.test(value)) {\n                    return false;\n                }\n\n                numValue = utils.parseNumber(value);\n\n                if (isNaN(numValue)) {\n                    return false;\n                }\n\n                return utils.isBetween(numValue, 0.01, 100);\n            },\n            $.mage.__('Please enter a valid percentage discount value greater than 0.')\n        ],\n        'validate-digits': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || !/[^\\d]/.test(value);\n            },\n            $.mage.__('Please enter a valid number in this field.')\n        ],\n        'validate-digits-range': [\n            function (value, param) {\n                var numValue, dataAttrRange, result, range, m;\n\n                if (utils.isEmptyNoTrim(value)) {\n                    return true;\n                }\n\n                numValue = utils.parseNumber(value);\n\n                if (isNaN(numValue)) {\n                    return false;\n                }\n\n                dataAttrRange = /^(-?\\d+)?-(-?\\d+)?$/;\n                result = true;\n                range = param;\n\n                if (range) {\n                    m = dataAttrRange.exec(range);\n\n                    if (m) {\n                        result = result && utils.isBetween(numValue, m[1], m[2]);\n                    }\n                }\n\n                return result;\n            },\n            $.mage.__('The value is not within the specified range.')\n        ],\n        'validate-range': [\n            function (value) {\n                var minValue, maxValue, ranges;\n\n                if (utils.isEmptyNoTrim(value)) {\n                    return true;\n                } else if ($.validator.methods['validate-digits'] && $.validator.methods['validate-digits'](value)) {\n                    minValue = maxValue = utils.parseNumber(value);\n                } else {\n                    ranges = /^(-?\\d+)?-(-?\\d+)?$/.exec(value);\n\n                    if (ranges) {\n                        minValue = utils.parseNumber(ranges[1]);\n                        maxValue = utils.parseNumber(ranges[2]);\n\n                        if (minValue > maxValue) {//eslint-disable-line max-depth\n                            return false;\n                        }\n                    } else {\n                        return false;\n                    }\n                }\n            },\n            $.mage.__('The value is not within the specified range.')\n        ],\n        'validate-alpha': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /^[a-zA-Z]+$/.test(value);\n            },\n            $.mage.__('Please use letters only (a-z or A-Z) in this field.')\n        ],\n        'validate-code': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /^[a-z]+[a-z0-9_]+$/.test(value);\n            },\n            $.mage.__('Please use only lowercase letters (a-z), numbers (0-9) or underscore (_) in this field, and the first character should be a letter.')//eslint-disable-line max-len\n        ],\n        'validate-alphanum': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /^[a-zA-Z0-9]+$/.test(value);\n            },\n            $.mage.__('Please use only letters (a-z or A-Z) or numbers (0-9) in this field. No spaces or other characters are allowed.')//eslint-disable-line max-len\n        ],\n        'validate-not-number-first': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /^[^0-9-\\.].*$/.test(value.trim());\n            },\n            $.mage.__('First character must be letter.')\n        ],\n        'validate-date': [\n            function (value, params, additionalParams) {\n                var test = moment(value, additionalParams.dateFormat);\n\n                return utils.isEmptyNoTrim(value) || test.isValid();\n            },\n            $.mage.__('Please enter a valid date.')\n        ],\n        'validate-date-range': [\n            function (value, params) {\n                var fromDate = $('input[name*=\"' + params + '\"]').val();\n\n                return moment.utc(value).unix() >= moment.utc(fromDate).unix() || isNaN(moment.utc(value).unix());\n            },\n            $.mage.__('Make sure the To Date is later than or the same as the From Date.')\n        ],\n        'validate-identifier': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /^[a-z0-9][a-z0-9_\\/-]+(\\.[a-z0-9_-]+)?$/.test(value);\n            },\n            $.mage.__('Please enter a valid URL Key (Ex: \"example-page\", \"example-page.html\" or \"anotherlevel/example-page\").')//eslint-disable-line max-len\n        ],\n        'validate-trailing-hyphen': [\n            function (value) {\n                return utils.isEmptyNoTrim(value) || /^(?!-)(?!.*-$).+$/.test(value);\n            },\n            $.mage.__('Trailing hyphens are not allowed.')\n        ],\n        'validate-zip-international': [\n\n            /*function(v) {\n            // @TODO: Cleanup\n            return Validation.get('IsEmpty').test(v) || /(^[A-z0-9]{2,10}([\\s]{0,1}|[\\-]{0,1})[A-z0-9]{2,10}$)/.test(v);\n            }*/\n            function () {\n                return true;\n            },\n            $.mage.__('Please enter a valid zip code.')\n        ],\n        'validate-state': [\n            function (value) {\n                return value !== 0;\n            },\n            $.mage.__('Please select State/Province.')\n        ],\n        'less-than-equals-to': [\n            function (value, params) {\n                value = utils.parseNumber(value);\n\n                if (isNaN(parseFloat(params))) {\n                    params = $(params).val();\n                }\n\n                params = utils.parseNumber(params);\n\n                if (!isNaN(params) && !isNaN(value)) {\n                    this.lteToVal = params;\n\n                    return value <= params;\n                }\n\n                return true;\n            },\n            function () {\n                return $.mage.__('Please enter a value less than or equal to %s.').replace('%s', this.lteToVal);\n            }\n        ],\n        'greater-than-equals-to': [\n            function (value, params) {\n                value = utils.parseNumber(value);\n\n                if (isNaN(parseFloat(params))) {\n                    params = $(params).val();\n                }\n\n                params = utils.parseNumber(params);\n\n                if (!isNaN(params) && !isNaN(value)) {\n                    this.gteToVal = params;\n\n                    return value >= params;\n                }\n\n                return true;\n            },\n            function () {\n                return $.mage.__('Please enter a value greater than or equal to %s.').replace('%s', this.gteToVal);\n            }\n        ],\n        'validate-emails': [\n            function (value) {\n                var validRegexp, emails, i;\n\n                if (utils.isEmpty(value)) {\n                    return true;\n                }\n                validRegexp = /^[a-z0-9\\._-]{1,30}@([a-z0-9_-]{1,30}\\.){1,5}[a-z]{2,4}$/i;\n                emails = value.split(/[\\s\\n\\,]+/g);\n\n                for (i = 0; i < emails.length; i++) {\n                    if (!validRegexp.test(emails[i].strip())) {\n                        return false;\n                    }\n                }\n\n                return true;\n            },\n            $.mage.__('Please enter valid email addresses, separated by commas. For example, johndoe@domain.com, johnsmith@domain.com.')//eslint-disable-line max-len\n        ],\n        'validate-cc-number': [\n\n            /**\n             * Validate credit card number based on mod 10.\n             *\n             * @param {String} value - credit card number\n             * @return {Boolean}\n             */\n            function (value) {\n                if (value) {\n                    return validateCreditCard(value);\n                }\n\n                return true;\n            },\n            $.mage.__('Please enter a valid credit card number.')\n        ],\n        'validate-cc-ukss': [\n\n            /**\n             * Validate Switch/Solo/Maestro issue number and start date is filled.\n             *\n             * @param {String} value - input field value\n             * @return {*}\n             */\n            function (value) {\n                return value;\n            },\n            $.mage.__('Please enter issue number or start date for switch/solo card type.')\n        ],\n        'required-entry': [\n            function (value) {\n                return !utils.isEmpty(value);\n            },\n            $.mage.__('This is a required field.')\n        ],\n        'checked': [\n            function (value) {\n                return value;\n            },\n            $.mage.__('This is a required field.')\n        ],\n        'not-negative-amount': [\n            function (value) {\n                if (value.length) {\n                    return (/^\\s*\\d+([,.]\\d+)*\\s*%?\\s*$/).test(value);\n                }\n\n                return true;\n            },\n            $.mage.__('Please enter positive number in this field.')\n        ],\n        'validate-per-page-value-list': [\n            function (value) {\n                var isValid = true,\n                    values = value.split(','),\n                    i;\n\n                if (utils.isEmpty(value)) {\n                    return isValid;\n                }\n\n                for (i = 0; i < values.length; i++) {\n                    if (!/^[0-9]+$/.test(values[i])) {\n                        isValid = false;\n                    }\n                }\n\n                return isValid;\n            },\n            $.mage.__('Please enter a valid value, ex: 10,20,30')\n        ],\n        'validate-new-password': [\n            function (value) {\n                if ($.validator.methods['validate-password'] && !$.validator.methods['validate-password'](value)) {\n                    return false;\n                }\n\n                if (utils.isEmpty(value) && value !== '') {\n                    return false;\n                }\n\n                return true;\n            },\n            $.mage.__('Please enter 6 or more characters. Leading and trailing spaces will be ignored.')\n        ],\n        'validate-item-quantity': [\n            function (value, params) {\n                var validator = this,\n                    result = false,\n                    // obtain values for validation\n                    qty = utils.parseNumber(value),\n                    isMinAllowedValid = typeof params.minAllowed === 'undefined' ||\n                        qty >= utils.parseNumber(params.minAllowed),\n                    isMaxAllowedValid = typeof params.maxAllowed === 'undefined' ||\n                        qty <= utils.parseNumber(params.maxAllowed),\n                    isQtyIncrementsValid = typeof params.qtyIncrements === 'undefined' ||\n                        qty % utils.parseNumber(params.qtyIncrements) === 0;\n\n                result = qty > 0;\n\n                if (result === false) {\n                    validator.itemQtyErrorMessage = $.mage.__('Please enter a quantity greater than 0.');//eslint-disable-line max-len\n\n                    return result;\n                }\n\n                result = isMinAllowedValid;\n\n                if (result === false) {\n                    validator.itemQtyErrorMessage = $.mage.__('The fewest you may purchase is %1.').replace('%1', params.minAllowed);//eslint-disable-line max-len\n\n                    return result;\n                }\n\n                result = isMaxAllowedValid;\n\n                if (result === false) {\n                    validator.itemQtyErrorMessage = $.mage.__('The maximum you may purchase is %1.').replace('%1', params.maxAllowed);//eslint-disable-line max-len\n\n                    return result;\n                }\n\n                result = isQtyIncrementsValid;\n\n                if (result === false) {\n                    validator.itemQtyErrorMessage = $.mage.__('You can buy this product only in quantities of %1 at a time.').replace('%1', params.qtyIncrements);//eslint-disable-line max-len\n\n                    return result;\n                }\n\n                return result;\n            }, function () {\n                return this.itemQtyErrorMessage;\n            }\n        ],\n        'equalTo': [\n            function (value, param) {\n                return value === $(param).val();\n            },\n            $.validator.messages.equalTo\n        ],\n        'validate-file-type': [\n            function (name, types) {\n                var extension = name.split('.').pop().toLowerCase();\n\n                if (types && typeof types === 'string') {\n                    types = types.split(' ');\n                }\n\n                return !types || !types.length || ~types.indexOf(extension);\n            },\n            $.mage.__('We don\\'t recognize or support this file extension type.')\n        ],\n        'validate-max-size': [\n            function (size, maxSize) {\n                return maxSize === false || size < maxSize;\n            },\n            $.mage.__('File you are trying to upload exceeds maximum file size limit.')\n        ],\n        'validate-if-tag-script-exist': [\n            function (value) {\n                return !value || (/<script\\b[^>]*>([\\s\\S]*?)<\\/script>$/ig).test(value);\n            },\n            $.mage.__('Please use tag SCRIPT with SRC attribute or with proper content to include JavaScript to the document.')//eslint-disable-line max-len\n        ],\n        'date_range_min': [\n            function (value, minValue, params) {\n                return moment.utc(value, params.dateFormat).unix() >= minValue;\n            },\n            $.mage.__('The date is not within the specified range.')\n        ],\n        'date_range_max': [\n            function (value, maxValue, params) {\n                return moment.utc(value, params.dateFormat).unix() <= maxValue;\n            },\n            $.mage.__('The date is not within the specified range.')\n        ],\n        'validate-color': [\n            function (value) {\n                if (value === '') {\n                    return true;\n                }\n\n                return tinycolor(value).isValid();\n            },\n            $.mage.__('Wrong color format. Please specify color in HEX, RGBa, HSVa, HSLa or use color name.')\n        ],\n        'blacklist-url': [\n            function (value, param) {\n                return new RegExp(param).test(value);\n            },\n            $.mage.__('This link is not allowed.')\n        ],\n        'validate-dob': [\n            function (value, param, params) {\n                if (value === '') {\n                    return true;\n                }\n\n                return moment.utc(value, params.dateFormat).isSameOrBefore(moment.utc());\n            },\n            $.mage.__('The Date of Birth should not be greater than today.')\n        ],\n        'validate-no-utf8mb4-characters': [\n            function (value) {\n                var validator = this,\n                    message = $.mage.__('Please remove invalid characters: {0}.'),\n                    matches = value.match(/(?:[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g),\n                    result = matches === null;\n\n                if (!result) {\n                    validator.charErrorMessage = message.replace('{0}', matches.join());\n                }\n\n                return result;\n            }, function () {\n                return this.charErrorMessage;\n            }\n        ]\n    }, function (data) {\n        return {\n            handler: data[0],\n            message: data[1]\n        };\n    });\n});\n","Magento_Ui/js/lib/validation/utils.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine(function () {\n    'use strict';\n\n    var utils = {\n        /**\n         * Check if string is empty with trim.\n         *\n         * @param {String} value\n         * @return {Boolean}\n         */\n        isEmpty: function (value) {\n            return value === '' || value == null || value.length === 0 || /^\\s+$/.test(value);\n        },\n\n        /**\n         * Check if string is empty no trim.\n         *\n         * @param {String} value\n         * @return {Boolean}\n         */\n        isEmptyNoTrim: function (value) {\n            return value === '' || value == null || value.length === 0;\n        },\n\n        /**\n         * Checks if {value} is between numbers {from} and {to}.\n         *\n         * @param {String} value\n         * @param {String} from\n         * @param {String} to\n         * @return {Boolean}\n         */\n        isBetween: function (value, from, to) {\n            return (from === null || from === '' || value >= utils.parseNumber(from)) &&\n                   (to === null || to === '' || value <= utils.parseNumber(to));\n        },\n\n        /**\n         * Parse price string.\n         *\n         * @param {String} value\n         * @return {Number}\n         */\n        parseNumber: function (value) {\n            var isDot, isComa;\n\n            if (typeof value !== 'string') {\n                return parseFloat(value);\n            }\n            isDot = value.indexOf('.');\n            isComa = value.indexOf(',');\n\n            if (isDot !== -1 && isComa !== -1) {\n                if (isComa > isDot) {\n                    value = value.replace('.', '').replace(',', '.');\n                } else {\n                    value = value.replace(',', '');\n                }\n            } else if (isComa !== -1) {\n                value = value.replace(',', '.');\n            }\n\n            return parseFloat(value);\n        },\n\n        /**\n         * Removes HTML tags and space characters, numbers and punctuation.\n         *\n         * @param {String} value -  Value being stripped.\n         * @return {String}\n         */\n        stripHtml: function (value) {\n            return value.replace(/<.[^<>]*?>/g, ' ').replace(/&nbsp;|&#160;/gi, ' ')\n                .replace(/[0-9.(),;:!?%#$'\"_+=\\/-]*/g, '');\n        }\n    };\n\n    return utils;\n});\n","Magento_Ui/js/lib/validation/validator.js":"/*\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    './rules'\n], function (_, rulesList) {\n    'use strict';\n\n    /**\n     * Validates provided value be the specified rule.\n     *\n     * @param {String} id - Rule identifier.\n     * @param {*} value - Value to be checked.\n     * @param {*} [params]\n     * @param {*} additionalParams - additional validation params set by method caller\n     * @returns {Object}\n     */\n    function validate(id, value, params, additionalParams) {\n        var rule,\n            message,\n            valid,\n            result = {\n                rule: id,\n                passed: true,\n                message: ''\n            };\n\n        if (_.isObject(params)) {\n            message = params.message || '';\n        }\n\n        if (!rulesList[id]) {\n            return result;\n        }\n\n        rule    = rulesList[id];\n        message = message || rule.message;\n        valid   = rule.handler(value, params, additionalParams);\n\n        if (!valid) {\n            params = Array.isArray(params) ?\n                params :\n                [params];\n\n            if (typeof message === 'function') {\n                message = message.call(rule);\n            }\n\n            message = params.reduce(function (msg, param, idx) {\n                return msg.replace(new RegExp('\\\\{' + idx + '\\\\}', 'g'), param);\n            }, message);\n\n            result.passed = false;\n            result.message = message;\n        }\n\n        return result;\n    }\n\n    /**\n     * Validates provided value by a specified set of rules.\n     *\n     * @param {(String|Object)} rules - One or many validation rules.\n     * @param {*} value - Value to be checked.\n     * @param {*} additionalParams - additional validation params set by method caller\n     * @returns {Object}\n     */\n    function validator(rules, value, additionalParams) {\n        var result;\n\n        if (typeof rules === 'object') {\n            result = {\n                passed: true\n            };\n\n            _.every(rules, function (ruleParams, id) {\n                if (ruleParams.validate || ruleParams !== false || additionalParams) {\n                    result = validate(id, value, ruleParams, additionalParams);\n\n                    return result.passed;\n                }\n\n                return true;\n            });\n\n            return result;\n        }\n\n        return validate.apply(null, arguments);\n    }\n\n    /**\n     * Adds new validation rule.\n     *\n     * @param {String} id - Rule identifier.\n     * @param {Function} handler - Validation function.\n     * @param {String} message - Error message.\n     */\n    validator.addRule = function (id, handler, message) {\n        rulesList[id] = {\n            handler: handler,\n            message: message\n        };\n    };\n\n    /**\n     * Returns rule object found by provided identifier.\n     *\n     * @param {String} id - Rule identifier.\n     * @returns {Object}\n     */\n    validator.getRule = function (id) {\n        return rulesList[id];\n    };\n\n    return validator;\n});\n","Magento_Ui/js/lib/logger/console-output-handler.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    './levels-pool'\n], function (logLevels) {\n    'use strict';\n\n    var levels = logLevels.getLevels();\n\n    /**\n     * @param {LogFormatter} formatter\n     */\n    function ConsoleOutputHandler(formatter) {\n        /**\n         * @protected\n         * @type {LogFormatter}\n         */\n        this.formatter_ = formatter;\n    }\n\n    /**\n     * Display data of the provided entry to the console.\n     *\n     * @param {LogEntry} entry - Entry to be displayed.\n     */\n    ConsoleOutputHandler.prototype.show = function (entry) {\n        var displayString = this.formatter_.process(entry);\n\n        switch (entry.level) {\n            case levels.ERROR:\n                console.error(displayString);\n                break;\n\n            case levels.WARN:\n                console.warn(displayString);\n                break;\n\n            case levels.INFO:\n                console.info(displayString);\n                break;\n\n            case levels.DEBUG:\n                console.log(displayString);\n                break;\n        }\n    };\n\n    /**\n     * Displays the array of entries.\n     *\n     * @param {Array<LogEntry>} entries\n     */\n    ConsoleOutputHandler.prototype.dump = function (entries) {\n        entries.forEach(this.show, this);\n    };\n\n    return ConsoleOutputHandler;\n});\n","Magento_Ui/js/lib/logger/levels-pool.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore'\n], function (_) {\n    'use strict';\n\n    var LEVELS,\n        CODE_MAP;\n\n    LEVELS = {\n        NONE: 0,\n        ERROR: 1,\n        WARN: 2,\n        INFO: 3,\n        DEBUG: 4,\n        ALL: 5\n    };\n\n    CODE_MAP = _.invert(LEVELS);\n\n    return {\n        /**\n         * Returns the list of available log levels.\n         *\n         * @returns {Object}\n         */\n        getLevels: function () {\n            return LEVELS;\n        },\n\n        /**\n         * Returns name of the log level that matches to the provided code.\n         *\n         * @returns {String}\n         */\n        getNameByCode: function (code) {\n            return CODE_MAP[code];\n        }\n    };\n});\n","Magento_Ui/js/lib/logger/logger-utils.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([], function () {\n    'use strict';\n\n    /**\n     * Utils methods for logger\n     * @param {Logger} logger\n     */\n    function LogUtils(logger) {\n        this.logger = logger;\n\n    }\n\n    /**\n     * Method for logging asynchronous operations\n     * @param {Promise} promise\n     * @param {Object} config\n     */\n    LogUtils.prototype.asyncLog = function (promise, config) {\n        var levels,\n            messages,\n            wait;\n\n        config = config || {};\n        levels = config.levels || this.createLevels();\n        messages = config.messages || this.createMessages();\n        wait = config.wait || 5000;\n\n        this.logger[levels.requested](messages.requested, config.data);\n        setTimeout(function () {\n            promise.state() === 'pending' ?\n                this.logger[levels.failed](messages.failed, config.data) :\n                this.logger[levels.loaded](messages.loaded, config.data);\n        }.bind(this), wait);\n    };\n\n    /**\n     * Method that creates object of messages\n     * @param {String} requested - log message that showing that request for class is started\n     * @param {String} loaded - log message that show when requested class is loaded\n     * @param {String} failed - log message that show when requested class is failed\n     * @returns {Object}\n     */\n    LogUtils.prototype.createMessages = function (requested, loaded, failed) {\n        return {\n            requested: requested || '',\n            loaded: loaded || '',\n            failed: failed || ''\n        };\n    };\n\n    /**\n     * Method that creates object of log levels\n     * @param {String} requested - log message that showing that request for class is started\n     * @param {String} loaded - log message that show when requested class is loaded\n     * @param {String} failed - log message that show when requested class is failed\n     * @returns {Object}\n     */\n    LogUtils.prototype.createLevels = function (requested, loaded, failed) {\n        return {\n            requested: requested || 'info',\n            loaded: loaded || 'info',\n            failed: failed || 'warn'\n        };\n    };\n\n    return LogUtils;\n});\n","Magento_Ui/js/lib/logger/message-pool.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine(function () {\n    'use strict';\n\n    var MESSAGES = {\n        templateStartLoading:\n            'The \"${ $.template }\" template requested by  the \"${$.component}\" component started loading.',\n        templateLoadedFromServer:\n            'The \"${ $.template }\" template requested by the \"${$.component}\" component  was loaded from server.\"',\n        templateLoadedFromCache:\n            'The \"${ $.template }\" template  requested by the \"${$.component}\" component was loaded from cache.\"',\n        templateLoadingFail: 'Failed to load the \"${ $.template }\" template requested by \"${$.component}\".',\n        componentStartInitialization:\n            'Component \"${$.component}\" start initialization with instance name \"${$.componentName}\".',\n        componentStartLoading: ' Started loading the \"${$.component}\" component.',\n        componentFinishLoading: 'The \"${$.component}\" component was loaded.',\n        componentLoadingFail: 'Failed to load the \"${$.component}\" component.',\n        depsLoadingFail: 'Could not get the declared \"${$.deps}\" dependency for the \"${$.component}\" instance.',\n        depsStartRequesting: 'Requesting the \"${$.deps}\" dependency for the \"${$.component}\" instance.',\n        depsFinishRequesting: 'The \"${$.deps}\" dependency for the \"${$.component}\" instance was received.',\n        requestingComponent: 'Requesting the \"${$.component}\" component.',\n        requestingComponentIsLoaded: 'The requested \"${$.component}\" component was received.',\n        requestingComponentIsFailed: 'Could not get the requested \"${$.component}\" component.'\n    };\n\n    return {\n        /**\n         * Returns message that matches the provided code.\n         *\n         * @param {String} code - Message's identifier\n         * @returns {String}\n         */\n        getMessage: function (code) {\n            return MESSAGES[code];\n        },\n\n        /**\n         * Adds a new message to the poll.\n         *\n         * @param {String} code - Message's identifier.\n         * @param {String} message - Text of the message\n         */\n        addMessage: function (code, message) {\n            MESSAGES[code] = message;\n        },\n\n        /**\n         * Tells whether message with provide code exists in the poll.\n         *\n         * @param {String} code - Message's identifier.\n         * @returns {Boolean}\n         */\n        hasMessage: function (code) {\n            return MESSAGES.hasOwnProperty(code);\n        }\n    };\n});\n","Magento_Ui/js/lib/logger/entry-factory.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    './entry'\n], function (LogEntry) {\n    'use strict';\n\n    return {\n        /**\n         * @param {String} message\n         * @param {Number} level\n         * @param {Object} [messageData]\n         * @returns {LogEntry}\n         */\n        createEntry: function (message, level, messageData) {\n            return new LogEntry(message, level, messageData);\n        }\n    };\n});\n","Magento_Ui/js/lib/logger/entry.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    './levels-pool'\n], function (logLevels) {\n    'use strict';\n\n    /**\n     * @param {String} message\n     * @param {Number} level\n     * @param {Object} [data]\n     */\n    function LogEntry(message, level, data) {\n        /**\n         * @readonly\n         * @type {Number}\n         */\n        this.timestamp = Date.now();\n\n        /**\n         * @readonly\n         * @type {Number}\n         */\n        this.level = level;\n\n        /**\n         * @readonly\n         * @type {String}\n         */\n        this.levelName = logLevels.getNameByCode(level);\n\n        /**\n         * @readonly\n         * @type {Object}\n         */\n        this.data = data;\n\n        /**\n         * @readonly\n         * @type {String}\n         */\n        this.message = message;\n    }\n\n    return LogEntry;\n});\n","Magento_Ui/js/lib/logger/logger.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    './levels-pool'\n], function (logLevels) {\n    'use strict';\n\n    var levels = logLevels.getLevels();\n\n    /**\n     * @param {LogOutputHandler} outputHandler\n     * @param {LogEntryFactory} entryFactory\n     */\n    function Logger(outputHandler, entryFactory) {\n        /**\n         * An array of log entries.\n         *\n         * @protected\n         * @type {Array<LogEntry>}\n         */\n        this.entries_ = [];\n\n        /**\n         * Current display level.\n         *\n         * @protected\n         * @type {Number}\n         */\n        this.displayLevel_ = levels.ERROR;\n\n        /**\n         * An array of display criteria.\n         *\n         * @protected\n         * @type {Array<LogCriteria>}\n         */\n        this.displayCriteria_ = [];\n\n        /**\n         * @protected\n         * @type {LogEntryFactory}\n         */\n        this.entryFactory_ = entryFactory;\n\n        /**\n         * @protected\n         * @type {Array<LogOutputHandler>}\n         */\n        this.outputHandlers_ = [outputHandler];\n\n        this.addDisplayCriteria(this.matchesLevel_);\n    }\n\n    /**\n     * Swaps current display level with the provided one.\n     *\n     * @param {Number} level - Level's code.\n     */\n    Logger.prototype.setDisplayLevel = function (level) {\n        var levelName = logLevels.getNameByCode(level);\n\n        if (!levelName) {\n            throw new TypeError('The provided level is not defined in the levels list.');\n        }\n\n        this.displayLevel_ = level;\n    };\n\n    /**\n     * Sets up the criteria by which log entries will be filtered out from the output.\n     *\n     * @param {LogCriteria} criteria\n     */\n    Logger.prototype.addDisplayCriteria = function (criteria) {\n        this.displayCriteria_.push(criteria);\n    };\n\n    /**\n     * Removes previously defined criteria.\n     *\n     * @param {LogCriteria} criteria\n     */\n    Logger.prototype.removeDisplayCriteria = function (criteria) {\n        var index = this.displayCriteria_.indexOf(criteria);\n\n        if (~index) {\n            this.displayCriteria_.splice(index, 1);\n        }\n    };\n\n    /**\n     * @param {String} message\n     * @param {Object} [messageData]\n     * @returns {LogEntry}\n     */\n    Logger.prototype.error = function (message, messageData) {\n        return this.log_(message, levels.ERROR, messageData);\n    };\n\n    /**\n     * @param {String} message\n     * @param {Object} [messageData]\n     * @returns {LogEntry}\n     */\n    Logger.prototype.warn = function (message, messageData) {\n        return this.log_(message, levels.WARN, messageData);\n    };\n\n    /**\n     * @param {String} message\n     * @param {Object} [messageData]\n     * @returns {LogEntry}\n     */\n    Logger.prototype.info = function (message, messageData) {\n        return this.log_(message, levels.INFO, messageData);\n    };\n\n    /**\n     * @param {String} message\n     * @param {Object} [messageData]\n     * @returns {LogEntry}\n     */\n    Logger.prototype.debug = function (message, messageData) {\n        return this.log_(message, levels.DEBUG, messageData);\n    };\n\n    /**\n     * @protected\n     * @param {String} message\n     * @param {Number} level\n     * @param {Object} [messageData]\n     * @returns {LogEntry}\n     */\n    Logger.prototype.log_ = function (message, level, messageData) {\n        var entry = this.createEntry_(message, level, messageData);\n\n        this.entries_.push(entry);\n\n        if (this.matchesCriteria_(entry)) {\n            this.processOutput_(entry);\n        }\n\n        return entry;\n    };\n\n    /**\n     * @protected\n     * @param {String} message\n     * @param {Number} level\n     * @param {Object} [messageData]\n     * @returns {LogEntry}\n     */\n    Logger.prototype.createEntry_ = function (message, level, messageData) {\n        return this.entryFactory_.createEntry(message, level, messageData);\n    };\n\n    /**\n     * Returns an array of log entries that have been added to the logger.\n     *\n     * @param {LogCriteria} [criteria] - Optional filter criteria.\n     * @returns {Array<LogEntry>}\n     */\n    Logger.prototype.getEntries = function (criteria) {\n        if (criteria) {\n            return this.entries_.filter(criteria);\n        }\n\n        return this.entries_;\n    };\n\n    /**\n     * @param {LogCriteria} [criteria]\n     */\n    Logger.prototype.dump = function (criteria) {\n        var entries;\n\n        if (!criteria) {\n            criteria = this.matchesCriteria_;\n        }\n\n        entries = this.entries_.filter(criteria, this);\n\n        this.outputHandlers_.forEach(function (handler) {\n            handler.dump(entries);\n        });\n    };\n\n    /**\n     * @protected\n     * @param {LogEntry} entry\n     */\n    Logger.prototype.processOutput_ = function (entry) {\n        this.outputHandlers_.forEach(function (handler) {\n            handler.show(entry);\n        });\n    };\n\n    /**\n     * @protected\n     * @param {LogEntry} entry\n     * @returns {Boolean}\n     */\n    Logger.prototype.matchesCriteria_ = function (entry) {\n        return this.displayCriteria_.every(function (criteria) {\n            return criteria.call(this, entry);\n        }, this);\n    };\n\n    /**\n     * Checks that the level of provided entry passes the \"displayLevel_\" threshold.\n     *\n     * @protected\n     * @param {LogEntry} entry - Entry to be checked.\n     * @returns {Boolean}\n     */\n    Logger.prototype.matchesLevel_ = function (entry) {\n        return entry.level <= this.displayLevel_;\n    };\n\n    return Logger;\n});\n","Magento_Ui/js/lib/logger/console-logger.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    './logger',\n    './entry-factory',\n    './console-output-handler',\n    './formatter',\n    './message-pool',\n    './levels-pool',\n    'Magento_Ui/js/lib/core/storage/local',\n    'underscore',\n    './logger-utils'\n], function (Logger, entryFactory, ConsoleHandler, Formatter, messagePoll, levelsPoll, storage, _, LoggerUtils) {\n    'use strict';\n\n    var STORAGE_NAMESPACE = 'CONSOLE_LOGGER';\n\n    /**\n     * Singleton Logger's sub-class instance of which is configured to display its\n     * messages to the console. It also provides the support of predefined messages\n     * and persists its display level.\n     */\n    function ConsoleLogger() {\n        var formatter = new Formatter(),\n            consoleHandler = new ConsoleHandler(formatter),\n            savedLevel = storage.get(STORAGE_NAMESPACE),\n            utils = new LoggerUtils(this);\n\n        Logger.call(this, consoleHandler, entryFactory);\n\n        if (savedLevel) {\n            this.displayLevel_ = savedLevel;\n        }\n\n        this.utils = utils;\n        this.messages = messagePoll;\n        this.levels = levelsPoll.getLevels();\n    }\n\n    _.extend(ConsoleLogger, Logger);\n\n    ConsoleLogger.prototype = Object.create(Logger.prototype);\n    ConsoleLogger.prototype.constructor = ConsoleLogger;\n\n    /**\n     * Overrides parent method to save the provided display level.\n     *\n     * @override\n     */\n    ConsoleLogger.prototype.setDisplayLevel = function (level) {\n        Logger.prototype.setDisplayLevel.call(this, level);\n\n        storage.set(STORAGE_NAMESPACE, level);\n    };\n\n    /**\n     * Adds the support of predefined messages.\n     *\n     * @protected\n     * @override\n     */\n    ConsoleLogger.prototype.createEntry_ = function (message, level, data) {\n        var code;\n\n        if (messagePoll.hasMessage(message)) {\n            data = data || {};\n            code = message;\n            message = messagePoll.getMessage(code);\n\n            data.messageCode = code;\n        }\n\n        return Logger.prototype.createEntry_.call(this, message, level, data);\n    };\n\n    return new ConsoleLogger();\n});\n","Magento_Ui/js/lib/logger/formatter.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'moment',\n    'mage/utils/template'\n], function (moment, mageTemplate) {\n    'use strict';\n\n    /**\n     * @param {String} dateFormat\n     * @param {String} template\n     */\n    function LogFormatter(dateFormat, template) {\n        /**\n         * @protected\n         * @type {String}\n         */\n        this.dateFormat_ = 'YYYY-MM-DD hh:mm:ss';\n\n        /**\n         * @protected\n         * @type {String}\n         */\n        this.template_ = '[${ $.date }] [${ $.entry.levelName }] ${ $.message }';\n\n        if (dateFormat) {\n            this.dateFormat_ = dateFormat;\n        }\n\n        if (template) {\n            this.template_ = template;\n        }\n    }\n\n    /**\n     * @param {LogEntry} entry\n     * @returns {String}\n     */\n    LogFormatter.prototype.process = function (entry) {\n        var message = mageTemplate.template(entry.message, entry.data),\n            date = moment(entry.timestamp).format(this.dateFormat_);\n\n        return mageTemplate.template(this.template_, {\n            date: date,\n            entry: entry,\n            message: message\n        });\n    };\n\n    return LogFormatter;\n});\n","Magento_Ui/js/lib/registry/registry.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'underscore'\n], function ($, _) {\n    'use strict';\n\n    var privateData = new WeakMap();\n\n    /**\n     * Extracts private item storage associated\n     * with a provided registry instance.\n     *\n     * @param {Object} container\n     * @returns {Object}\n     */\n    function getItems(container) {\n        return privateData.get(container).items;\n    }\n\n    /**\n     * Extracts private requests array associated\n     * with a provided registry instance.\n     *\n     * @param {Object} container\n     * @returns {Array}\n     */\n    function getRequests(container) {\n        return privateData.get(container).requests;\n    }\n\n    /**\n     * Wrapper function used for convenient access to the elements.\n     * See 'async' method for examples of usage and comparison\n     * with a regular 'get' method.\n     *\n     * @param {(String|Object|Function)} name - Key of the requested element.\n     * @param {Registry} registry - Instance of a registry\n     *      where to search for the element.\n     * @param {(Function|String)} [method] - Optional callback function\n     *      or a name of the elements' method which\n     *      will be invoked when element is available in registry.\n     * @returns {*}\n     */\n    function async(name, registry, method) {\n        var args = _.toArray(arguments).slice(3);\n\n        if (_.isString(method)) {\n            registry.get(name, function (component) {\n                component[method].apply(component, args);\n            });\n        } else if (_.isFunction(method)) {\n            registry.get(name, method);\n        } else if (!args.length) {\n            return registry.get(name);\n        }\n    }\n\n    /**\n     * Checks that every property of the query object\n     * is present and equal to the corresponding\n     * property in target object.\n     * Note that non-strict comparison is used.\n     *\n     * @param {Object} query - Query object.\n     * @param {Object} target - Target object.\n     * @returns {Boolean}\n     */\n    function compare(query, target) {\n        var matches = true,\n            index,\n            keys,\n            key;\n\n        if (!_.isObject(query) || !_.isObject(target)) {\n            return false;\n        }\n\n        keys = Object.getOwnPropertyNames(query);\n        index = keys.length;\n\n        while (matches && index--) {\n            key = keys[index];\n\n            /* eslint-disable eqeqeq */\n            if (target[key] != query[key]) {\n                matches = false;\n            }\n\n            /* eslint-enable eqeqeq */\n        }\n\n        return matches;\n    }\n\n    /**\n     * Explodes incoming string into object if\n     * string is defined as a set of key = value pairs.\n     *\n     * @param {(String|*)} query - String to be processed.\n     * @returns {Object|*} Either created object or an unmodified incoming\n     *      value if conversion was not possible.\n     * @example Sample conversions.\n     *      'key = value, key2 = value2'\n     *      => {key: 'value', key2: 'value2'}\n     */\n    function explode(query) {\n        var result = {},\n            index,\n            data;\n\n        if (typeof query !== 'string' || !~query.indexOf('=')) {\n            return query;\n        }\n\n        query = query.split(',');\n        index = query.length;\n\n        while (index--) {\n            data = query[index].split('=');\n\n            result[data[0].trim()] = data[1].trim();\n        }\n\n        return result;\n    }\n\n    /**\n     * Extracts items from the provided data object\n     * which matches specified search criteria.\n     *\n     * @param {Object} data - Data object where to perform a lookup.\n     * @param {(String|Object|Function)} query - Search criteria.\n     * @param {Boolean} findAll - Flag that defines whether to\n     *      search for all applicable items or to stop on a first found entry.\n     * @returns {Array|Object|*}\n     */\n    function find(data, query, findAll) {\n        var iterator,\n            item;\n\n        query = explode(query);\n\n        if (typeof query === 'string') {\n            item = data[query];\n\n            if (findAll) {\n                return item ? [item] : [];\n            }\n\n            return item;\n        }\n\n        iterator = !_.isFunction(query) ?\n            compare.bind(null, query) :\n            query;\n\n        return findAll ?\n            _.filter(data, iterator) :\n            _.find(data, iterator);\n    }\n\n    /**\n     * @constructor\n     */\n    function Registry() {\n        var data = {\n            items: {},\n            requests: []\n        };\n\n        this._updateRequests = _.debounce(this._updateRequests.bind(this), 10);\n        privateData.set(this, data);\n    }\n\n    Registry.prototype = {\n        constructor: Registry,\n\n        /**\n         * Retrieves item from registry which matches specified search criteria.\n         *\n         * @param {(Object|String|Function|Array)} query - Search condition (see examples).\n         * @param {Function} [callback] - Callback that will be invoked when\n         *      all of the requested items are available.\n         * @returns {*}\n         *\n         * @example Requesting item by it's name.\n         *      var obj = {index: 'test', sample: true};\n         *\n         *      registry.set('first', obj);\n         *      registry.get('first') === obj;\n         *      => true\n         *\n         * @example Requesting item with a specific properties.\n         *      registry.get('sample = 1, index = test') === obj;\n         *      => true\n         *      registry.get('sample = 0, index = foo') === obj;\n         *      => false\n         *\n         * @example Declaring search criteria as an object.\n         *      registry.get({sample: true}) === obj;\n         *      => true;\n         *\n         * @example Providing custom search handler.\n         *      registry.get(function (item) { return item.sample === true; }) === obj;\n         *      => true\n         *\n         * @example Sample asynchronous request declaration.\n         *      registry.get('index = test', function (item) {});\n         *\n         * @example Requesting multiple elements.\n         *      registry.set('second', {index: 'test2'});\n         *      registry.get(['first', 'second'], function (first, second) {});\n         */\n        get: function (query, callback) {\n            if (typeof callback !== 'function') {\n                return find(getItems(this), query);\n            }\n\n            this._addRequest(query, callback);\n        },\n\n        /**\n         * Sets provided item to the registry.\n         *\n         * @param {String} id - Item's identifier.\n         * @param {*} item - Item's data.\n         * returns {Registry} Chainable.\n         */\n        set: function (id, item) {\n            getItems(this)[id] = item;\n\n            this._updateRequests();\n\n            return this;\n        },\n\n        /**\n         * Removes specified item from registry.\n         * Note that search query is not applicable.\n         *\n         * @param {String} id - Item's identifier.\n         * @returns {Registry} Chainable.\n         */\n        remove: function (id) {\n            delete getItems(this)[id];\n\n            return this;\n        },\n\n        /**\n         * Retrieves a collection of elements that match\n         * provided search criteria.\n         *\n         * @param {(Object|String|Function)} query - Search query.\n         *      See 'get' method for the syntax examples.\n         * @returns {Array} Found elements.\n         */\n        filter: function (query) {\n            return find(getItems(this), query, true);\n        },\n\n        /**\n         * Checks that at least one element in collection\n         * matches provided search criteria.\n         *\n         * @param {(Object|String|Function)} query - Search query.\n         *      See 'get' method for the syntax examples.\n         * @returns {Boolean}\n         */\n        has: function (query) {\n            return !!this.get(query);\n        },\n\n        /**\n         * Checks that registry contains a provided item.\n         *\n         * @param {*} item - Item to be checked.\n         * @returns {Boolean}\n         */\n        contains: function (item) {\n            return _.contains(getItems(this), item);\n        },\n\n        /**\n         * Extracts identifier of an item if it's present in registry.\n         *\n         * @param {*} item - Item whose identifier will be extracted.\n         * @returns {String|Undefined}\n         */\n        indexOf: function (item) {\n            return _.findKey(getItems(this), function (elem) {\n                return item === elem;\n            });\n        },\n\n        /**\n         * Same as a 'get' method except that it returns\n         * a promise object instead of invoking provided callback.\n         *\n         * @param {(String|Function|Object|Array)} query - Search query.\n         *      See 'get' method for the syntax examples.\n         * @returns {jQueryPromise}\n         */\n        promise: function (query) {\n            var defer    = $.Deferred(),\n                callback = defer.resolve.bind(defer);\n\n            this.get(query, callback);\n\n            return defer.promise();\n        },\n\n        /**\n         * Creates a wrapper function over the provided search query\n         * in order to provide somehow more convenient access to the\n         * registry's items.\n         *\n         * @param {(String|Object|Function)} query - Search criteria.\n         *      See 'get' method for the syntax examples.\n         * @returns {Function}\n         *\n         * @example Comparison with a 'get' method on retrieving items.\n         *      var module = registry.async('name');\n         *\n         *      module();\n         *      => registry.get('name');\n         *\n         * @example Asynchronous request.\n         *      module(function (component) {});\n         *      => registry.get('name', function (component) {});\n         *\n         * @example Requesting item and invoking it's method with specified parameters.\n         *      module('trigger', true);\n         *      => registry.get('name', function (component) {\n         *          component.trigger(true);\n         *      });\n         */\n        async: function (query) {\n            return async.bind(null, query, this);\n        },\n\n        /**\n         * Creates new instance of a Registry.\n         *\n         * @returns {Registry} New instance.\n         */\n        create: function () {\n            return new Registry;\n        },\n\n        /**\n         * Adds new request to the queue or resolves it immediately\n         * if all of the required items are available.\n         *\n         * @private\n         * @param {(Object|String|Function|Array)} queries - Search criteria.\n         *      See 'get' method for the syntax examples.\n         * @param {Function} callback - Callback that will be invoked when\n         *      all of the requested items are available.\n         * @returns {Registry}\n         */\n        _addRequest: function (queries, callback) {\n            var request;\n\n            if (!Array.isArray(queries)) {\n                queries = queries ? [queries] : [];\n            }\n\n            request = {\n                queries: queries.map(explode),\n                callback: callback\n            };\n\n            this._canResolve(request) ?\n                this._resolveRequest(request) :\n                getRequests(this).push(request);\n\n            return this;\n        },\n\n        /**\n         * Updates requests list resolving applicable items.\n         *\n         * @private\n         * @returns {Registry} Chainable.\n         */\n        _updateRequests: function () {\n            getRequests(this)\n                .filter(this._canResolve, this)\n                .forEach(this._resolveRequest, this);\n\n            return this;\n        },\n\n        /**\n         * Resolves provided request invoking it's callback\n         * with items specified in query parameters.\n         *\n         * @private\n         * @param {Object} request - Request object.\n         * @returns {Registry} Chainable.\n         */\n        _resolveRequest: function (request) {\n            var requests = getRequests(this),\n                items    = request.queries.map(this.get, this),\n                index    = requests.indexOf(request);\n\n            request.callback.apply(null, items);\n\n            if (~index) {\n                requests.splice(index, 1);\n            }\n\n            return this;\n        },\n\n        /**\n         * Checks if provided request can be resolved.\n         *\n         * @private\n         * @param {Object} request - Request object.\n         * @returns {Boolean}\n         */\n        _canResolve: function (request) {\n            var queries = request.queries;\n\n            return queries.every(this.has, this);\n        }\n    };\n\n    return new Registry;\n});\n","Magento_Ui/js/lib/core/class.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'underscore',\n    'mageUtils',\n    'mage/utils/wrapper'\n], function (_, utils, wrapper) {\n    'use strict';\n\n    var Class;\n\n    /**\n     * Returns property of an object if\n     * it's his own property.\n     *\n     * @param {Object} obj - Object whose property should be retrieved.\n     * @param {String} prop - Name of the property.\n     * @returns {*} Value of the property or false.\n     */\n    function getOwn(obj, prop) {\n        return _.isObject(obj) && obj.hasOwnProperty(prop) && obj[prop];\n    }\n\n    /**\n     * Creates constructor function which allows\n     * initialization without usage of a 'new' operator.\n     *\n     * @param {Object} protoProps - Prototypal properties of a new constructor.\n     * @param {Function} constructor\n     * @returns {Function} Created constructor.\n     */\n    function createConstructor(protoProps, constructor) {\n        var UiClass = constructor;\n\n        if (!UiClass) {\n\n            /**\n             * Default constructor function.\n             */\n            UiClass = function () {\n                var obj = this;\n\n                if (!_.isObject(obj) || Object.getPrototypeOf(obj) !== UiClass.prototype) {\n                    obj = Object.create(UiClass.prototype);\n                }\n\n                obj.initialize.apply(obj, arguments);\n\n                return obj;\n            };\n        }\n\n        UiClass.prototype = protoProps;\n        UiClass.prototype.constructor = UiClass;\n\n        return UiClass;\n    }\n\n    Class = createConstructor({\n\n        /**\n         * Entry point to the initialization of constructor's instance.\n         *\n         * @param {Object} [options={}]\n         * @returns {Class} Chainable.\n         */\n        initialize: function (options) {\n            this.initConfig(options);\n\n            return this;\n        },\n\n        /**\n         * Recursively extends data specified in constructors' 'defaults'\n         * property with provided options object. Evaluates resulting\n         * object using string templates (see: mage/utils/template.js).\n         *\n         * @param {Object} [options={}]\n         * @returns {Class} Chainable.\n         */\n        initConfig: function (options) {\n            var defaults    = this.constructor.defaults,\n                config      = utils.extend({}, defaults, options || {}),\n                ignored     = config.ignoreTmpls || {},\n                cached      = utils.omit(config, ignored);\n\n            config = utils.template(config, this, false, true);\n\n            _.each(cached, function (value, key) {\n                utils.nested(config, key, value);\n            });\n\n            return _.extend(this, config);\n        }\n    });\n\n    _.extend(Class, {\n        defaults: {\n            ignoreTmpls: {\n                templates: true\n            }\n        },\n\n        /**\n         * Creates new constructor based on a current prototype properties,\n         * extending them with properties specified in 'exender' object.\n         *\n         * @param {Object} [extender={}]\n         * @returns {Function} New constructor.\n         */\n        extend: function (extender) {\n            var parent      = this,\n                parentProto = parent.prototype,\n                childProto  = Object.create(parentProto),\n                child       = createConstructor(childProto, getOwn(extender, 'constructor')),\n                defaults;\n\n            extender = extender || {};\n            defaults = extender.defaults;\n\n            delete extender.defaults;\n\n            _.each(extender, function (method, name) {\n                childProto[name] = wrapper.wrapSuper(parentProto[name], method);\n            });\n\n            child.defaults = utils.extend({}, parent.defaults || {});\n\n            if (defaults) {\n                utils.extend(child.defaults, defaults);\n                extender.defaults = defaults;\n            }\n\n            return _.extend(child, {\n                __super__:  parentProto,\n                extend:     parent.extend\n            });\n        }\n    });\n\n    return Class;\n});\n","Magento_Ui/js/lib/core/collection.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'mageUtils',\n    'uiRegistry',\n    'uiElement'\n], function (_, utils, registry, Element) {\n    'use strict';\n\n    /**\n     * Removes non plain object items from the specified array.\n     *\n     * @param {Array} container - Array whose value should be filtered.\n     * @returns {Array}\n     */\n    function compact(container) {\n        return _.values(container).filter(utils.isObject);\n    }\n\n    /**\n     * Defines index of an item in a specified container.\n     *\n     * @param {*} item - Item whose index should be defined.\n     * @param {Array} container - Container upon which to perform search.\n     * @returns {Number}\n     */\n    function _findIndex(item, container) {\n        var index = _.findKey(container, function (value) {\n            return value === item;\n        });\n\n        if (typeof index === 'undefined') {\n            index = _.findKey(container, function (value) {\n                return value && value.name === item;\n            });\n        }\n\n        return typeof index === 'undefined' ? -1 : index;\n    }\n\n    /**\n     * Inserts specified item into container at a specified position.\n     *\n     * @param {*} item - Item to be inserted into container.\n     * @param {Array} container - Container of items.\n     * @param {*} [position=-1] - Position at which item should be inserted.\n     *      Position can represent:\n     *          - specific index in container\n     *          - item which might already be present in container\n     *          - structure with one of these properties: after, before\n     * @returns {Boolean|*}\n     *      - true if element has changed its' position\n     *      - false if nothing has changed\n     *      - inserted value if it wasn't present in container\n     */\n    function _insertAt(item, container, position) {\n        var currentIndex = _findIndex(item, container),\n            newIndex,\n            target;\n\n        if (typeof position === 'undefined') {\n            position = -1;\n        } else if (typeof position === 'string') {\n            position = isNaN(+position) ? position : +position;\n        }\n\n        newIndex = position;\n\n        if (~currentIndex) {\n            target = container.splice(currentIndex, 1)[0];\n\n            if (typeof item === 'string') {\n                item = target;\n            }\n        }\n\n        if (typeof position !== 'number') {\n            target = position.after || position.before || position;\n\n            newIndex = _findIndex(target, container);\n\n            if (~newIndex && (position.after || newIndex >= currentIndex)) {\n                newIndex++;\n            }\n        }\n\n        if (newIndex < 0) {\n            newIndex += container.length + 1;\n        }\n\n        container[newIndex] ?\n            container.splice(newIndex, 0, item) :\n            container[newIndex] = item;\n\n        return !~currentIndex ? item : currentIndex !== newIndex;\n    }\n\n    return Element.extend({\n        defaults: {\n            template: 'ui/collection',\n            _elems: [],\n            ignoreTmpls: {\n                childDefaults: true\n            }\n        },\n\n        /**\n         * Initializes observable properties.\n         *\n         * @returns {Model} Chainable.\n         */\n        initObservable: function () {\n            this._super()\n                .observe({\n                    elems: []\n                });\n\n            return this;\n        },\n\n        /**\n         * Called when another element was added to current component.\n         *\n         * @param {Object} elem - Instance of an element that was added.\n         * @returns {Collection} Chainable.\n         */\n        initElement: function (elem) {\n            elem.initContainer(this);\n\n            return this;\n        },\n\n        /**\n         * Returns instance of a child found by provided index.\n         *\n         * @param {String} index - Index of a child.\n         * @returns {Object}\n         */\n        getChild: function (index) {\n            return _.findWhere(this.elems(), {\n                index: index\n            });\n        },\n\n        /**\n         * Requests specified components to insert\n         * them into 'elems' array starting from provided position.\n         *\n         * @param {(String|Array)} elems - Name of the component to insert.\n         * @param {Number} [position=-1] - Position at which to insert elements.\n         * @returns {Collection} Chainable.\n         */\n        insertChild: function (elems, position) {\n            var container   = this._elems,\n                insert      = this._insert.bind(this),\n                update;\n\n            if (!Array.isArray(elems)) {\n                elems = [elems];\n            }\n\n            elems.map(function (item) {\n                return item.elem ?\n                    _insertAt(item.elem, container, item.position) :\n                    _insertAt(item, container, position);\n            }).forEach(function (item) {\n                if (item === true) {\n                    update = true;\n                } else if (_.isString(item)) {\n                    registry.get(item, insert);\n                } else if (utils.isObject(item)) {\n                    insert(item);\n                }\n            });\n\n            if (update) {\n                this._updateCollection();\n            }\n\n            return this;\n        },\n\n        /**\n         * Removes specified child from collection.\n         *\n         * @param {(Object|String)} elem - Child or index of a child to be removed.\n         * @param {Boolean} skipUpdate - skip collection update when element to be destroyed.\n         *\n         * @returns {Collection} Chainable.\n         */\n        removeChild: function (elem, skipUpdate) {\n            if (_.isString(elem)) {\n                elem = this.getChild(elem);\n            }\n\n            if (elem) {\n                utils.remove(this._elems, elem);\n\n                if (!skipUpdate) {\n                    this._updateCollection();\n                }\n            }\n\n            return this;\n        },\n\n        /**\n         * Destroys collection children with its' elements.\n         */\n        destroyChildren: function () {\n            this.elems.each(function (elem) {\n                elem.destroy(true);\n            });\n\n            this._updateCollection();\n        },\n\n        /**\n         * Clear data. Call method \"clear\"\n         * in child components\n         *\n         * @returns {Object} Chainable.\n         */\n        clear: function () {\n            var elems = this.elems();\n\n            _.each(elems, function (elem) {\n                if (_.isFunction(elem.clear)) {\n                    elem.clear();\n                }\n            }, this);\n\n            return this;\n        },\n\n        /**\n         * Checks if specified child exists in collection.\n         *\n         * @param {String} index - Index of a child.\n         * @returns {Boolean}\n         */\n        hasChild: function (index) {\n            return !!this.getChild(index);\n        },\n\n        /**\n         * Creates 'async' wrapper for the specified child\n         * using uiRegistry 'async' method and caches it\n         * in a '_requested' components  object.\n         *\n         * @param {String} index - Index of a child.\n         * @returns {Function} Async module wrapper.\n         */\n        requestChild: function (index) {\n            var name = this.formChildName(index);\n\n            return this.requestModule(name);\n        },\n\n        /**\n         * Creates complete child name based on a provided index.\n         *\n         * @param {String} index - Index of a child.\n         * @returns {String}\n         */\n        formChildName: function (index) {\n            return this.name + '.' + index;\n        },\n\n        /**\n         * Retrieves requested region.\n         * Creates region if it was not created yet\n         *\n         * @returns {ObservableArray}\n         */\n        getRegion: function (name) {\n            var regions = this.regions = this.regions || {};\n\n            if (!regions[name]) {\n                regions[name] = [];\n\n                this.observe.call(regions, name);\n            }\n\n            return regions[name];\n        },\n\n        /**\n         * Checks if the specified region has any elements\n         * associated with it.\n         *\n         * @param {String} name\n         * @returns {Boolean}\n         */\n        regionHasElements: function (name) {\n            var region = this.getRegion(name);\n\n            return region().length > 0;\n        },\n\n        /**\n         * Replaces specified regions' data with a provided one.\n         * Creates region if it was not created yet.\n         *\n         * @param {Array} items - New regions' data.\n         * @param {String} name - Name of the region.\n         * @returns {Collection} Chainable.\n         */\n        updateRegion: function (items, name) {\n            this.getRegion(name)(items);\n\n            return this;\n        },\n\n        /**\n         * Destroys collection along with its' elements.\n         */\n        destroy: function () {\n            this._super();\n\n            this.elems.each('destroy');\n        },\n\n        /**\n         * Inserts provided component into 'elems' array at a specified position.\n         * @private\n         *\n         * @param {Object} elem - Element to insert.\n         */\n        _insert: function (elem) {\n            var index = _.findKey(this._elems, function (value) {\n                return value === elem.name;\n            });\n\n            if (typeof index !== 'undefined') {\n                this._elems[index] = elem;\n            }\n\n            this._updateCollection()\n                .initElement(elem);\n        },\n\n        /**\n         * Synchronizes multiple elements arrays with a core '_elems' container.\n         * Performs elemets grouping by theirs 'displayArea' property.\n         * @private\n         *\n         * @returns {Collection} Chainable.\n         */\n        _updateCollection: function () {\n            var _elems = compact(this._elems),\n                grouped;\n\n            grouped = _elems.filter(function (elem) {\n                return elem.displayArea && _.isString(elem.displayArea);\n            });\n            grouped = _.groupBy(grouped, 'displayArea');\n\n            _.each(grouped, this.updateRegion, this);\n\n            _.each(this.regions, function (items) {\n                var hasObsoleteComponents = items().length && !_.intersection(_elems, items()).length;\n\n                if (hasObsoleteComponents) {\n                    items.removeAll();\n                }\n            });\n\n            this.elems(_elems);\n\n            return this;\n        },\n\n        /**\n         * Tries to call specified method of a current component,\n         * otherwise delegates attempt to its' children.\n         *\n         * @param {String} target - Name of the method.\n         * @param {...*} parameters - Arguments that will be passed to method.\n         * @returns {*} Result of the method calls.\n         */\n        delegate: function (target) {\n            var args = _.toArray(arguments);\n\n            target = this[target];\n\n            if (_.isFunction(target)) {\n                return target.apply(this, args.slice(1));\n            }\n\n            return this._delegate(args);\n        },\n\n        /**\n         * Calls 'delegate' method of all of it's children components.\n         * @private\n         *\n         * @param {Array} args - An array of arguments to pass to the next delegation call.\n         * @returns {Array} An array of delegation results.\n         */\n        _delegate: function (args) {\n            var result;\n\n            result = this.elems.map(function (elem) {\n                var target;\n\n                if (!_.isFunction(elem.delegate)) {\n                    target = elem[args[0]];\n\n                    if (_.isFunction(target)) {\n                        return target.apply(elem, args.slice(1));\n                    }\n                } else {\n                    return elem.delegate.apply(elem, args);\n                }\n            });\n\n            return _.flatten(result);\n        }\n    });\n});\n","Magento_Ui/js/lib/core/events.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'ko',\n    'underscore'\n], function (ko, _) {\n    'use strict';\n\n    var eventsMap = new WeakMap();\n\n    /**\n     * Returns events map or a specific event\n     * data associated with a provided object.\n     *\n     * @param {Object} obj - Key in the events weakmap.\n     * @param {String} [name] - Name of the event.\n     * @returns {Map|Array|Boolean}\n     */\n    function getEvents(obj, name) {\n        var events = eventsMap.get(obj);\n\n        if (!events) {\n            return false;\n        }\n\n        return name ? events.get(name) : events;\n    }\n\n    /**\n     * Adds new event handler.\n     *\n     * @param {Object} obj - Key in the events weakmap.\n     * @param {String} ns - Callback namespace.\n     * @param {Function} callback - Event callback.\n     * @param {String} name - Name of the event.\n     */\n    function addHandler(obj, ns, callback, name) {\n        var events      = getEvents(obj),\n            observable,\n            data;\n\n        observable = !ko.isObservable(obj[name]) ?\n            ko.getObservable(obj, name) :\n            obj[name];\n\n        if (observable) {\n            observable.subscribe(callback);\n\n            return;\n        }\n\n        if (!events) {\n            events = new Map();\n\n            eventsMap.set(obj, events);\n        }\n\n        data = {\n            callback: callback,\n            ns: ns\n        };\n\n        events.has(name) ?\n            events.get(name).push(data) :\n            events.set(name, [data]);\n    }\n\n    /**\n     * Invokes provided callbacks with a specified arguments.\n     *\n     * @param {Array} handlers\n     * @param {Array} args\n     * @returns {Boolean}\n     */\n    function trigger(handlers, args) {\n        var bubble = true,\n            callback;\n\n        handlers.forEach(function (handler) {\n            callback = handler.callback;\n\n            if (callback.apply(null, args) === false) {\n                bubble = false;\n            }\n        });\n\n        return bubble;\n    }\n\n    return {\n\n        /**\n         * Calls callback when name event is triggered.\n         * @param  {String}   events\n         * @param  {Function} callback\n         * @param  {Function} ns\n         * @return {Object} reference to this\n         */\n        on: function (events, callback, ns) {\n            var iterator;\n\n            if (arguments.length < 2) {\n                ns = callback;\n            }\n\n            iterator = addHandler.bind(null, this, ns);\n\n            _.isObject(events) ?\n                _.each(events, iterator) :\n                iterator(callback, events);\n\n            return this;\n        },\n\n        /**\n         * Removed callback from listening to target event\n         * @param  {String} ns\n         * @return {Object} reference to this\n         */\n        off: function (ns) {\n            var storage = getEvents(this);\n\n            if (!storage) {\n                return this;\n            }\n\n            storage.forEach(function (handlers, name) {\n                handlers = handlers.filter(function (handler) {\n                    return !ns ? false : handler.ns !== ns;\n                });\n\n                handlers.length ?\n                    storage.set(name, handlers) :\n                    storage.delete(name);\n            });\n\n            return this;\n        },\n\n        /**\n         * Triggers event and executes all attached callbacks.\n         *\n         * @param {String} name - Name of the event to be triggered.\n         * @returns {Boolean}\n         */\n        trigger: function (name) {\n            var handlers,\n                args;\n\n            handlers = getEvents(this, name),\n            args = _.toArray(arguments).slice(1);\n\n            if (!handlers || !name) {\n                return true;\n            }\n\n            return trigger(handlers, args);\n        }\n    };\n});\n","Magento_Ui/js/lib/core/storage/local.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'underscore',\n    'uiRegistry',\n    'mageUtils',\n    'uiEvents'\n], function (_, registry, utils, EventsBus) {\n    'use strict';\n\n    var root = 'appData',\n        localStorage,\n        hasSupport,\n        storage;\n\n    /**\n     * Flag which indicates whether localStorage is supported.\n     */\n    hasSupport = (function () {\n        var key = '_storageSupported';\n\n        try {\n            localStorage = window.localStorage;\n            localStorage.setItem(key, 'true');\n\n            if (localStorage.getItem(key) === 'true') {\n                localStorage.removeItem(key);\n\n                return true;\n            }\n\n            return false;\n        } catch (e) {\n            return false;\n        }\n    })();\n\n    if (!hasSupport) {\n        localStorage = {\n            _data: {},\n\n            /**\n             * Sets value of the specified item.\n             *\n             * @param {String} key - Key of the property.\n             * @param {*} value - Properties' value.\n             */\n            setItem: function (key, value) {\n                this._data[key] = value + '';\n            },\n\n            /**\n             * Retrieves specified item.\n             *\n             * @param {String} key - Key of the property to be retrieved.\n             */\n            getItem: function (key) {\n                return this._data[key];\n            },\n\n            /**\n             * Removes specified item.\n             *\n             * @param {String} key - Key of the property to be removed.\n             */\n            removeItem: function (key) {\n                delete this._data[key];\n            },\n\n            /**\n             * Removes all items.\n             */\n            clear: function () {\n                this._data = {};\n            }\n        };\n    }\n\n    /**\n     * Extracts and parses data stored in localStorage by the\n     * key specified in 'root' variable.\n     *\n     * @returns {Object}\n     */\n    function getRoot() {\n        var data = localStorage.getItem(root),\n            result = {};\n\n        if (!_.isNull(data) && typeof data != 'undefined') {\n            result = JSON.parse(data);\n        }\n\n        return result;\n    }\n\n    /**\n     * Writes provided data to the localStorage.\n     *\n     * @param {*} data - Data to be stored.\n     */\n    function setRoot(data) {\n        localStorage.setItem(root, JSON.stringify(data));\n    }\n\n    /**\n     * Provides methods to work with a localStorage\n     * as a single nested structure.\n     */\n    storage = _.extend({\n\n        /**\n         * Retrieves value of the specified property.\n         *\n         * @param {String} path - Path to the property.\n         *\n         * @example Retrieving data.\n         *      localStorage =>\n         *          'appData' => '\n         *              \"one\": {\"two\": \"three\"}\n         *          '\n         *      storage.get('one.two')\n         *      => \"three\"\n         *\n         *      storage.get('one')\n         *      => {\"two\": \"three\"}\n         */\n        get: function (path) {\n            var data = getRoot();\n\n            return utils.nested(data, path);\n        },\n\n        /**\n         * Sets specified data to the localStorage.\n         *\n         * @param {String} path - Path of the property.\n         * @param {*} value - Value of the property.\n         *\n         * @example Setting data.\n         *      storage.set('one.two', 'four');\n         *      => localStorage =>\n         *          'appData' => '\n         *              \"one\": {\"two\": \"four\"}\n         *          '\n         */\n        set: function (path, value) {\n            var data = getRoot();\n\n            utils.nested(data, path, value);\n\n            setRoot(data);\n        },\n\n        /**\n         * Removes specified data from the localStorage.\n         *\n         * @param {String} path - Path to the property that should be removed.\n         *\n         * @example Removing data.\n         *      storage.remove('one.two', 'four');\n         *      => localStorage =>\n         *          'appData' => '\n         *              \"one\": {}\n         *          '\n         */\n        remove: function (path) {\n            var data = getRoot();\n\n            utils.nestedRemove(data, path);\n\n            setRoot(data);\n        }\n    }, EventsBus);\n\n    registry.set('localStorage', storage);\n\n    return storage;\n});\n","Magento_Ui/js/lib/core/element/links.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'ko',\n    'underscore',\n    'mageUtils',\n    'uiRegistry'\n], function (ko, _, utils, registry) {\n    'use strict';\n\n    /**\n     * Parse provided data.\n     *\n     * @param {String} placeholder\n     * @param {String} data\n     * @param {String} direction\n     * @returns {Boolean|Object}\n     */\n    function parseData(placeholder, data, direction) {\n        if (typeof data !== 'string') {\n            return false;\n        }\n\n        data = data.split(':');\n\n        if (!data[0]) {\n            return false;\n        }\n\n        if (!data[1]) {\n            data[1] = data[0];\n            data[0] = placeholder;\n        }\n\n        return {\n            target: data[0],\n            property: data[1],\n            direction: direction\n        };\n    }\n\n    /**\n     * Check if value not empty.\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     */\n    function notEmpty(value) {\n        return typeof value !== 'undefined' && value != null;\n    }\n\n    /**\n     * Update value for linked component.\n     *\n     * @param {Object} data\n     * @param {Object} owner\n     * @param {Object} target\n     * @param {*} value\n     */\n    function updateValue(data, owner, target, value) {\n        var component = target.component,\n            property = target.property,\n            linked = data.linked;\n\n        if (data.mute) {\n            return;\n        }\n\n        if (linked) {\n            linked.mute = true;\n        }\n\n        if (owner.component !== target.component) {\n            value = data.inversionValue ? !utils.copy(value) : utils.copy(value);\n        }\n\n        component.set(property, value, owner);\n\n        if (property === 'disabled' && value) {\n            component.set('validate', value, owner);\n        }\n\n        if (linked) {\n            linked.mute = false;\n        }\n    }\n\n    /**\n     * Get value form owner component property.\n     *\n     * @param {Object} owner\n     * @returns {*}\n     */\n    function getValue(owner) {\n        var component = owner.component,\n            property = owner.property;\n\n        return component.get(property);\n    }\n\n    /**\n     * Format provided params to object.\n     *\n     * @param {String} ownerComponent\n     * @param {String} targetComponent\n     * @param {String} ownerProp\n     * @param {String} targetProp\n     * @param {String} direction\n     * @returns {Object}\n     */\n    function form(ownerComponent, targetComponent, ownerProp, targetProp, direction) {\n        var result,\n            tmp;\n\n        result = {\n            owner: {\n                component: ownerComponent,\n                property: ownerProp\n            },\n            target: {\n                component: targetComponent,\n                property: targetProp\n            }\n        };\n\n        if (direction === 'exports') {\n            tmp = result.owner;\n            result.owner = result.target;\n            result.target = tmp;\n        }\n\n        return result;\n    }\n\n    /**\n     * Set data to linked property.\n     *\n     * @param {Object} map\n     * @param {Object} data\n     */\n    function setLinked(map, data) {\n        var match;\n\n        if (!map) {\n            return;\n        }\n\n        match = _.findWhere(map, {\n            linked: false,\n            target: data.target,\n            property: data.property\n        });\n\n        if (match) {\n            match.linked = data;\n            data.linked = match;\n        }\n    }\n\n    /**\n     * Set data by direction.\n     *\n     * @param {Object} maps\n     * @param {String} property\n     * @param {Object} data\n     */\n    function setData(maps, property, data) {\n        var direction   = data.direction,\n            map         = maps[direction];\n\n        data.linked = false;\n\n        (map[property] = map[property] || []).push(data);\n\n        direction = direction === 'imports' ? 'exports' : 'imports';\n\n        setLinked(maps[direction][property], data);\n    }\n\n    /**\n     * Set links for components.\n     *\n     * @param {String} target\n     * @param {String} owner\n     * @param {Object} data\n     * @param {String} property\n     * @param {Boolean} immediate\n     */\n    function setLink(target, owner, data, property, immediate) {\n        var direction = data.direction,\n            formated = form(target, owner, data.property, property, direction),\n            callback,\n            value;\n\n        owner = formated.owner;\n        target = formated.target;\n\n        callback = updateValue.bind(null, data, owner, target);\n\n        owner.component.on(owner.property, callback, target.component.name);\n\n        if (immediate) {\n            value = getValue(owner);\n\n            if (notEmpty(value)) {\n                updateValue(data, owner, target, value);\n            }\n        }\n    }\n\n    /**\n     * Transfer data between components.\n     *\n     * @param {Object} owner\n     * @param {Object} data\n     */\n    function transfer(owner, data) {\n        var args = _.toArray(arguments);\n\n        if (data.target.substr(0, 1) === '!') {\n            data.target = data.target.substr(1);\n            data.inversionValue = true;\n        }\n\n        if (owner.name === data.target) {\n            args.unshift(owner);\n\n            setLink.apply(null, args);\n        } else {\n            registry.get(data.target, function (target) {\n                args.unshift(target);\n\n                setLink.apply(null, args);\n            });\n        }\n    }\n\n    return {\n        /**\n         * Assign listeners.\n         *\n         * @param {Object} listeners\n         * @returns {Object} Chainable\n         */\n        setListeners: function (listeners) {\n            var owner = this,\n                data;\n\n            _.each(listeners, function (callbacks, sources) {\n                sources = sources.split(' ');\n                callbacks = callbacks.split(' ');\n\n                sources.forEach(function (target) {\n                    callbacks.forEach(function (callback) {//eslint-disable-line max-nested-callbacks\n                        data = parseData(owner.name, target, 'imports');\n\n                        if (data) {\n                            setData(owner.maps, callback, data);\n                            transfer(owner, data, callback);\n                        }\n                    });\n                });\n            });\n\n            return this;\n        },\n\n        /**\n         * Set links in provided direction.\n         *\n         * @param {Object} links\n         * @param {String} direction\n         * @returns {Object} Chainable\n         */\n        setLinks: function (links, direction) {\n            var owner = this,\n                property,\n                data;\n\n            for (property in links) {\n                if (links.hasOwnProperty(property)) {\n                    data = parseData(owner.name, links[property], direction);\n\n                    if (data) {//eslint-disable-line max-depth\n                        setData(owner.maps, property, data);\n                        transfer(owner, data, property, true);\n                    }\n                }\n            }\n\n            return this;\n        }\n    };\n});\n","Magento_Ui/js/lib/core/element/element.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'ko',\n    'underscore',\n    'mageUtils',\n    'uiRegistry',\n    'uiEvents',\n    'uiClass',\n    './links',\n    '../storage/local'\n], function (ko, _, utils, registry, Events, Class, links) {\n    'use strict';\n\n    var Element;\n\n    /**\n     * Creates observable property using knockouts'\n     * 'observableArray' or 'observable' methods,\n     * depending on a type of 'value' parameter.\n     *\n     * @param {Object} obj - Object to whom property belongs.\n     * @param {String} key - Key of the property.\n     * @param {*} value - Initial value.\n     */\n    function observable(obj, key, value) {\n        var method = Array.isArray(value) ? 'observableArray' : 'observable';\n\n        if (_.isFunction(obj[key]) && !ko.isObservable(obj[key])) {\n            return;\n        }\n\n        if (ko.isObservable(value)) {\n            value = value();\n        }\n\n        ko.isObservable(obj[key]) ?\n            obj[key](value) :\n            obj[key] = ko[method](value);\n    }\n\n    /**\n     * Creates observable property using 'track' method.\n     *\n     * @param {Object} obj - Object to whom property belongs.\n     * @param {String} key - Key of the property.\n     * @param {*} value - Initial value.\n     */\n    function accessor(obj, key, value) {\n        if (_.isFunction(obj[key]) || ko.isObservable(obj[key])) {\n            return;\n        }\n\n        obj[key] = value;\n\n        if (!ko.es5.isTracked(obj, key)) {\n            ko.track(obj, [key]);\n        }\n    }\n\n    Element = _.extend({\n        defaults: {\n            _requested: {},\n            containers: [],\n            exports: {},\n            imports: {},\n            links: {},\n            listens: {},\n            name: '',\n            ns: '${ $.name.split(\".\")[0] }',\n            provider: '',\n            registerNodes: true,\n            source: null,\n            statefull: {},\n            template: '',\n            tracks: {},\n            storageConfig: {\n                provider: 'localStorage',\n                namespace: '${ $.name }',\n                path: '${ $.storageConfig.provider }:${ $.storageConfig.namespace }'\n            },\n            maps: {\n                imports: {},\n                exports: {}\n            },\n            modules: {\n                storage: '${ $.storageConfig.provider }'\n            }\n        },\n\n        /**\n         * Initializes model instance.\n         *\n         * @returns {Element} Chainable.\n         */\n        initialize: function () {\n            this._super()\n                .initObservable()\n                .initModules()\n                .initStatefull()\n                .initLinks()\n                .initUnique();\n\n            return this;\n        },\n\n        /**\n         * Initializes observable properties.\n         *\n         * @returns {Element} Chainable.\n         */\n        initObservable: function () {\n            _.each(this.tracks, function (enabled, key) {\n                if (enabled) {\n                    this.track(key);\n                }\n            }, this);\n\n            return this;\n        },\n\n        /**\n         * Parses 'modules' object and creates\n         * async wrappers for specified components.\n         *\n         * @returns {Element} Chainable.\n         */\n        initModules: function () {\n            _.each(this.modules, function (name, property) {\n                if (name) {\n                    this[property] = this.requestModule(name);\n                }\n            }, this);\n\n            if (!_.isFunction(this.source)) {\n                this.source = registry.get(this.provider);\n            }\n\n            return this;\n        },\n\n        /**\n         * Called when current element was injected to another component.\n         *\n         * @param {Object} parent - Instance of a 'parent' component.\n         * @returns {Collection} Chainable.\n         */\n        initContainer: function (parent) {\n            this.containers.push(parent);\n\n            return this;\n        },\n\n        /**\n         * Initializes statefull properties\n         * based on the keys of 'statefull' object.\n         *\n         * @returns {Element} Chainable.\n         */\n        initStatefull: function () {\n            _.each(this.statefull, function (path, key) {\n                if (path) {\n                    this.setStatefull(key, path);\n                }\n            }, this);\n\n            return this;\n        },\n\n        /**\n         * Initializes links between properties.\n         *\n         * @returns {Element} Chainbale.\n         */\n        initLinks: function () {\n            return this.setListeners(this.listens)\n                       .setLinks(this.links, 'imports')\n                       .setLinks(this.links, 'exports')\n                       .setLinks(this.exports, 'exports')\n                       .setLinks(this.imports, 'imports');\n        },\n\n        /**\n         * Initializes listeners of the unique property.\n         *\n         * @returns {Element} Chainable.\n         */\n        initUnique: function () {\n            var update = this.onUniqueUpdate.bind(this),\n                uniqueNs = this.uniqueNs;\n\n            this.hasUnique = this.uniqueProp && uniqueNs;\n\n            if (this.hasUnique) {\n                this.source.on(uniqueNs, update, this.name);\n            }\n\n            return this;\n        },\n\n        /**\n         * Makes specified property to be stored automatically.\n         *\n         * @param {String} key - Name of the property\n         *      that will be stored.\n         * @param {String} [path=key] - Path to the property in storage.\n         * @returns {Element} Chainable.\n         */\n        setStatefull: function (key, path) {\n            var link = {};\n\n            path        = !_.isString(path) || !path ? key : path;\n            link[key]   = this.storageConfig.path + '.' + path;\n\n            this.setLinks(link, 'imports')\n                .setLinks(link, 'exports');\n\n            return this;\n        },\n\n        /**\n         * Updates property specified in uniqueNs\n         * if elements' unique property is set to 'true'.\n         *\n         * @returns {Element} Chainable.\n         */\n        setUnique: function () {\n            var property = this.uniqueProp;\n\n            if (this[property]()) {\n                this.source.set(this.uniqueNs, this.name);\n            }\n\n            return this;\n        },\n\n        /**\n         * Creates 'async' wrapper for the specified component\n         * using uiRegistry 'async' method and caches it\n         * in a '_requested' components  object.\n         *\n         * @param {String} name - Name of requested component.\n         * @returns {Function} Async module wrapper.\n         */\n        requestModule: function (name) {\n            var requested = this._requested;\n\n            if (!requested[name]) {\n                requested[name] = registry.async(name);\n            }\n\n            return requested[name];\n        },\n\n        /**\n         * Returns path to elements' template.\n         *\n         * @returns {String}\n         */\n        getTemplate: function () {\n            return this.template;\n        },\n\n        /**\n         * Checks if template was specified for an element.\n         *\n         * @returns {Boolean}\n         */\n        hasTemplate: function () {\n            return !!this.template;\n        },\n\n        /**\n         * Returns value of the nested property.\n         *\n         * @param {String} path - Path to the property.\n         * @returns {*} Value of the property.\n         */\n        get: function (path) {\n            return utils.nested(this, path);\n        },\n\n        /**\n         * Sets provided value as a value of the specified nested property.\n         * Triggers changes notifications, if value has mutated.\n         *\n         * @param {String} path - Path to property.\n         * @param {*} value - New value of the property.\n         * @returns {Element} Chainable.\n         */\n        set: function (path, value) {\n            var data = this.get(path),\n                diffs;\n\n            diffs = !_.isFunction(data) && !this.isTracked(path) ?\n                utils.compare(data, value, path) :\n                false;\n\n            utils.nested(this, path, value);\n\n            if (diffs) {\n                this._notifyChanges(diffs);\n            }\n\n            return this;\n        },\n\n        /**\n         * Removes nested property from the object.\n         *\n         * @param {String} path - Path to the property.\n         * @returns {Element} Chainable.\n         */\n        remove: function (path) {\n            var data = utils.nested(this, path),\n                diffs;\n\n            if (_.isUndefined(data) || _.isFunction(data)) {\n                return this;\n            }\n\n            diffs = utils.compare(data, undefined, path);\n\n            utils.nestedRemove(this, path);\n\n            this._notifyChanges(diffs);\n\n            return this;\n        },\n\n        /**\n         * Creates observable properties for the current object.\n         *\n         * If 'useTrack' flag is set to 'true' then each property will be\n         * created with a ES5 get/set accessor descriptors, instead of\n         * making them an observable functions.\n         * See 'knockout-es5' library for more information.\n         *\n         * @param {Boolean} [useAccessors=false] - Whether to create an\n         *      observable function or to use property accesessors.\n         * @param {(Object|String|Array)} properties - List of observable properties.\n         * @returns {Element} Chainable.\n         *\n         * @example Sample declaration and equivalent knockout methods.\n         *      this.key = 'value';\n         *      this.array = ['value'];\n         *\n         *      this.observe(['key', 'array']);\n         *      =>\n         *          this.key = ko.observable('value');\n         *          this.array = ko.observableArray(['value']);\n         *\n         * @example Another syntaxes of the previous example.\n         *      this.observe({\n         *          key: 'value',\n         *          array: ['value']\n         *      });\n         */\n        observe: function (useAccessors, properties) {\n            var model = this,\n                trackMethod;\n\n            if (typeof useAccessors !== 'boolean') {\n                properties   = useAccessors;\n                useAccessors = false;\n            }\n\n            trackMethod = useAccessors ? accessor : observable;\n\n            if (_.isString(properties)) {\n                properties = properties.split(' ');\n            }\n\n            if (Array.isArray(properties)) {\n                properties.forEach(function (key) {\n                    trackMethod(model, key, model[key]);\n                });\n            } else if (typeof properties === 'object') {\n                _.each(properties, function (value, key) {\n                    trackMethod(model, key, value);\n                });\n            }\n\n            return this;\n        },\n\n        /**\n         * Delegates call to 'observe' method but\n         * with a predefined 'useAccessors' flag.\n         *\n         * @param {(String|Array|Object)} properties - List of observable properties.\n         * @returns {Element} Chainable.\n         */\n        track: function (properties) {\n            this.observe(true, properties);\n\n            return this;\n        },\n\n        /**\n         * Checks if specified property is tracked.\n         *\n         * @param {String} property - Property to be checked.\n         * @returns {Boolean}\n         */\n        isTracked: function (property) {\n            return ko.es5.isTracked(this, property);\n        },\n\n        /**\n         * Invokes subscribers for the provided changes.\n         *\n         * @param {Object} diffs - Object with changes descriptions.\n         * @returns {Element} Chainable.\n         */\n        _notifyChanges: function (diffs) {\n            diffs.changes.forEach(function (change) {\n                this.trigger(change.path, change.value, change);\n            }, this);\n\n            _.each(diffs.containers, function (changes, name) {\n                var value = utils.nested(this, name);\n\n                this.trigger(name, value, changes);\n            }, this);\n\n            return this;\n        },\n\n        /**\n         * Extracts all stored data and sets it to element.\n         *\n         * @returns {Element} Chainable.\n         */\n        restore: function () {\n            var ns = this.storageConfig.namespace,\n                storage = this.storage();\n\n            if (storage) {\n                utils.extend(this, storage.get(ns));\n            }\n\n            return this;\n        },\n\n        /**\n         * Stores value of the specified property in components' storage module.\n         *\n         * @param {String} property\n         * @param {*} [data=this[property]]\n         * @returns {Element} Chainable.\n         */\n        store: function (property, data) {\n            var ns = this.storageConfig.namespace,\n                path = utils.fullPath(ns, property);\n\n            if (arguments.length < 2) {\n                data = this.get(property);\n            }\n\n            this.storage('set', path, data);\n\n            return this;\n        },\n\n        /**\n         * Extracts specified property from storage.\n         *\n         * @param {String} [property] - Name of the property\n         *      to be extracted. If not specified then all of the\n         *      stored will be returned.\n         * @returns {*}\n         */\n        getStored: function (property) {\n            var ns = this.storageConfig.namespace,\n                path = utils.fullPath(ns, property),\n                storage = this.storage(),\n                data;\n\n            if (storage) {\n                data = storage.get(path);\n            }\n\n            return data;\n        },\n\n        /**\n         * Removes stored property.\n         *\n         * @param {String} property - Property to be removed from storage.\n         * @returns {Element} Chainable.\n         */\n        removeStored: function (property) {\n            var ns = this.storageConfig.namespace,\n                path = utils.fullPath(ns, property);\n\n            this.storage('remove', path);\n\n            return this;\n        },\n\n        /**\n         * Destroys current instance along with all of its' children.\n         * @param {Boolean} skipUpdate - skip collection update when element to be destroyed.\n         */\n        destroy: function (skipUpdate) {\n            this._dropHandlers()\n                ._clearRefs(skipUpdate);\n        },\n\n        /**\n         * Removes events listeners.\n         * @private\n         *\n         * @returns {Element} Chainable.\n         */\n        _dropHandlers: function () {\n            this.off();\n\n            if (_.isFunction(this.source)) {\n                this.source().off(this.name);\n            } else if (this.source) {\n                this.source.off(this.name);\n            }\n\n            return this;\n        },\n\n        /**\n         * Removes all references to current instance and\n         * calls 'destroy' method on all of its' children.\n         * @private\n         * @param {Boolean} skipUpdate - skip collection update when element to be destroyed.\n         *\n         * @returns {Element} Chainable.\n         */\n        _clearRefs: function (skipUpdate) {\n            registry.remove(this.name);\n\n            this.containers.forEach(function (parent) {\n                parent.removeChild(this, skipUpdate);\n            }, this);\n\n            return this;\n        },\n\n        /**\n         * Overrides 'EventsBus.trigger' method to implement events bubbling.\n         *\n         * @param {...*} arguments - Any number of arguments that should be passed to the events' handler.\n         * @returns {Boolean} False if event bubbling was canceled.\n         */\n        bubble: function () {\n            var args = _.toArray(arguments),\n                bubble = this.trigger.apply(this, args),\n                result;\n\n            if (!bubble) {\n                return false;\n            }\n\n            this.containers.forEach(function (parent) {\n                result = parent.bubble.apply(parent, args);\n\n                if (result === false) {\n                    bubble = false;\n                }\n            });\n\n            return !!bubble;\n        },\n\n        /**\n         * Callback which fires when property under uniqueNs has changed.\n         */\n        onUniqueUpdate: function (name) {\n            var active = name === this.name,\n                property = this.uniqueProp;\n\n            this[property](active);\n        },\n\n        /**\n         * Clean data form data source.\n         *\n         * @returns {Element}\n         */\n        cleanData: function () {\n            if (this.source && this.source.componentType === 'dataSource') {\n                if (this.elems) {\n                    _.each(this.elems(), function (val) {\n                        val.cleanData();\n                    });\n                } else {\n                    this.source.remove(this.dataScope);\n                }\n            }\n\n            return this;\n        },\n\n        /**\n         * Fallback data.\n         */\n        cacheData: function () {\n            this.cachedComponent = utils.copy(this);\n        },\n\n        /**\n         * Update configuration in component.\n         *\n         * @param {*} oldValue\n         * @param {*} newValue\n         * @param {String} path - path to value.\n         * @returns {Element}\n         */\n        updateConfig: function (oldValue, newValue, path) {\n            var names = path.split('.'),\n                index = _.lastIndexOf(names, 'config') + 1;\n\n            names = names.splice(index, names.length - index).join('.');\n            this.set(names, newValue);\n\n            return this;\n        }\n    }, Events, links);\n\n    return Class.extend(Element);\n});\n","Magento_Ui/js/lib/knockout/bootstrap.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/** Loads all available knockout bindings, sets custom template engine, initializes knockout on page */\n\ndefine([\n    'ko',\n    './template/engine',\n    'knockoutjs/knockout-es5',\n    './bindings/bootstrap',\n    './extender/observable_array',\n    './extender/bound-nodes',\n    'domReady!'\n], function (ko, templateEngine) {\n    'use strict';\n\n    ko.uid = 0;\n\n    ko.setTemplateEngine(templateEngine);\n    ko.applyBindings();\n});\n","Magento_Ui/js/lib/knockout/extender/observable_array.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'ko',\n    'underscore'\n], function (ko, _) {\n    'use strict';\n\n    /**\n     * Iterator function.\n     *\n     * @param {String} callback\n     * @param {Array} args\n     * @param {Object} elem\n     * @returns {*}\n     */\n    function iterator(callback, args, elem) {\n        callback = elem[callback];\n\n        if (_.isFunction(callback)) {\n            return callback.apply(elem, args);\n        }\n\n        return callback;\n    }\n\n    /**\n     * Wrapper function.\n     *\n     * @param {String} method\n     * @returns {Function}\n     */\n    function wrapper(method) {\n        return function (iteratee) {\n            var callback = iteratee,\n                elems = this(),\n                args = _.toArray(arguments);\n\n            if (_.isString(iteratee)) {\n                callback = iterator.bind(null, iteratee, args.slice(1));\n\n                args.unshift(callback);\n            }\n\n            args.unshift(elems);\n\n            return _[method].apply(_, args);\n        };\n    }\n\n    _.extend(ko.observableArray.fn, {\n        each: wrapper('each'),\n\n        map: wrapper('map'),\n\n        filter: wrapper('filter'),\n\n        some: wrapper('some'),\n\n        every: wrapper('every'),\n\n        groupBy: wrapper('groupBy'),\n\n        sortBy: wrapper('sortBy'),\n\n        /**\n         * Wrapper for underscore findWhere function.\n         *\n         * @param {Object} properties\n         * @return {Object}\n         */\n        findWhere: function (properties) {\n            return _.findWhere(this(), properties);\n        },\n\n        /**\n         * Wrapper for underscore contains function.\n         *\n         * @param {*} value\n         * @return {Boolean}\n         */\n        contains: function (value) {\n            return _.contains(this(), value);\n        },\n\n        /**\n         * Inverse contains call.\n         *\n         * @return {Boolean}\n         */\n        hasNo: function () {\n            return !this.contains.apply(this, arguments);\n        },\n\n        /**\n         * Getter for length property.\n         *\n         * @return {Number}\n         */\n        getLength: function () {\n            return this().length;\n        },\n\n        /**\n         * Create object with keys that gets from each object property.\n         *\n         * @return {Object}\n         */\n        indexBy: function (key) {\n            return _.indexBy(this(), key);\n        },\n\n        /**\n         * Returns a copy of the array with all instances of the values removed.\n         *\n         * @return {Array}\n         */\n        without: function () {\n            var args = Array.prototype.slice.call(arguments);\n\n            args.unshift(this());\n\n            return _.without.apply(_, args);\n        },\n\n        /**\n         * Returns the first element of an array.\n         *\n         * @return {*}\n         */\n        first: function () {\n            return _.first(this());\n        },\n\n        /**\n         * Returns the last element of an array\n         *\n         * @return {*}\n         */\n        last: function () {\n            return _.last(this());\n        },\n\n        /**\n         * Iterate and pick provided properties.\n         *\n         * @return {Array}\n         */\n        pluck: function () {\n            var args = Array.prototype.slice.call(arguments);\n\n            args.unshift(this());\n\n            return _.pluck.apply(_, args);\n        }\n    });\n});\n","Magento_Ui/js/lib/knockout/extender/bound-nodes.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'ko',\n    'underscore',\n    'mage/utils/wrapper',\n    'uiEvents'\n], function (ko, _, wrapper, Events) {\n    'use strict';\n\n    var nodesMap = new WeakMap();\n\n    /**\n     * Returns a array of nodes associated with a specified model.\n     *\n     * @param {Object} model\n     * @returns {Undefined|Array}\n     */\n    function getBounded(model) {\n        return nodesMap.get(model);\n    }\n\n    /**\n     * Removes specified node to models' associations list, if it's\n     * a root node (node is not a descendant of any previously added nodes).\n     * Triggers 'addNode' event.\n     *\n     * @param {Object} model\n     * @param {HTMLElement} node\n     */\n    function addBounded(model, node) {\n        var nodes = getBounded(model),\n            isRoot;\n\n        if (!nodes) {\n            nodesMap.set(model, [node]);\n\n            Events.trigger.call(model, 'addNode', node);\n\n            return;\n        }\n\n        isRoot = nodes.every(function (bounded) {\n            return !bounded.contains(node);\n        });\n\n        if (isRoot) {\n            nodes.push(node);\n\n            Events.trigger.call(model, 'addNode', node);\n        }\n    }\n\n    /**\n     * Removes specified node from models' associations list.\n     * Triggers 'removeNode' event.\n     *\n     * @param {Object} model\n     * @param {HTMLElement} node\n     */\n    function removeBounded(model, node) {\n        var nodes = getBounded(model),\n            index;\n\n        if (!nodes) {\n            return;\n        }\n\n        index = nodes.indexOf(node);\n\n        if (~index) {\n            nodes.splice(index, 0);\n\n            Events.trigger.call(model, 'removeNode', node);\n        }\n\n        if (!nodes.length) {\n            nodesMap.delete(model);\n        }\n    }\n\n    /**\n     * Returns node's first sibling of 'element' type within the common component scope\n     *\n     * @param {HTMLElement} node\n     * @param {*} data\n     * @returns {HTMLElement}\n     */\n    function getElement(node, data) {\n        var elem;\n\n        while (node.nextElementSibling) {\n            node = node.nextElementSibling;\n\n            if (node.nodeType === 1 && ko.dataFor(node) === data) {\n                elem = node;\n                break;\n            }\n        }\n\n        return elem;\n    }\n\n    wrapper.extend(ko, {\n\n        /**\n         * Extends knockouts' 'applyBindings'\n         * to track nodes associated with model.\n         *\n         * @param {Function} orig - Original 'applyBindings' method.\n         * @param {Object} ctx\n         * @param {HTMLElement} node - Original 'applyBindings' method.\n         */\n        applyBindings: function (orig, ctx, node) {\n            var result = orig(),\n                data = ctx && (ctx.$data || ctx);\n\n            if (node && node.nodeType === 8) {\n                node = getElement(node, data);\n            }\n\n            if (!node || node.nodeType !== 1) {\n                return result;\n            }\n\n            if (data && data.registerNodes) {\n                addBounded(data, node);\n            }\n\n            return result;\n        },\n\n        /**\n         * Extends knockouts' cleanNode\n         * to track nodes associated with model.\n         *\n         * @param {Function} orig - Original 'cleanNode' method.\n         * @param {HTMLElement} node - Original 'cleanNode' method.\n         */\n        cleanNode: function (orig, node) {\n            var result = orig(),\n                data;\n\n            if (node.nodeType !== 1) {\n                return result;\n            }\n\n            data = ko.dataFor(node);\n\n            if (data && data.registerNodes) {\n                removeBounded(data, node);\n            }\n\n            return result;\n        }\n    });\n\n    return {\n\n        /**\n         * Returns root nodes associated with a model. If callback is provided,\n         * will iterate through all of the present nodes triggering callback\n         * for each of it. Also it will subscribe to the 'addNode' event.\n         *\n         * @param {Object} model\n         * @param {Function} [callback]\n         * @returns {Array|Undefined}\n         */\n        get: function (model, callback) {\n            var nodes = getBounded(model) || [];\n\n            if (!_.isFunction(callback)) {\n                return nodes;\n            }\n\n            nodes.forEach(function (node) {\n                callback(node);\n            });\n\n            this.add.apply(this, arguments);\n        },\n\n        /**\n         * Subscribes to adding of nodes associated with a model.\n         *\n         * @param {Object} model\n         */\n        add: function (model) {\n            var args = _.toArray(arguments).slice(1);\n\n            args.unshift('addNode');\n\n            Events.on.apply(model, args);\n        },\n\n        /**\n         * Subscribes to removal of nodes associated with a model.\n         *\n         * @param {Object} model\n         */\n        remove: function (model) {\n            var args = _.toArray(arguments).slice(1);\n\n            args.unshift('removeNode');\n\n            Events.on.apply(model, args);\n        },\n\n        /**\n         * Removes subscriptions from the model.\n         *\n         * @param {Object} model\n         */\n        off: function (model) {\n            var args = _.toArray(arguments).slice(1);\n\n            Events.off.apply(model, args);\n        }\n    };\n});\n","Magento_Ui/js/lib/knockout/template/engine.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'ko',\n    'underscore',\n    './observable_source',\n    './renderer',\n    '../../logger/console-logger'\n], function ($, ko, _, Source, renderer, consoleLogger) {\n    'use strict';\n\n    var RemoteTemplateEngine,\n        NativeTemplateEngine = ko.nativeTemplateEngine,\n        sources = {};\n\n    /**\n     * Remote template engine class. Is used to be able to load remote templates via knockout template binding.\n     */\n    RemoteTemplateEngine = function () {\n        // Instance reference for closure.\n        var engine = this,\n        // Decorate the builtin Knockout \"template\" binding to track synchronous template renders.\n        origUpdate = ko.bindingHandlers.template.update;\n\n        /**\n         * Counter to track the number of currently running render tasks (both synchronous and asynchronous).\n         * @type {Number}\n         * @private\n         */\n        this._rendersOutstanding = 0;\n\n        /**\n         * Use a jQuery object as an event bus (but any event emitter with on/off/emit methods could work)\n         * @type {jQuery}\n         * @private\n         */\n        this._events = $(this);\n\n        /**\n         * Rendered templates\n         * @type {Object}\n         * @private\n         */\n        this._templatesRendered = {};\n\n        /*eslint-disable no-unused-vars*/\n        /**\n         * Decorate update method\n         *\n         * @param {HTMLElement} element\n         * @param {Function} valueAccessor\n         * @param {Object} allBindings\n         * @param {Object} viewModel\n         * @param {ko.bindingContext} bindingContext\n         * @returns {*}\n         */\n        ko.bindingHandlers.template.update = function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n            /*eslint-enable no-unused-vars*/\n            var options = ko.utils.peekObservable(valueAccessor()),\n                templateName,\n                isSync,\n                updated;\n\n            if (typeof options === 'object') {\n                if (options.templateEngine && options.templateEngine !== engine) {\n                    return origUpdate.apply(this, arguments);\n                }\n\n                if (!options.name) {\n                    consoleLogger.error('Could not find template name', options);\n                }\n                templateName = options.name;\n            } else if (typeof options === 'string') {\n                templateName = options;\n            } else {\n                consoleLogger.error('Could not build a template binding', options);\n            }\n            engine._trackRender(templateName);\n            isSync = engine._hasTemplateLoaded(templateName);\n            updated = origUpdate.apply(this, arguments);\n\n            if (isSync) {\n                engine._releaseRender(templateName, 'sync');\n            }\n\n            return updated;\n        };\n    };\n\n    /**\n     * Creates unique template identifier based on template name and it's extenders (optional)\n     * @param  {String} templateName\n     * @return {String} - unique template identifier\n     */\n    function createTemplateIdentifier(templateName) {\n        return templateName;\n    }\n\n    RemoteTemplateEngine.prototype = new NativeTemplateEngine;\n    RemoteTemplateEngine.prototype.constructor = RemoteTemplateEngine;\n\n    /**\n     * When an asynchronous render task begins, increment the internal counter for tracking when renders are complete.\n     * @private\n     */\n    RemoteTemplateEngine.prototype._trackRender = function (templateName) {\n        var rendersForTemplate = this._templatesRendered[templateName] !== undefined ?\n            this._templatesRendered[templateName] : 0;\n\n        this._rendersOutstanding++;\n        this._templatesRendered[templateName] = rendersForTemplate + 1;\n        this._resolveRenderWaits();\n    };\n\n    /**\n     * When an asynchronous render task ends, decrement the internal counter for tracking when renders are complete.\n     * @private\n     */\n    RemoteTemplateEngine.prototype._releaseRender = function (templateName) {\n        var rendersForTemplate = this._templatesRendered[templateName];\n\n        this._rendersOutstanding--;\n        this._templatesRendered[templateName] = rendersForTemplate - 1;\n        this._resolveRenderWaits();\n    };\n\n    /**\n     * Check to see if renders are complete and trigger events for listeners.\n     * @private\n     */\n    RemoteTemplateEngine.prototype._resolveRenderWaits = function () {\n        if (this._rendersOutstanding === 0) {\n            this._events.triggerHandler('finishrender');\n        }\n    };\n\n    /**\n     * Get a promise for the end of the current run of renders, both sync and async.\n     * @return {jQueryPromise} - promise that resolves when render completes\n     */\n    RemoteTemplateEngine.prototype.waitForFinishRender = function () {\n        var defer = $.Deferred();\n\n        this._events.one('finishrender', defer.resolve);\n\n        return defer.promise();\n    };\n\n    /**\n     * Returns true if this template has already been asynchronously loaded and will be synchronously rendered.\n     * @param {String} templateName\n     * @returns {Boolean}\n     * @private\n     */\n    RemoteTemplateEngine.prototype._hasTemplateLoaded = function (templateName) {\n        // Sources object will have cached template once makeTemplateSource has run\n        return sources.hasOwnProperty(templateName);\n    };\n\n    /**\n     * Overrided method of native knockout template engine.\n     * Caches template after it's unique name and renders in once.\n     * If template name is not typeof string, delegates work to knockout.templateSources.anonymousTemplate.\n     * @param  {*} template\n     * @param  {HTMLElement} templateDocument - document\n     * @param  {Object} options - options, passed to template binding\n     * @param  {ko.bindingContext} bindingContext\n     * @returns {TemplateSource} Object with methods 'nodes' and 'data'.\n     */\n    RemoteTemplateEngine.prototype.makeTemplateSource = function (template, templateDocument, options, bindingContext) {\n        var engine = this,\n            source,\n            templateId;\n\n        if (typeof template === 'string') {\n            templateId = createTemplateIdentifier(template);\n            source = sources[templateId];\n\n            if (!source) {\n                source = new Source(template);\n                source.requestedBy = bindingContext.$data.name;\n                sources[templateId] = source;\n\n                consoleLogger.info('templateStartLoading', {\n                    template: templateId,\n                    component: bindingContext.$data.name\n                });\n\n                renderer.render(template).then(function (rendered) {\n                    consoleLogger.info('templateLoadedFromServer', {\n                        template: templateId,\n                        component: bindingContext.$data.name\n                    });\n                    source.nodes(rendered);\n                    engine._releaseRender(templateId, 'async');\n                }).fail(function () {\n                    consoleLogger.error('templateLoadingFail', {\n                        template: templateId,\n                        component: bindingContext.$data.name\n                    });\n                });\n            }\n\n            if (source.requestedBy !== bindingContext.$data.name) {\n                consoleLogger.info('templateLoadedFromCache', {\n                    template: templateId,\n                    component: bindingContext.$data.name\n                });\n            }\n\n            return source;\n        } else if (template.nodeType === 1 || template.nodeType === 8) {\n            source = new ko.templateSources.anonymousTemplate(template);\n\n            return source;\n        }\n\n        throw new Error('Unknown template type: ' + template);\n    };\n\n    /**\n     * Overrided method of native knockout template engine.\n     * Should return array of html elements.\n     * @param  {TemplateSource} templateSource - object with methods 'nodes' and 'data'.\n     * @return {Array} - array of html elements\n     */\n    RemoteTemplateEngine.prototype.renderTemplateSource = function (templateSource) {\n        var nodes = templateSource.nodes();\n\n        return ko.utils.cloneNodes(nodes);\n    };\n\n    /**\n     * Overrided method of native knockout template engine.\n     * Created in order to invoke makeTemplateSource method with custom set of params.\n     * @param  {*} template - template identifier\n     * @param  {ko.bindingContext} bindingContext\n     * @param  {Object} options - options, passed to template binding\n     * @param  {HTMLElement} templateDocument - document\n     * @return {Array} - array of html elements\n     */\n    RemoteTemplateEngine.prototype.renderTemplate = function (template, bindingContext, options, templateDocument) {\n        var templateSource = this.makeTemplateSource(template, templateDocument, options, bindingContext);\n\n        return this.renderTemplateSource(templateSource);\n    };\n\n    return new RemoteTemplateEngine;\n});\n","Magento_Ui/js/lib/knockout/template/observable_source.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/**\n * Is being used by knockout template engine to store template to.\n */\ndefine([\n    'ko',\n    'uiClass'\n], function (ko, Class) {\n    'use strict';\n\n    return Class.extend({\n\n        /**\n         * Initializes templateName, _data, nodes properties.\n         *\n         * @param  {template} template - identifier of template\n         */\n        initialize: function (template) {\n            this.templateName = template;\n            this._data = {};\n            this.nodes = ko.observable([]);\n        },\n\n        /**\n         * Data setter. If only one arguments passed, returns corresponding value.\n         * Else, writes into it.\n         * @param  {String} key - key to write to or to read from\n         * @param  {*} value\n         * @return {*} - if 1 arg provided, Returns _data[key] property\n         */\n        data: function (key, value) {\n            if (arguments.length === 1) {\n                return this._data[key];\n            }\n\n            this._data[key] = value;\n        }\n    });\n});\n","Magento_Ui/js/lib/knockout/template/renderer.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'underscore',\n    './loader'\n], function ($, _, loader) {\n    'use strict';\n\n    var colonReg       = /\\\\:/g,\n        renderedTemplatePromises = {},\n        attributes     = {},\n        elements       = {},\n        globals        = [],\n        renderer,\n        preset;\n\n    renderer = {\n\n        /**\n         * Loads template by provided path and\n         * than converts it's content to html.\n         *\n         * @param {String} tmplPath - Path to the template.\n         * @returns {jQueryPromise}\n         * @alias getRendered\n         */\n        render: function (tmplPath) {\n            var cachedPromise = renderedTemplatePromises[tmplPath];\n\n            if (!cachedPromise) {\n                cachedPromise = renderedTemplatePromises[tmplPath] = loader\n                    .loadTemplate(tmplPath)\n                    .then(renderer.parseTemplate);\n            }\n\n            return cachedPromise;\n        },\n\n        /**\n         * @ignore\n         */\n        getRendered: function (tmplPath) {\n            return renderer.render(tmplPath);\n        },\n\n        /**\n         * Parses provided string as html content\n         * and returns an array of DOM elements.\n         *\n         * @param {String} html - String to be processed.\n         * @returns {Array}\n         */\n        parseTemplate: function (html) {\n            var fragment = document.createDocumentFragment();\n\n            $(fragment).append(html);\n\n            return renderer.normalize(fragment);\n        },\n\n        /**\n         * Processes custom attributes and nodes of provided DOM element.\n         *\n         * @param {HTMLElement} content - Element to be processed.\n         * @returns {Array} An array of content's child nodes.\n         */\n        normalize: function (content) {\n            globals.forEach(function (handler) {\n                handler(content);\n            });\n\n            return _.toArray(content.childNodes);\n        },\n\n        /**\n         * Adds new global content handler.\n         *\n         * @param {Function} handler - Function which will be invoked for\n         *      an every content passed to 'normalize' method.\n         * @returns {Renderer} Chainable.\n         */\n        addGlobal: function (handler) {\n            if (!_.contains(globals, handler)) {\n                globals.push(handler);\n            }\n\n            return this;\n        },\n\n        /**\n         * Removes specified global content handler.\n         *\n         * @param {Function} handler - Handler to be removed.\n         * @returns {Renderer} Chainable.\n         */\n        removeGlobal: function (handler) {\n            var index = globals.indexOf(handler);\n\n            if (~index) {\n                globals.splice(index, 1);\n            }\n\n            return this;\n        },\n\n        /**\n         * Adds new custom attribute handler.\n         *\n         * @param {String} id - Attribute identifier.\n         * @param {(Object|Function)} [config={}]\n         * @returns {Renderer} Chainable.\n         */\n        addAttribute: function (id, config) {\n            var data = {\n                name: id,\n                binding: id,\n                handler: renderer.handlers.attribute\n            };\n\n            if (_.isFunction(config)) {\n                data.handler = config;\n            } else if (_.isObject(config)) {\n                _.extend(data, config);\n            }\n\n            data.id = id;\n            attributes[id] = data;\n\n            return this;\n        },\n\n        /**\n         * Removes specified attribute handler.\n         *\n         * @param {String} id - Attribute identifier.\n         * @returns {Renderer} Chainable.\n         */\n        removeAttribute: function (id) {\n            delete attributes[id];\n\n            return this;\n        },\n\n        /**\n         * Adds new custom node handler.\n         *\n         * @param {String} id - Node identifier.\n         * @param {(Object|Function)} [config={}]\n         * @returns {Renderer} Chainable.\n         */\n        addNode: function (id, config) {\n            var data = {\n                name: id,\n                binding: id,\n                handler: renderer.handlers.node\n            };\n\n            if (_.isFunction(config)) {\n                data.handler = config;\n            } else if (_.isObject(config)) {\n                _.extend(data, config);\n            }\n\n            data.id = id;\n            elements[id] = data;\n\n            return this;\n        },\n\n        /**\n         * Removes specified custom node handler.\n         *\n         * @param {String} id - Node identifier.\n         * @returns {Renderer} Chainable.\n         */\n        removeNode: function (id) {\n            delete elements[id];\n\n            return this;\n        },\n\n        /**\n         * Checks if provided DOM element is a custom node.\n         *\n         * @param {HTMLElement} node - Node to be checked.\n         * @returns {Boolean}\n         */\n        isCustomNode: function (node) {\n            return _.some(elements, function (elem) {\n                return elem.name.toUpperCase() === node.tagName;\n            });\n        },\n\n        /**\n         * Processes custom attributes of a content's child nodes.\n         *\n         * @param {HTMLElement} content - DOM element to be processed.\n         */\n        processAttributes: function (content) {\n            var repeat;\n\n            repeat = _.some(attributes, function (attr) {\n                var attrName = attr.name,\n                    nodes    = content.querySelectorAll('[' + attrName + ']'),\n                    handler  = attr.handler;\n\n                return _.toArray(nodes).some(function (node) {\n                    var data = node.getAttribute(attrName);\n\n                    return handler(node, data, attr) === true;\n                });\n            });\n\n            if (repeat) {\n                renderer.processAttributes(content);\n            }\n        },\n\n        /**\n         * Processes custom nodes of a provided content.\n         *\n         * @param {HTMLElement} content - DOM element to be processed.\n         */\n        processNodes: function (content) {\n            var repeat;\n\n            repeat = _.some(elements, function (element) {\n                var nodes   = content.querySelectorAll(element.name),\n                    handler = element.handler;\n\n                return _.toArray(nodes).some(function (node) {\n                    var data = node.getAttribute('args');\n\n                    return handler(node, data, element) === true;\n                });\n            });\n\n            if (repeat) {\n                renderer.processNodes(content);\n            }\n        },\n\n        /**\n         * Wraps provided string in curly braces if it's necessary.\n         *\n         * @param {String} args - String to be wrapped.\n         * @returns {String} Wrapped string.\n         */\n        wrapArgs: function (args) {\n            if (~args.indexOf('\\\\:')) {\n                args = args.replace(colonReg, ':');\n            } else if (~args.indexOf(':') && !~args.indexOf('}')) {\n                args = '{' + args + '}';\n            }\n\n            return args;\n        },\n\n        /**\n         * Wraps child nodes of provided DOM element\n         * with knockout's comment tag.\n         *\n         * @param {HTMLElement} node - Node whose children should be wrapped.\n         * @param {String} binding - Name of the binding for the opener comment tag.\n         * @param {String} data - Data associated with a binding.\n         *\n         * @example\n         *      <div id=\"example\"><span/></div>\n         *      wrapChildren(document.getElementById('example'), 'foreach', 'data');\n         *      =>\n         *      <div id=\"example\">\n         *      <!-- ko foreach: data -->\n         *          <span></span>\n         *      <!-- /ko -->\n         *      </div>\n         */\n        wrapChildren: function (node, binding, data) {\n            var tag = this.createComment(binding, data),\n                $node = $(node);\n\n            $node.prepend(tag.open);\n            $node.append(tag.close);\n        },\n\n        /**\n         * Wraps specified node with knockout's comment tag.\n         *\n         * @param {HTMLElement} node - Node to be wrapped.\n         * @param {String} binding - Name of the binding for the opener comment tag.\n         * @param {String} data - Data associated with a binding.\n         *\n         * @example\n         *      <div id=\"example\"></div>\n         *      wrapNode(document.getElementById('example'), 'foreach', 'data');\n         *      =>\n         *      <!-- ko foreach: data -->\n         *          <div id=\"example\"></div>\n         *      <!-- /ko -->\n         */\n        wrapNode: function (node, binding, data) {\n            var tag = this.createComment(binding, data),\n                $node = $(node);\n\n            $node.before(tag.open);\n            $node.after(tag.close);\n        },\n\n        /**\n         * Creates knockouts' comment tag for the provided binding.\n         *\n         * @param {String} binding - Name of the binding.\n         * @param {String} data - Data associated with a binding.\n         * @returns {Object} Object with an open and close comment elements.\n         */\n        createComment: function (binding, data) {\n            return {\n                open: document.createComment(' ko ' + binding + ': ' + data + ' '),\n                close: document.createComment(' /ko ')\n            };\n        }\n    };\n\n    renderer.handlers = {\n\n        /**\n         * Basic node handler. Replaces custom nodes\n         * with a corresponding knockout's comment tag.\n         *\n         * @param {HTMLElement} node - Node to be processed.\n         * @param {String} data\n         * @param {Object} element\n         * @returns {Boolean} True\n         *\n         * @example Sample syntaxes conversions.\n         *      <with args=\"model\">\n         *          <span/>\n         *      </with>\n         *      =>\n         *      <!-- ko with: model-->\n         *          <span/>\n         *      <!-- /ko -->\n         */\n        node: function (node, data, element) {\n            data = renderer.wrapArgs(data);\n\n            renderer.wrapNode(node, element.binding, data);\n            $(node).replaceWith(node.childNodes);\n\n            return true;\n        },\n\n        /**\n         * Base attribute handler. Replaces custom attributes with\n         * a corresponding knockouts' data binding.\n         *\n         * @param {HTMLElement} node - Node to be processed.\n         * @param {String} data - Data associated with a binding.\n         * @param {Object} attr - Attribute definition.\n         *\n         * @example Sample syntaxes conversions.\n         *      <div text=\"label\"></div>\n         *      =>\n         *      <div data-bind=\"text: label\"></div>\n         */\n        attribute: function (node, data, attr) {\n            data = renderer.wrapArgs(data);\n\n            renderer.bindings.add(node, attr.binding, data);\n            node.removeAttribute(attr.name);\n        },\n\n        /**\n         * Wraps provided node with a knockouts' comment tag.\n         *\n         * @param {HTMLElement} node - Node that will be wrapped.\n         * @param {String} data - Data associated with a binding.\n         * @param {Object} attr - Attribute definition.\n         *\n         * @example\n         *      <div outereach=\"data\" class=\"test\"></div>\n         *      =>\n         *      <!-- ko foreach: data -->\n         *          <div class=\"test\"></div>\n         *      <!-- /ko -->\n         */\n        wrapAttribute: function (node, data, attr) {\n            data = renderer.wrapArgs(data);\n\n            renderer.wrapNode(node, attr.binding, data);\n            node.removeAttribute(attr.name);\n        }\n    };\n\n    renderer.bindings = {\n\n        /**\n         * Appends binding string to the current\n         * 'data-bind' attribute of provided node.\n         *\n         * @param {HTMLElement} node - DOM element whose 'data-bind' attribute will be extended.\n         * @param {String} name - Name of a binding.\n         * @param {String} data - Data associated with the binding.\n         */\n        add: function (node, name, data) {\n            var bindings = this.get(node);\n\n            if (bindings) {\n                bindings += ', ';\n            }\n\n            bindings += name;\n\n            if (data) {\n                bindings += ': ' + data;\n            }\n\n            this.set(node, bindings);\n        },\n\n        /**\n         * Extracts value of a 'data-bind' attribute from provided node.\n         *\n         * @param {HTMLElement} node - Node whose attribute to be extracted.\n         * @returns {String}\n         */\n        get: function (node) {\n            return node.getAttribute('data-bind') || '';\n        },\n\n        /**\n         * Sets 'data-bind' attribute of the specified node\n         * to the provided value.\n         *\n         * @param {HTMLElement} node - Node whose attribute will be altered.\n         * @param {String} bindings - New value of 'data-bind' attribute.\n         */\n        set: function (node, bindings) {\n            node.setAttribute('data-bind', bindings);\n        }\n    };\n\n    renderer\n        .addGlobal(renderer.processAttributes)\n        .addGlobal(renderer.processNodes);\n\n    /**\n     * Collection of default binding conversions.\n     */\n    preset = {\n        nodes: _.object([\n            'if',\n            'text',\n            'with',\n            'scope',\n            'ifnot',\n            'foreach',\n            'component'\n        ], Array.prototype),\n        attributes: _.object([\n            'css',\n            'attr',\n            'html',\n            'with',\n            'text',\n            'click',\n            'event',\n            'submit',\n            'enable',\n            'disable',\n            'options',\n            'visible',\n            'template',\n            'hasFocus',\n            'textInput',\n            'component',\n            'uniqueName',\n            'optionsText',\n            'optionsValue',\n            'checkedValue',\n            'selectedOptions'\n        ], Array.prototype)\n    };\n\n    _.extend(preset.attributes, {\n        if: renderer.handlers.wrapAttribute,\n        ifnot: renderer.handlers.wrapAttribute,\n        innerif: {\n            binding: 'if'\n        },\n        innerifnot: {\n            binding: 'ifnot'\n        },\n        outereach: {\n            binding: 'foreach',\n            handler: renderer.handlers.wrapAttribute\n        },\n        foreach: {\n            name: 'each'\n        },\n        value: {\n            name: 'ko-value'\n        },\n        style: {\n            name: 'ko-style'\n        },\n        checked: {\n            name: 'ko-checked'\n        },\n        disabled: {\n            name: 'ko-disabled',\n            binding: 'disable'\n        },\n        focused: {\n            name: 'ko-focused',\n            binding: 'hasFocus'\n        },\n\n        /**\n         * Custom 'render' attribute handler function. Wraps child elements\n         * of a node with knockout's 'ko template:' comment tag.\n         *\n         * @param {HTMLElement} node - Element to be processed.\n         * @param {String} data - Data specified in 'render' attribute of a node.\n         */\n        render: function (node, data) {\n            data = data || 'getTemplate()';\n            data = renderer.wrapArgs(data);\n\n            renderer.wrapChildren(node, 'template', data);\n            node.removeAttribute('render');\n        }\n    });\n\n    _.extend(preset.nodes, {\n        foreach: {\n            name: 'each'\n        },\n\n        /**\n         * Custom 'render' node handler function.\n         * Replaces node with knockout's 'ko template:' comment tag.\n         *\n         * @param {HTMLElement} node - Element to be processed.\n         * @param {String} data - Data specified in 'args' attribute of a node.\n         */\n        render: function (node, data) {\n            data = data || 'getTemplate()';\n            data = renderer.wrapArgs(data);\n\n            renderer.wrapNode(node, 'template', data);\n            $(node).replaceWith(node.childNodes);\n        }\n    });\n\n    _.each(preset.attributes, function (data, id) {\n        renderer.addAttribute(id, data);\n    });\n\n    _.each(preset.nodes, function (data, id) {\n        renderer.addNode(id, data);\n    });\n\n    return renderer;\n});\n","Magento_Ui/js/lib/knockout/template/loader.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    var licenseRegExp   = /<!--[\\s\\S]*?-->/,\n        defaultPlugin   = 'text',\n        defaultExt      = 'html';\n\n    /**\n     * Checks of provided string contains a file extension.\n     *\n     * @param {String} str - String to be checked.\n     * @returns {Boolean}\n     */\n    function hasFileExtension(str) {\n        return !!~str.indexOf('.') && !!str.split('.').pop();\n    }\n\n    /**\n     * Checks if provided string contains a requirejs's plugin reference.\n     *\n     * @param {String} str - String to be checked.\n     * @returns {Boolean}\n     */\n    function hasPlugin(str) {\n        return !!~str.indexOf('!');\n    }\n\n    /**\n     * Checks if provided string is a full path to the file.\n     *\n     * @param {String} str - String to be checked.\n     * @returns {Boolean}\n     */\n    function isFullPath(str) {\n        return !!~str.indexOf('://');\n    }\n\n    /**\n     * Removes license comment from the provided string.\n     *\n     * @param {String} content - String to be processed.\n     * @returns {String}\n     */\n    function removeLicense(content) {\n        return content.replace(licenseRegExp, function (match) {\n            return ~match.indexOf('/**') ? '' : match;\n        });\n    }\n\n    return {\n\n        /**\n         * Attempts to extract template by provided path from\n         * a DOM element and falls back to a file loading if\n         * none of the DOM nodes was found.\n         *\n         * @param {String} path - Path to the template or a DOM selector.\n         * @returns {jQueryPromise}\n         */\n        loadTemplate: function (path) {\n            var content = this.loadFromNode(path),\n                defer;\n\n            if (content) {\n                defer = $.Deferred();\n\n                defer.resolve(content);\n\n                return defer.promise();\n            }\n\n            return this.loadFromFile(path);\n        },\n\n        /**\n         * Loads template from external file by provided\n         * path, which will be preliminary formatted.\n         *\n         * @param {String} path - Path to the template.\n         * @returns {jQueryPromise}\n         */\n        loadFromFile: function (path) {\n            var loading = $.Deferred();\n\n            path = this.formatPath(path);\n\n            require([path], function (template) {\n                template = removeLicense(template);\n                loading.resolve(template);\n            }, function (err) {\n                loading.reject(err);\n            });\n\n            return loading.promise();\n        },\n\n        /**\n         * Attempts to extract content of a node found by provided selector.\n         *\n         * @param {String} selector - Node's selector (not necessary valid).\n         * @returns {String|Boolean} If specified node doesn't exists\n         *      'false' will be returned, otherwise returns node's content.\n         */\n        loadFromNode: function (selector) {\n            var node;\n\n            try {\n                node =\n                    document.getElementById(selector) ||\n                    document.querySelector(selector);\n\n                return node ? node.innerHTML : false;\n            } catch (e) {\n                return false;\n            }\n        },\n\n        /**\n         * Adds requirejs's plugin and file extension to\n         * to the provided string if it's necessary.\n         *\n         * @param {String} path - Path to be processed.\n         * @returns {String} Formatted path.\n         */\n        formatPath: function (path) {\n            var result = path;\n\n            if (!hasPlugin(path)) {\n                result = defaultPlugin + '!' + result;\n            }\n\n            if (isFullPath(path)) {\n                return result;\n            }\n\n            if (!hasFileExtension(path)) {\n                result += '.' + defaultExt;\n            }\n\n            return result.replace(/^([^\\/]+)/g, '$1/template');\n        }\n    };\n});\n","Magento_Ui/js/lib/knockout/bindings/datepicker.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/** Creates datepicker binding and registers in to ko.bindingHandlers object */\ndefine([\n    'ko',\n    'underscore',\n    'jquery',\n    'mage/translate'\n], function (ko, _, $, $t) {\n    'use strict';\n\n    var defaults = {\n        dateFormat: 'mm\\/dd\\/yyyy',\n        showsTime: false,\n        timeFormat: null,\n        buttonImage: null,\n        buttonImageOnly: null,\n        buttonText: $t('Select Date')\n    };\n\n    ko.bindingHandlers.datepicker = {\n        /**\n         * Initializes calendar widget on element and stores it's value to observable property.\n         * Datepicker binding takes either observable property or object\n         *  { storage: {ko.observable}, options: {Object} }.\n         * For more info about options take a look at \"mage/calendar\" and jquery.ui.datepicker widget.\n         * @param {HTMLElement} el - Element, that binding is applied to\n         * @param {Function} valueAccessor - Function that returns value, passed to binding\n         * @param {object} allBindings\n         * @param {object} viewModel\n         * @param {object} bindingContext\n         */\n        init: function (el, valueAccessor, allBindings, viewModel, bindingContext) {\n            var config = valueAccessor(),\n                observable,\n                options = {};\n\n            _.extend(options, defaults);\n\n            if (typeof config === 'object') {\n                observable = config.storage;\n                _.extend(options, config.options);\n            } else {\n                observable = config;\n            }\n\n            require(['mage/calendar'], function () {\n                $(el).calendar(options);\n\n                ko.utils.registerEventHandler(el, 'change', function () {\n                    observable(this.value);\n                });\n            });\n\n            if (bindingContext.$data) {\n                bindingContext.$data.value.subscribe(function (newVal) {\n                    if (!newVal) {\n                        $(el).val('');\n                    }\n                }, this);\n            }\n\n\n        },\n\n        /**\n         * Update calendar widget on element and stores it's value to observable property.\n         * Datepicker binding takes either observable property or object\n         *  { storage: {ko.observable}, options: {Object} }.\n         * @param {HTMLElement} element - Element, that binding is applied to\n         * @param {Function} valueAccessor - Function that returns value, passed to binding\n         */\n        update: function (element, valueAccessor) {\n            var config = valueAccessor(),\n                $element = $(element),\n                observable,\n                options = {},\n                newVal;\n\n            _.extend(options, defaults);\n\n            if (typeof config === 'object') {\n                observable = config.storage;\n                _.extend(options, config.options);\n            } else {\n                observable = config;\n            }\n\n            require(['moment', 'mage/utils/misc', 'mage/calendar'], function (moment, utils) {\n                if (_.isEmpty(observable())) {\n                    newVal = null;\n                } else {\n                    newVal = moment(\n                        observable(),\n                        utils.convertToMomentFormat(\n                            options.dateFormat + (options.showsTime ? ' ' + options.timeFormat : '')\n                        )\n                    ).toDate();\n                }\n\n                if (!options.timeOnly) {\n                    $element.datepicker('setDate', newVal);\n                    $element.trigger('blur');\n                }\n            });\n        }\n    };\n});\n","Magento_Ui/js/lib/knockout/bindings/fadeVisible.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'ko'\n], function ($, ko) {\n    'use strict';\n\n    ko.bindingHandlers.fadeVisible = {\n        /**\n         * Initially set the element to be instantly visible/hidden depending on the value.\n         *\n         * @param {HTMLElement} element\n         * @param {Function} valueAccessor\n         */\n        init: function (element, valueAccessor) {\n            var value = valueAccessor();\n\n            // Use \"unwrapObservable\" so we can handle values that may or may not be observable\n            $(element).toggle(ko.unwrap(value));\n        },\n\n        /**\n         * Whenever the value subsequently changes, slowly fade the element in or out.\n         *\n         * @param {HTMLElement} element\n         * @param {Function} valueAccessor\n         */\n        update: function (element, valueAccessor) {\n            var value = valueAccessor();\n\n            ko.unwrap(value) ? $(element).fadeIn() : $(element).fadeOut();\n        }\n    };\n});\n","Magento_Ui/js/lib/knockout/bindings/color-picker.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'ko',\n    'jquery',\n    '../template/renderer',\n    'spectrum',\n    'tinycolor'\n], function (ko, $, renderer, spectrum, tinycolor) {\n    'use strict';\n\n    /**\n     * Change color picker status to be enabled or disabled\n     *\n     * @param {HTMLElement} element - Element to apply colorpicker enable/disable status to.\n     * @param {Object} viewModel - Object, which represents view model binded to el.\n     */\n    function changeColorPickerStateBasedOnViewModel(element, viewModel) {\n        $(element).spectrum(viewModel.disabled() ? 'disable' : 'enable');\n    }\n\n    ko.bindingHandlers.colorPicker = {\n        /**\n         * Binding init callback.\n         *\n         * @param {*} element\n         * @param {Function} valueAccessor\n         * @param {Function} allBindings\n         * @param {Object} viewModel\n         */\n        init: function (element, valueAccessor, allBindings, viewModel) {\n            var config = valueAccessor(),\n\n                /** change value */\n                changeValue = function (value) {\n                    if (value == null) {\n                        value = '';\n                    }\n                    config.value(value.toString());\n                };\n\n            config.change = changeValue;\n\n            config.hide = changeValue;\n\n            /** show value */\n            config.show = function () {\n                if (!viewModel.focused()) {\n                    viewModel.focused(true);\n                }\n\n                return true;\n            };\n\n            $(element).spectrum(config);\n\n            changeColorPickerStateBasedOnViewModel(element, viewModel);\n        },\n\n        /**\n         * Reads params passed to binding, parses component declarations.\n         * Fetches for those found and attaches them to the new context.\n         *\n         * @param {HTMLElement} element - Element to apply bindings to.\n         * @param {Function} valueAccessor - Function that returns value, passed to binding.\n         * @param {Object} allBindings - Object, which represents all bindings applied to element.\n         * @param {Object} viewModel - Object, which represents view model binded to element.\n         */\n        update: function (element, valueAccessor, allBindings, viewModel) {\n            var config = valueAccessor();\n\n            /** Initialise value as empty if it is undefined when color picker input is reset **/\n            if (config.value() === undefined) {\n                config.value('');\n            }\n\n            if (tinycolor(config.value()).isValid() || config.value() === '') {\n                $(element).spectrum('set', config.value());\n\n                if (config.value() !== '') {\n                    config.value($(element).spectrum('get').toString());\n                }\n            }\n\n            changeColorPickerStateBasedOnViewModel(element, viewModel);\n        }\n    };\n\n    renderer.addAttribute('colorPicker');\n});\n","Magento_Ui/js/lib/knockout/bindings/collapsible.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'ko',\n    'jquery',\n    'underscore',\n    '../template/renderer'\n], function (ko, $, _, renderer) {\n    'use strict';\n\n    var collapsible,\n        defaults;\n\n    defaults = {\n        closeOnOuter: true,\n        onTarget: false,\n        openClass: '_active',\n        as: '$collapsible'\n    };\n\n    collapsible = {\n\n        /**\n         * Sets 'opened' property to true.\n         */\n        open: function () {\n            this.opened(true);\n        },\n\n        /**\n         * Sets 'opened' property to false.\n         */\n        close: function () {\n            this.opened(false);\n        },\n\n        /**\n         * Toggles value of the 'opened' property.\n         */\n        toggle: function () {\n            this.opened(!this.opened());\n        }\n    };\n\n    /**\n     * Document click handler which in case if event target is not\n     * a descendant of provided container element, closes collapsible model.\n     *\n     * @param {HTMLElement} container\n     * @param {Object} model\n     * @param {EventObject} e\n     */\n    function onOuterClick(container, model, e) {\n        var target = e.target;\n\n        if (target !== container && !container.contains(target)) {\n            model.close();\n        }\n    }\n\n    /**\n     * Creates 'css' binding which toggles\n     * class specified in 'name' parameter.\n     *\n     * @param {Object} model\n     * @param {String} name\n     * @returns {Object}\n     */\n    function getClassBinding(model, name) {\n        var binding = {};\n\n        binding[name] = model.opened;\n\n        return {\n            css: binding\n        };\n    }\n\n    /**\n     * Prepares configuration for the binding based\n     * on a default properties and provided options.\n     *\n     * @param {Object} [options={}]\n     * @returns {Object} Complete instance configuration.\n     */\n    function buildConfig(options) {\n        if (typeof options !== 'object') {\n            options = {};\n        }\n\n        return _.extend({}, defaults, options);\n    }\n\n    ko.bindingHandlers.collapsible = {\n\n        /**\n         * Initializes 'collapsible' binding.\n         */\n        init: function (element, valueAccessor, allBindings, viewModel, bindingCtx) {\n            var $collapsible = Object.create(collapsible),\n                config = buildConfig(valueAccessor()),\n                outerClick,\n                bindings;\n\n            _.bindAll($collapsible, 'open', 'close', 'toggle');\n\n            $collapsible.opened = ko.observable(!!config.opened);\n\n            bindingCtx[config.as] = $collapsible;\n\n            if (config.closeOnOuter) {\n                outerClick = onOuterClick.bind(null, element, $collapsible);\n\n                $(document).on('click', outerClick);\n\n                ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\n                    $(document).off('click', outerClick);\n                });\n            }\n\n            if (config.openClass) {\n                bindings = getClassBinding($collapsible, config.openClass);\n\n                ko.applyBindingsToNode(element, bindings, bindingCtx);\n            }\n\n            if (config.onTarget) {\n                $(element).on('click', $collapsible.toggle);\n            }\n\n            if (viewModel && _.isFunction(viewModel.on)) {\n                viewModel.on({\n                    close:          $collapsible.close,\n                    open:           $collapsible.open,\n                    toggleOpened:   $collapsible.toggle\n                });\n            }\n        }\n    };\n\n    ko.bindingHandlers.closeCollapsible = {\n\n        /**\n         * Creates listener for the click event on provided DOM element,\n         * which closes associated with it collapsible model.\n         */\n        init: function (element, valueAccessor, allBindings, viewModel, bindingCtx) {\n            var name = valueAccessor() || defaults.as,\n                $collapsible = bindingCtx[name];\n\n            if ($collapsible) {\n                $(element).on('click', $collapsible.close);\n            }\n        }\n    };\n\n    ko.bindingHandlers.openCollapsible = {\n\n        /**\n         * Creates listener for the click event on provided DOM element,\n         * which opens associated with it collapsible model.\n         */\n        init: function (element, valueAccessor, allBindings, viewModel, bindingCtx) {\n            var name = valueAccessor() || defaults.as,\n                $collapsible = bindingCtx[name];\n\n            if ($collapsible) {\n                $(element).on('click', $collapsible.open);\n            }\n        }\n    };\n\n    ko.bindingHandlers.toggleCollapsible = {\n\n        /**\n         * Creates listener for the click event on provided DOM element,\n         * which toggles associated with it collapsible model.\n         */\n        init: function (element, valueAccessor, allBindings, viewModel, bindingCtx) {\n            var name = valueAccessor() || defaults.as,\n                $collapsible = bindingCtx[name];\n\n            if ($collapsible) {\n                $(element).on('click', $collapsible.toggle);\n            }\n        }\n    };\n\n    renderer\n        .addAttribute('collapsible')\n        .addAttribute('openCollapsible')\n        .addAttribute('closeCollapsible')\n        .addAttribute('toggleCollapsible');\n});\n","Magento_Ui/js/lib/knockout/bindings/mage-init.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'ko',\n    'underscore',\n    'mage/apply/main'\n], function (ko, _, mage) {\n    'use strict';\n\n    ko.bindingHandlers.mageInit = {\n        /**\n         * Initializes components assigned to HTML elements.\n         *\n         * @param {HTMLElement} el\n         * @param {Function} valueAccessor\n         */\n        init: function (el, valueAccessor) {\n            var data = valueAccessor();\n\n            _.each(data, function (config, component) {\n                mage.applyFor(el, config, component);\n            });\n        }\n    };\n});\n","Magento_Ui/js/lib/knockout/bindings/i18n.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'ko',\n    'module',\n    '../template/renderer',\n    'mage/translate'\n], function ($, ko, module, renderer) {\n    'use strict';\n\n    var locations = {\n            'legend': 'Caption for the fieldset element',\n            'label': 'Label for an input element.',\n            'button': 'Push button',\n            'a': 'Link label',\n            'b': 'Bold text',\n            'strong': 'Strong emphasized text',\n            'i': 'Italic text',\n            'em': 'Emphasized text',\n            'u': 'Underlined text',\n            'sup': 'Superscript text',\n            'sub': 'Subscript text',\n            'span': 'Span element',\n            'small': 'Smaller text',\n            'big': 'Bigger text',\n            'address': 'Contact information',\n            'blockquote': 'Long quotation',\n            'q': 'Short quotation',\n            'cite': 'Citation',\n            'caption': 'Table caption',\n            'abbr': 'Abbreviated phrase',\n            'acronym': 'An acronym',\n            'var': 'Variable part of a text',\n            'dfn': 'Term',\n            'strike': 'Strikethrough text',\n            'del': 'Deleted text',\n            'ins': 'Inserted text',\n            'h1': 'Heading level 1',\n            'h2': 'Heading level 2',\n            'h3': 'Heading level 3',\n            'h4': 'Heading level 4',\n            'h5': 'Heading level 5',\n            'h6': 'Heading level 6',\n            'center': 'Centered text',\n            'select': 'List options',\n            'img': 'Image',\n            'input': 'Form element'\n        },\n\n        /**\n         * Generates [data-translate] attribute's value\n         * @param {Object} translationData\n         * @param {String} location\n         */\n        composeTranslateAttr = function (translationData, location) {\n            var obj = [{\n                'shown': translationData.shown,\n                'translated': translationData.translated,\n                'original': translationData.original,\n                'location': locations[location] || 'Text'\n            }];\n\n            return JSON.stringify(obj);\n        },\n\n        /**\n         * Sets text for the element\n         * @param {Object} el\n         * @param {String} text\n         */\n        setText = function (el, text) {\n            $(el).text(text);\n        },\n\n        /**\n         * Sets [data-translate] attribute for the element\n         * @param {Object} el - The element which is binded\n         * @param {String} original - The original value of the element\n         */\n        setTranslateProp = function (el, original) {\n            var location = $(el).prop('tagName').toLowerCase(),\n                translated = $.mage.__(original),\n                translationData = {\n                    shown: translated,\n                    translated: translated,\n                    original: original\n                },\n                translateAttr = composeTranslateAttr(translationData, location);\n\n            $(el).attr('data-translate', translateAttr);\n\n            setText(el, translationData.shown);\n        },\n\n        /**\n         * Checks if node represents ko virtual node (nodeType === 8, nodeName === '#comment').\n         *\n         * @param {HTMLElement} node\n         * @returns {Boolean}\n         */\n        isVirtualElement = function (node) {\n            return node.nodeType === 8;\n        },\n\n        /**\n        * Checks if it's real DOM element\n        * in case of virtual element, returns span wrapper\n        * @param {Object} el\n        * @param {bool} isUpdate\n        * @return {Object} el\n        */\n        getRealElement = function (el, isUpdate) {\n            if (isVirtualElement(el)) {\n                if (isUpdate) {\n                    return $(el).next('span');\n                }\n\n                return $('<span></span>').insertAfter(el);\n            }\n\n            return el;\n        },\n\n        /**\n         * execute i18n binding\n         * @param {Object} element\n         * @param {Function} valueAccessor\n         * @param {bool} isUpdate\n         */\n        execute = function (element, valueAccessor, isUpdate) {\n            var original = ko.unwrap(valueAccessor() || ''),\n                el = getRealElement(element, isUpdate),\n                inlineTranslation = (module.config() || {}).inlineTranslation;\n\n            if (inlineTranslation) {\n                setTranslateProp(el, original);\n            } else {\n                setText(el, $.mage.__(original));\n            }\n        };\n\n    /**\n     * i18n binding\n     * @property {Function}  init\n     * @property {Function}  update\n     */\n    ko.bindingHandlers.i18n = {\n\n        /**\n         * init i18n binding\n         * @param {Object} element\n         * @param {Function} valueAccessor\n         */\n        init: function (element, valueAccessor) {\n            execute(element, valueAccessor);\n        },\n\n        /**\n         * update i18n binding\n         * @param {Object} element\n         * @param {Function} valueAccessor\n         */\n        update: function (element, valueAccessor) {\n            execute(element, valueAccessor, true);\n        }\n    };\n\n    ko.virtualElements.allowedBindings.i18n = true;\n\n    renderer\n        .addNode('translate', {\n            binding: 'i18n'\n        })\n        .addAttribute('translate', {\n            binding: 'i18n'\n        });\n});\n","Magento_Ui/js/lib/knockout/bindings/simple-checked.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'ko',\n    '../template/renderer'\n], function (ko, renderer) {\n    'use strict';\n\n    ko.bindingHandlers.simpleChecked = {\n        'after': ['attr'],\n\n        /**\n         * Implements same functionality as a standard 'simpleChecked' binding,\n         * but with a difference that it wont' change values array if\n         * value of DOM element changes.\n         */\n        init: function (element, valueAccessor) {\n            var isCheckbox = element.type === 'checkbox',\n                isRadio = element.type === 'radio',\n                updateView,\n                updateModel;\n\n            if (!isCheckbox && !isRadio) {\n                return;\n            }\n\n            /**\n             * Updates checked observable\n             */\n            updateModel = function () {\n                var  modelValue = ko.dependencyDetection.ignore(valueAccessor),\n                    isChecked = element.checked;\n\n                if (ko.computedContext.isInitial()) {\n                    return;\n                }\n\n                if (modelValue.peek() === isChecked) {\n                    return;\n                }\n\n                if (isRadio && !isChecked) {\n                    return;\n                }\n\n                modelValue(isChecked);\n            };\n\n            /**\n             * Updates checkbox state\n             */\n            updateView = function () {\n                var modelValue = ko.utils.unwrapObservable(valueAccessor());\n\n                element.checked = !!modelValue;\n            };\n\n            ko.utils.registerEventHandler(element, 'change', updateModel);\n\n            ko.computed(updateModel, null, {\n                disposeWhenNodeIsRemoved: element\n            });\n            ko.computed(updateView, null, {\n                disposeWhenNodeIsRemoved: element\n            });\n        }\n    };\n\n    ko.expressionRewriting._twoWayBindings.simpleChecked = true;\n\n    renderer.addAttribute('simpleChecked');\n    renderer.addAttribute('simple-checked', {\n        binding: 'simpleChecked'\n    });\n});\n","Magento_Ui/js/lib/knockout/bindings/bootstrap.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(function (require) {\n    'use strict';\n\n    var renderer = require('../template/renderer');\n\n    renderer.addAttribute('repeat', renderer.handlers.wrapAttribute);\n\n    renderer.addAttribute('outerfasteach', {\n        binding: 'fastForEach',\n        handler: renderer.handlers.wrapAttribute\n    });\n\n    renderer\n        .addNode('repeat')\n        .addNode('fastForEach');\n\n    return {\n        resizable:      require('./resizable'),\n        i18n:           require('./i18n'),\n        scope:          require('./scope'),\n        range:          require('./range'),\n        mageInit:       require('./mage-init'),\n        keyboard:       require('./keyboard'),\n        optgroup:       require('./optgroup'),\n        afterRender:     require('./after-render'),\n        autoselect:     require('./autoselect'),\n        datepicker:     require('./datepicker'),\n        outerClick:     require('./outer_click'),\n        fadeVisible:    require('./fadeVisible'),\n        collapsible:    require('./collapsible'),\n        staticChecked:  require('./staticChecked'),\n        simpleChecked:  require('./simple-checked'),\n        bindHtml:       require('./bind-html'),\n        tooltip:        require('./tooltip'),\n        repeat:         require('knockoutjs/knockout-repeat'),\n        fastForEach:    require('knockoutjs/knockout-fast-foreach'),\n        colorPicker:    require('./color-picker')\n    };\n});\n","Magento_Ui/js/lib/knockout/bindings/bind-html.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'ko',\n    'underscore',\n    'mage/apply/main',\n    '../template/renderer'\n], function (ko, _, mage, renderer) {\n    'use strict';\n\n    /**\n     * Set html to node element.\n     *\n     * @param {HTMLElement} el - Element to apply bindings to.\n     * @param {Function} html - Observable html content.\n     */\n    function setHtml(el, html) {\n        ko.utils.emptyDomNode(el);\n        html = ko.utils.unwrapObservable(html);\n\n        if (!_.isNull(html) && !_.isUndefined(html)) {\n            if (!_.isString(html)) {\n                html = html.toString();\n            }\n\n            el.innerHTML = html;\n        }\n    }\n\n    /**\n     * Apply bindings and call magento attributes parser.\n     *\n     * @param {HTMLElement} el - Element to apply bindings to.\n     * @param {ko.bindingContext} ctx - Instance of ko.bindingContext, passed to binding initially.\n     */\n    function applyComponents(el, ctx) {\n        ko.utils.arrayForEach(el.childNodes, ko.cleanNode);\n        ko.applyBindingsToDescendants(ctx, el);\n        mage.apply();\n    }\n\n    ko.bindingHandlers.bindHtml = {\n        /**\n         * Scope binding's init method.\n         *\n         * @returns {Object} - Knockout declaration for it to let binding control descendants.\n         */\n        init: function () {\n            return {\n                controlsDescendantBindings: true\n            };\n        },\n\n        /**\n         * Reads params passed to binding.\n         * Set html to node element, apply bindings and call magento attributes parser.\n         *\n         * @param {HTMLElement} el - Element to apply bindings to.\n         * @param {Function} valueAccessor - Function that returns value, passed to binding.\n         * @param {Object} allBindings - Object, which represents all bindings applied to element.\n         * @param {Object} viewModel - Object, which represents view model binded to el.\n         * @param {ko.bindingContext} bindingContext - Instance of ko.bindingContext, passed to binding initially.\n         */\n        update: function (el, valueAccessor, allBindings, viewModel, bindingContext) {\n            setHtml(el, valueAccessor());\n            applyComponents(el, bindingContext);\n        }\n    };\n\n    renderer.addAttribute('bindHtml');\n});\n","Magento_Ui/js/lib/knockout/bindings/autoselect.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'ko',\n    'jquery',\n    '../template/renderer'\n], function (ko, $, renderer) {\n    'use strict';\n\n    /**\n     * 'Focus' event handler.\n     *\n     * @param {EventObject} e\n     */\n    function onFocus(e) {\n        e.target.select();\n    }\n\n    ko.bindingHandlers.autoselect = {\n\n        /**\n         * Adds event handler which automatically\n         * selects inputs' element text when field gets focused.\n         */\n        init: function (element, valueAccessor) {\n            var enabled = ko.unwrap(valueAccessor());\n\n            if (enabled !== false) {\n                $(element).on('focus', onFocus);\n            }\n        }\n    };\n\n    renderer.addAttribute('autoselect');\n});\n","Magento_Ui/js/lib/knockout/bindings/scope.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/** Creates scope binding and registers in to ko.bindingHandlers object */\ndefine([\n    'ko',\n    'uiRegistry',\n    'mage/translate',\n    '../template/renderer',\n    'jquery',\n    '../../logger/console-logger'\n], function (ko, registry, $t, renderer, $, consoleLogger) {\n    'use strict';\n\n    /**\n     * Creates child context with passed component param as $data. Extends context with $t helper.\n     * Applies bindings to descendant nodes.\n     * @param {HTMLElement} el - element to apply bindings to.\n     * @param {ko.bindingContext} bindingContext - instance of ko.bindingContext, passed to binding initially.\n     * @param {Promise} promise - instance of jQuery promise\n     * @param {Object} component - component instance to attach to new context\n     */\n    function applyComponents(el, bindingContext, promise, component) {\n        promise.resolve();\n        component = bindingContext.createChildContext(component);\n\n        ko.utils.extend(component, {\n            $t: $t\n        });\n\n        ko.utils.arrayForEach(ko.virtualElements.childNodes(el), ko.cleanNode);\n\n        ko.applyBindingsToDescendants(component, el);\n    }\n\n    ko.bindingHandlers.scope = {\n\n        /**\n         * Scope binding's init method.\n         * @returns {Object} - Knockout declaration for it to let binding control descendants.\n         */\n        init: function () {\n            return {\n                controlsDescendantBindings: true\n            };\n        },\n\n        /**\n         * Reads params passed to binding, parses component declarations.\n         * Fetches for those found and attaches them to the new context.\n         * @param {HTMLElement} el - Element to apply bindings to.\n         * @param {Function} valueAccessor - Function that returns value, passed to binding.\n         * @param {Object} allBindings - Object, which represents all bindings applied to element.\n         * @param {Object} viewModel - Object, which represents view model binded to el.\n         * @param {ko.bindingContext} bindingContext - Instance of ko.bindingContext, passed to binding initially.\n         */\n        update: function (el, valueAccessor, allBindings, viewModel, bindingContext) {\n            var component = valueAccessor(),\n                promise = $.Deferred(),\n                apply = applyComponents.bind(this, el, bindingContext, promise),\n                loggerUtils = consoleLogger.utils;\n\n            if (typeof component === 'string') {\n                loggerUtils.asyncLog(\n                    promise,\n                    {\n                        data: {\n                            component: component\n                        },\n                        messages: loggerUtils.createMessages(\n                            'requestingComponent',\n                            'requestingComponentIsLoaded',\n                            'requestingComponentIsFailed'\n                        )\n                    }\n                );\n\n                registry.get(component, apply);\n            } else if (typeof component === 'function') {\n                component(apply);\n            }\n        }\n    };\n\n    ko.virtualElements.allowedBindings.scope = true;\n\n    renderer\n        .addNode('scope')\n        .addAttribute('scope', {\n            name: 'ko-scope'\n        });\n});\n"}
}});
