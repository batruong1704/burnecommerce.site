<?php /** @var \Extension\GiftCard\Block\GiftCard $block */ $collection = $block->getGiftCardCollection(); $history = $block->getGiftCardHistory(); ?> <div class="block block-balance-giftcard"><div class="block-title"><strong>GiftCard Information</strong></div><div class="block-content"><div class="box box-information"><strong class="box-title"><span>Balance</span></strong> <div class="box-content"><p><?php echo $block->formatCurrency($block->getGiftCardBalance(), true);?></p></div></div><?php /*dump($block->isRedeemable()); die();*/ if ($block->isRedeemable()): ?> <div class="box box-redeem"><strong class="box-title"><span>Redeem Code</span></strong> <div class="box-content"><form action="<?php echo $block->getUrl('giftcard/index/redeem'); ?>" method="post" class="form form-giftcard-redeem"><input type="text" name="code" id="code" title="Gift Code" class="input-text required-entry" data-validate="{required:true}" placeholder="Enter gift card code" aria-required="true" style="width: 200px;" required><button type="submit" class="action subscribe primary" data-action="redeem-code" title="Redeem Code" style="display: inline-block"> Redeem</button></form></div></div><?php endif; ?></div></div><div class="block block-balance-history"><div class="block-title" style="margin-bottom: 0"><strong>History</strong></div><div class="block-content"><table class="data table" id="history-data-table"><caption class="table-caption">GiftCard History</caption><thead><tr><th scope="col" class="col date">Date</th><th scope="col" class="col code">Code</th><th scope="col" class="col amount">Amount</th><th scope="col" class="col action">Action</th></tr></thead><tbody><?php foreach ($history as $key => $data): ?> <tr><td data-th="date" class="col date"><?php echo $block->formatDate($data->getActionTime(), \IntlDateFormatter::MEDIUM); ?></td><td data-th="code" class="col code"><?php echo $block->getCodeById($data->getGiftcardId()); ?></td><td data-th="amount" class="col amount"><?php echo $block->formatCurrency($data->getAmount(), true); ?></td><td data-th="action" class="col action"><?php echo $data->getAction(); ?></td></tr><?php endforeach; ?></tbody></table></div></div>